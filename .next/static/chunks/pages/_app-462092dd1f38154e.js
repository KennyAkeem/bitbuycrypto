(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{89743:function(e,t,i){"use strict";i.r(t),i.d(t,{Headers:function(){return n},Request:function(){return a},Response:function(){return o},fetch:function(){return s}});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw Error("unable to locate global object")}();let s=r.fetch;t.default=r.fetch.bind(r);let n=r.Headers,a=r.Request,o=r.Response},81879:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(89743)),n=r(i(29577));class a{constructor(e){var t,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(i=e.isMaybeSingle)&&void 0!==i&&i,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let i=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,i,r,s;let a=null,o=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){let i=await e.text();""===i||(o="text/csv"===this.headers.get("Accept")?i:this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?i:JSON.parse(i))}let s=null===(i=this.headers.get("Prefer"))||void 0===i?void 0:i.match(/count=(exact|planned|estimated)/),n=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");s&&n&&n.length>1&&(l=parseInt(n[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,u=200,c="OK")}catch(i){404===e.status&&""===t?(u=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(s=null==a?void 0:a.details)||void 0===s?void 0:s.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&this.shouldThrowOnError)throw new n.default(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(e=>{var t,i,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(i=null==e?void 0:e.stack)&&void 0!==i?i:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}}t.default=a},40435:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(89527)),n=r(i(28483));class a{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=r}from(e){let t=new URL(`${this.url}/${e}`);return new s.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:r=!1,count:s}={}){var a;let o,l;let u=new URL(`${this.url}/rpc/${e}`);i||r?(o=i?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{u.searchParams.append(e,t)})):(o="POST",l=t);let c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new n.default({method:o,url:u,headers:c,schema:this.schemaName,body:l,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}}t.default=a},29577:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=i},28483:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(47486));class n extends s.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let i=Array.from(new Set(t)).map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");let n=void 0===i?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){let r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}}t.default=n},89527:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(28483));class n{constructor(e,{headers:t={},schema:i,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=i,this.fetch=r}select(e,t){let{head:i=!1,count:r}=null!=t?t:{},n=!1,a=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new s.default({method:i?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:i=!0}={}){var r;if(t&&this.headers.append("Prefer",`count=${t}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:r,defaultToNull:n=!0}={}){var a;if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e,{count:t}={}){var i;return t&&this.headers.append("Prefer",`count=${t}`),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}t.default=n},47486:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(81879));class n extends s.default{select(e){let t=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:r,referencedTable:s=r}={}){let n=s?`${s}.order`:"order",a=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===i?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){let r=void 0===i?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:r=i}={}){let s=void 0===r?"offset":`${r}.offset`,n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(n,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:s=!1,format:n="text"}={}){var a;let o=[e?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}t.default=n},50159:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;let s=r(i(40435));t.PostgrestClient=s.default;let n=r(i(89527));t.PostgrestQueryBuilder=n.default;let a=r(i(28483));t.PostgrestFilterBuilder=a.default;let o=r(i(47486));t.PostgrestTransformBuilder=o.default;let l=r(i(81879));t.PostgrestBuilder=l.default;let u=r(i(29577));t.PostgrestError=u.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default}},78702:function(e){var t;t=function(){"use strict";let e=new Map,t={set(t,i,r){e.has(t)||e.set(t,new Map);let s=e.get(t);s.has(i)||0===s.size?s.set(i,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(t,i)=>e.has(t)&&e.get(t).get(i)||null,remove(t,i){if(!e.has(t))return;let r=e.get(t);r.delete(i),0===r.size&&e.delete(t)}},i="transitionend",r=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),s=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),n=e=>{e.dispatchEvent(new Event(i))},a=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),o=e=>a(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(r(e)):null,l=e=>{if(!a(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){let t=e.closest("summary");if(t&&t.parentNode!==i||null===t)return!1}return t},u=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),c=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null},h=()=>{},d=e=>{e.offsetHeight},f=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],m=()=>"rtl"===document.documentElement.dir,g=e=>{var t;t=()=>{let t=f();if(t){let i=e.NAME,r=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=r,e.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of p)e()}),p.push(t)):t()},b=(e,t=[],i=e)=>"function"==typeof e?e.call(...t):i,y=(e,t,r=!0)=>{if(!r)return void b(e);let s=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e),r=Number.parseFloat(t),s=Number.parseFloat(i);return r||s?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5,a=!1,o=({target:r})=>{r===t&&(a=!0,t.removeEventListener(i,o),b(e))};t.addEventListener(i,o),setTimeout(()=>{a||n(t)},s)},v=(e,t,i,r)=>{let s=e.length,n=e.indexOf(t);return -1===n?!i&&r?e[s-1]:e[0]:(n+=i?1:-1,r&&(n=(n+s)%s),e[Math.max(0,Math.min(n,s-1))])},w=/[^.]*(?=\..*)\.|.*/,_=/\..*/,x=/::\d+$/,k={},j=1,S={mouseenter:"mouseover",mouseleave:"mouseout"},T=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function E(e,t){return t&&`${t}::${j++}`||e.uidEvent||j++}function A(e){let t=E(e);return e.uidEvent=t,k[t]=k[t]||{},k[t]}function C(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function O(e,t,i){let r="string"==typeof t,s=I(e);return T.has(s)||(s=e),[r,r?i:t||i,s]}function P(e,t,i,r,s){var n,a;if("string"!=typeof t||!e)return;let[o,l,u]=O(t,i,r);if(t in S){let e;e=l,l=function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}let c=A(e),h=c[u]||(c[u]={}),d=C(h,l,o?i:null);if(d)return void(d.oneOff=d.oneOff&&s);let f=E(l,t.replace(w,"")),p=o?(n=l,function t(r){let s=e.querySelectorAll(i);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(let o of s)if(o===a)return N(r,{delegateTarget:a}),t.oneOff&&L.off(e,r.type,i,n),n.apply(a,[r])}):(a=l,function t(i){return N(i,{delegateTarget:e}),t.oneOff&&L.off(e,i.type,a),a.apply(e,[i])});p.delegationSelector=o?i:null,p.callable=l,p.oneOff=s,p.uidEvent=f,h[f]=p,e.addEventListener(u,p,o)}function R(e,t,i,r,s){let n=C(t[i],r,s);n&&(e.removeEventListener(i,n,!!s),delete t[i][n.uidEvent])}function I(e){return S[e=e.replace(_,"")]||e}let L={on(e,t,i,r){P(e,t,i,r,!1)},one(e,t,i,r){P(e,t,i,r,!0)},off(e,t,i,r){if("string"!=typeof t||!e)return;let[s,n,a]=O(t,i,r),o=a!==t,l=A(e),u=l[a]||{},c=t.startsWith(".");if(void 0===n){if(c)for(let i of Object.keys(l))!function(e,t,i,r){for(let[s,n]of Object.entries(t[i]||{}))s.includes(r)&&R(e,t,i,n.callable,n.delegationSelector)}(e,l,i,t.slice(1));for(let[i,r]of Object.entries(u)){let s=i.replace(x,"");o&&!t.includes(s)||R(e,l,a,r.callable,r.delegationSelector)}}else{if(!Object.keys(u).length)return;R(e,l,a,n,s?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;let r=f(),s=null,n=!0,a=!0,o=!1;t!==I(t)&&r&&(s=r.Event(t,i),r(e).trigger(s),n=!s.isPropagationStopped(),a=!s.isImmediatePropagationStopped(),o=s.isDefaultPrevented());let l=N(new Event(t,{bubbles:n,cancelable:!0}),i);return o&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function N(e,t={}){for(let[i,r]of Object.entries(t))try{e[i]=r}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>r})}return e}function D(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function $(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}let M={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${$(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${$(t)}`)},getDataAttributes(e){if(!e)return{};let t={};for(let i of Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let r=i.replace(/^bs/,"");t[r=r.charAt(0).toLowerCase()+r.slice(1)]=D(e.dataset[i])}return t},getDataAttribute:(e,t)=>D(e.getAttribute(`data-bs-${$(t)}`))};class B{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let i=a(t)?M.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...a(t)?M.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[i,r]of Object.entries(t)){let t=e[i],n=a(t)?"element":s(t);if(!new RegExp(r).test(n))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${n}" but expected type "${r}".`)}}}class U extends B{constructor(e,i){super(),(e=o(e))&&(this._element=e,this._config=this._getConfig(i),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){for(let e of(t.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,t,i=!0){y(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(o(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}let F=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t?t.split(",").map(e=>r(e)).join(","):null},z={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){let i=[],r=e.parentNode.closest(t);for(;r;)i.push(r),r=r.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!u(e)&&l(e))},getSelectorFromElement(e){let t=F(e);return t&&z.findOne(t)?t:null},getElementFromSelector(e){let t=F(e);return t?z.findOne(t):null},getMultipleElementsFromSelector(e){let t=F(e);return t?z.find(t):[]}},V=(e,t="hide")=>{let i=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;L.on(document,i,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),u(this))return;let s=z.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(s)[t]()})},W=".bs.alert",q=`close${W}`,H=`closed${W}`;class K extends U{static get NAME(){return"alert"}close(){if(L.trigger(this._element,q).defaultPrevented)return;this._element.classList.remove("show");let e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),L.trigger(this._element,H),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=K.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}V(K,"close"),g(K);let J='[data-bs-toggle="button"]';class G extends U{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){let t=G.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}L.on(document,"click.bs.button.data-api",J,e=>{e.preventDefault();let t=e.target.closest(J);G.getOrCreateInstance(t).toggle()}),g(G);let Y=".bs.swipe",X=`touchstart${Y}`,Z=`touchmove${Y}`,Q=`touchend${Y}`,ee=`pointerdown${Y}`,et=`pointerup${Y}`,ei={endCallback:null,leftCallback:null,rightCallback:null},er={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class es extends B{constructor(e,t){super(),this._element=e,e&&es.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ei}static get DefaultType(){return er}static get NAME(){return"swipe"}dispose(){L.off(this._element,Y)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),b(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let t=e/this._deltaX;this._deltaX=0,t&&b(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,ee,e=>this._start(e)),L.on(this._element,et,e=>this._end(e)),this._element.classList.add("pointer-event")):(L.on(this._element,X,e=>this._start(e)),L.on(this._element,Z,e=>this._move(e)),L.on(this._element,Q,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let en=".bs.carousel",ea=".data-api",eo="next",el="prev",eu="left",ec="right",eh=`slide${en}`,ed=`slid${en}`,ef=`keydown${en}`,ep=`mouseenter${en}`,em=`mouseleave${en}`,eg=`dragstart${en}`,eb=`load${en}${ea}`,ey=`click${en}${ea}`,ev="carousel",ew="active",e_=".active",ex=".carousel-item",ek=e_+ex,ej={ArrowLeft:ec,ArrowRight:eu},eS={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},eT={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class eE extends U{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ev&&this.cycle()}static get Default(){return eS}static get DefaultType(){return eT}static get NAME(){return"carousel"}next(){this._slide(eo)}nextWhenVisible(){!document.hidden&&l(this._element)&&this.next()}prev(){this._slide(el)}pause(){this._isSliding&&n(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?L.one(this._element,ed,()=>this.cycle()):this.cycle())}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void L.one(this._element,ed,()=>this.to(e));let i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?eo:el,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&L.on(this._element,ef,e=>this._keydown(e)),"hover"===this._config.pause&&(L.on(this._element,ep,()=>this.pause()),L.on(this._element,em,()=>this._maybeEnableCycle())),this._config.touch&&es.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of z.find(".carousel-item img",this._element))L.on(e,eg,e=>e.preventDefault());this._swipeHelper=new es(this._element,{leftCallback:()=>this._slide(this._directionToOrder(eu)),rightCallback:()=>this._slide(this._directionToOrder(ec)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=ej[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=z.findOne(e_,this._indicatorsElement);t.classList.remove(ew),t.removeAttribute("aria-current");let i=z.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(ew),i.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let i=this._getActive(),r=e===eo,s=t||v(this._getItems(),i,r,this._config.wrap);if(s===i)return;let n=this._getItemIndex(s),a=t=>L.trigger(this._element,t,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:n});if(a(eh).defaultPrevented||!i||!s)return;let o=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(n),this._activeElement=s;let l=r?"carousel-item-start":"carousel-item-end",u=r?"carousel-item-next":"carousel-item-prev";s.classList.add(u),d(s),i.classList.add(l),s.classList.add(l),this._queueCallback(()=>{s.classList.remove(l,u),s.classList.add(ew),i.classList.remove(ew,u,l),this._isSliding=!1,a(ed)},i,this._isAnimated()),o&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return z.findOne(ek,this._element)}_getItems(){return z.find(ex,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return m()?e===eu?el:eo:e===eu?eo:el}_orderToDirection(e){return m()?e===el?eu:ec:e===el?ec:eu}static jQueryInterface(e){return this.each(function(){let t=eE.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}L.on(document,ey,"[data-bs-slide], [data-bs-slide-to]",function(e){let t=z.getElementFromSelector(this);if(!t||!t.classList.contains(ev))return;e.preventDefault();let i=eE.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?i.to(r):"next"===M.getDataAttribute(this,"slide")?i.next():i.prev(),void i._maybeEnableCycle()}),L.on(window,eb,()=>{for(let e of z.find('[data-bs-ride="carousel"]'))eE.getOrCreateInstance(e)}),g(eE);let eA=".bs.collapse",eC=`show${eA}`,eO=`shown${eA}`,eP=`hide${eA}`,eR=`hidden${eA}`,eI=`click${eA}.data-api`,eL="show",eN="collapse",eD="collapsing",e$=`:scope .${eN} .${eN}`,eM='[data-bs-toggle="collapse"]',eB={parent:null,toggle:!0},eU={parent:"(null|element)",toggle:"boolean"};class eF extends U{constructor(e,t){for(let i of(super(e,t),this._isTransitioning=!1,this._triggerArray=[],z.find(eM))){let e=z.getSelectorFromElement(i),t=z.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return eB}static get DefaultType(){return eU}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>eF.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning||L.trigger(this._element,eC).defaultPrevented)return;for(let t of e)t.hide();let t=this._getDimension();this._element.classList.remove(eN),this._element.classList.add(eD),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(eD),this._element.classList.add(eN,eL),this._element.style[t]="",L.trigger(this._element,eO)},this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,eP).defaultPrevented)return;let e=this._getDimension();for(let t of(this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,d(this._element),this._element.classList.add(eD),this._element.classList.remove(eN,eL),this._triggerArray)){let e=z.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(eD),this._element.classList.add(eN),L.trigger(this._element,eR)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(eL)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=o(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let e of this._getFirstLevelChildren(eM)){let t=z.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(e){let t=z.find(e$,this._config.parent);return z.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let i=eF.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw TypeError(`No method named "${e}"`);i[e]()}})}}L.on(document,eI,eM,function(e){for(let t of(("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault(),z.getMultipleElementsFromSelector(this)))eF.getOrCreateInstance(t,{toggle:!1}).toggle()}),g(eF);var ez="bottom",eV="right",eW="left",eq="auto",eH=["top",ez,eV,eW],eK="start",eJ="clippingParents",eG="viewport",eY="popper",eX="reference",eZ=eH.reduce(function(e,t){return e.concat([t+"-"+eK,t+"-end"])},[]),eQ=[].concat(eH,[eq]).reduce(function(e,t){return e.concat([t,t+"-"+eK,t+"-end"])},[]),e0="beforeRead",e1="read",e2="afterRead",e6="beforeMain",e4="main",e5="afterMain",e8="beforeWrite",e3="write",e9="afterWrite",e7=[e0,e1,e2,e6,e4,e5,e8,e3,e9];function te(e){return e?(e.nodeName||"").toLowerCase():null}function tt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ti(e){return e instanceof tt(e).Element||e instanceof Element}function tr(e){return e instanceof tt(e).HTMLElement||e instanceof HTMLElement}function ts(e){return"undefined"!=typeof ShadowRoot&&(e instanceof tt(e).ShadowRoot||e instanceof ShadowRoot)}let tn={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];tr(s)&&te(s)&&(Object.assign(s.style,i),Object.keys(r).forEach(function(e){var t=r[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],s=t.attributes[e]||{},n=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});tr(r)&&te(r)&&(Object.assign(r.style,n),Object.keys(s).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};function ta(e){return e.split("-")[0]}var to=Math.max,tl=Math.min,tu=Math.round;function tc(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function th(){return!/^((?!chrome|android).)*safari/i.test(tc())}function td(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=e.getBoundingClientRect(),s=1,n=1;t&&tr(e)&&(s=e.offsetWidth>0&&tu(r.width)/e.offsetWidth||1,n=e.offsetHeight>0&&tu(r.height)/e.offsetHeight||1);var a=(ti(e)?tt(e):window).visualViewport,o=!th()&&i,l=(r.left+(o&&a?a.offsetLeft:0))/s,u=(r.top+(o&&a?a.offsetTop:0))/n,c=r.width/s,h=r.height/n;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l,x:l,y:u}}function tf(e){var t=td(e),i=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-i)&&(i=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function tp(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&ts(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tm(e){return tt(e).getComputedStyle(e)}function tg(e){return((ti(e)?e.ownerDocument:e.document)||window.document).documentElement}function tb(e){return"html"===te(e)?e:e.assignedSlot||e.parentNode||(ts(e)?e.host:null)||tg(e)}function ty(e){return tr(e)&&"fixed"!==tm(e).position?e.offsetParent:null}function tv(e){for(var t=tt(e),i=ty(e);i&&["table","td","th"].indexOf(te(i))>=0&&"static"===tm(i).position;)i=ty(i);return i&&("html"===te(i)||"body"===te(i)&&"static"===tm(i).position)?t:i||function(e){var t=/firefox/i.test(tc());if(/Trident/i.test(tc())&&tr(e)&&"fixed"===tm(e).position)return null;var i=tb(e);for(ts(i)&&(i=i.host);tr(i)&&0>["html","body"].indexOf(te(i));){var r=tm(i);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return i;i=i.parentNode}return null}(e)||t}function tw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function t_(e,t,i){return to(e,tl(t,i))}function tx(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function tk(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}let tj={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,a=i.modifiersData.popperOffsets,o=ta(i.placement),l=tw(o),u=[eW,eV].indexOf(o)>=0?"height":"width";if(n&&a){var c,h=tx("number"!=typeof(c="function"==typeof(c=s.padding)?c(Object.assign({},i.rects,{placement:i.placement})):c)?c:tk(c,eH)),d=tf(n),f="y"===l?"top":eW,p="y"===l?ez:eV,m=i.rects.reference[u]+i.rects.reference[l]-a[l]-i.rects.popper[u],g=a[l]-i.rects.reference[l],b=tv(n),y=b?"y"===l?b.clientHeight||0:b.clientWidth||0:0,v=h[f],w=y-d[u]-h[p],_=y/2-d[u]/2+(m/2-g/2),x=t_(v,_,w);i.modifiersData[r]=((t={})[l]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,i=e.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&tp(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tS(e){return e.split("-")[1]}var tT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tE(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,h=e.isFixed,d=a.x,f=void 0===d?0:d,p=a.y,m=void 0===p?0:p,g="function"==typeof c?c({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var b=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),v=eW,w="top",_=window;if(u){var x=tv(i),k="clientHeight",j="clientWidth";x===tt(i)&&"static"!==tm(x=tg(i)).position&&"absolute"===o&&(k="scrollHeight",j="scrollWidth"),("top"===s||(s===eW||s===eV)&&"end"===n)&&(w=ez,m-=(h&&x===_&&_.visualViewport?_.visualViewport.height:x[k])-r.height,m*=l?1:-1),s!==eW&&("top"!==s&&s!==ez||"end"!==n)||(v=eV,f-=(h&&x===_&&_.visualViewport?_.visualViewport.width:x[j])-r.width,f*=l?1:-1)}var S,T,E,A,C,O,P=Object.assign({position:o},u&&tT),R=!0===c?(S={x:f,y:m},T=tt(i),E=S.x,A=S.y,{x:tu(E*(C=T.devicePixelRatio||1))/C||0,y:tu(A*C)/C||0}):{x:f,y:m};return f=R.x,m=R.y,l?Object.assign({},P,((O={})[w]=y?"0":"",O[v]=b?"0":"",O.transform=1>=(_.devicePixelRatio||1)?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",O)):Object.assign({},P,((t={})[w]=y?m+"px":"",t[v]=b?f+"px":"",t.transform="",t))}let tA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=i.adaptive,n=i.roundOffsets,a=void 0===n||n,o={placement:ta(t.placement),variation:tS(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,tE(Object.assign({},o,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===s||s,roundOffsets:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,tE(Object.assign({},o,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var tC={passive:!0};let tO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=void 0===s||s,a=r.resize,o=void 0===a||a,l=tt(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&u.forEach(function(e){e.addEventListener("scroll",i.update,tC)}),o&&l.addEventListener("resize",i.update,tC),function(){n&&u.forEach(function(e){e.removeEventListener("scroll",i.update,tC)}),o&&l.removeEventListener("resize",i.update,tC)}},data:{}};var tP={left:"right",right:"left",bottom:"top",top:"bottom"};function tR(e){return e.replace(/left|right|bottom|top/g,function(e){return tP[e]})}var tI={start:"end",end:"start"};function tL(e){return e.replace(/start|end/g,function(e){return tI[e]})}function tN(e){var t=tt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tD(e){return td(tg(e)).left+tN(e).scrollLeft}function t$(e){var t=tm(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function tM(e,t){void 0===t&&(t=[]);var i,r=function e(t){return["html","body","#document"].indexOf(te(t))>=0?t.ownerDocument.body:tr(t)&&t$(t)?t:e(tb(t))}(e),s=r===(null==(i=e.ownerDocument)?void 0:i.body),n=tt(r),a=s?[n].concat(n.visualViewport||[],t$(r)?r:[]):r,o=t.concat(a);return s?o:o.concat(tM(tb(a)))}function tB(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tU(e,t,i){var r,s,n,a,o,l,u,c,h,d;return t===eG?tB(function(e,t){var i=tt(e),r=tg(e),s=i.visualViewport,n=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){n=s.width,a=s.height;var u=th();(u||!u&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:n,height:a,x:o+tD(e),y:l}}(e,i)):ti(t)?((r=td(t,!1,"fixed"===i)).top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r):tB((s=tg(e),a=tg(s),o=tN(s),l=null==(n=s.ownerDocument)?void 0:n.body,u=to(a.scrollWidth,a.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=to(a.scrollHeight,a.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-o.scrollLeft+tD(s),d=-o.scrollTop,"rtl"===tm(l||a).direction&&(h+=to(a.clientWidth,l?l.clientWidth:0)-u),{width:u,height:c,x:h,y:d}))}function tF(e){var t,i=e.reference,r=e.element,s=e.placement,n=s?ta(s):null,a=s?tS(s):null,o=i.x+i.width/2-r.width/2,l=i.y+i.height/2-r.height/2;switch(n){case"top":t={x:o,y:i.y-r.height};break;case ez:t={x:o,y:i.y+i.height};break;case eV:t={x:i.x+i.width,y:l};break;case eW:t={x:i.x-r.width,y:l};break;default:t={x:i.x,y:i.y}}var u=n?tw(n):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case eK:t[u]=t[u]-(i[c]/2-r[c]/2);break;case"end":t[u]=t[u]+(i[c]/2-r[c]/2)}}return t}function tz(e,t){void 0===t&&(t={});var i,r,s,n,a,o,l=t,u=l.placement,c=void 0===u?e.placement:u,h=l.strategy,d=void 0===h?e.strategy:h,f=l.boundary,p=void 0===f?eJ:f,m=l.rootBoundary,g=l.elementContext,b=void 0===g?eY:g,y=l.altBoundary,v=l.padding,w=void 0===v?0:v,_=tx("number"!=typeof w?w:tk(w,eH)),x=b===eY?eX:eY,k=e.rects.popper,j=e.elements[void 0!==y&&y?x:b],S=(i=ti(j)?j:j.contextElement||tg(e.elements.popper),a=(n=[].concat("clippingParents"===p?(r=tM(tb(i)),ti(s=["absolute","fixed"].indexOf(tm(i).position)>=0&&tr(i)?tv(i):i)?r.filter(function(e){return ti(e)&&tp(e,s)&&"body"!==te(e)}):[]):[].concat(p),[void 0===m?eG:m]))[0],(o=n.reduce(function(e,t){var r=tU(i,t,d);return e.top=to(r.top,e.top),e.right=tl(r.right,e.right),e.bottom=tl(r.bottom,e.bottom),e.left=to(r.left,e.left),e},tU(i,a,d))).width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o),T=td(e.elements.reference),E=tF({reference:T,element:k,placement:c}),A=tB(Object.assign({},k,E)),C=b===eY?A:T,O={top:S.top-C.top+_.top,bottom:C.bottom-S.bottom+_.bottom,left:S.left-C.left+_.left,right:C.right-S.right+_.right},P=e.modifiersData.offset;if(b===eY&&P){var R=P[c];Object.keys(O).forEach(function(e){var t=[eV,ez].indexOf(e)>=0?1:-1,i=["top",ez].indexOf(e)>=0?"y":"x";O[e]+=R[i]*t})}return O}let tV={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=void 0===s||s,a=i.altAxis,o=void 0===a||a,l=i.fallbackPlacements,u=i.padding,c=i.boundary,h=i.rootBoundary,d=i.altBoundary,f=i.flipVariations,p=void 0===f||f,m=i.allowedAutoPlacements,g=t.options.placement,b=ta(g),y=l||(b!==g&&p?function(e){if(ta(e)===eq)return[];var t=tR(e);return[tL(e),t,tL(t)]}(g):[tR(g)]),v=[g].concat(y).reduce(function(e,i){var r,s,n,a,o,l,d,f,g,b,y,v;return e.concat(ta(i)===eq?(s=(r={placement:i,boundary:c,rootBoundary:h,padding:u,flipVariations:p,allowedAutoPlacements:m}).placement,n=r.boundary,a=r.rootBoundary,o=r.padding,l=r.flipVariations,f=void 0===(d=r.allowedAutoPlacements)?eQ:d,0===(y=(b=(g=tS(s))?l?eZ:eZ.filter(function(e){return tS(e)===g}):eH).filter(function(e){return f.indexOf(e)>=0})).length&&(y=b),Object.keys(v=y.reduce(function(e,i){return e[i]=tz(t,{placement:i,boundary:n,rootBoundary:a,padding:o})[ta(i)],e},{})).sort(function(e,t){return v[e]-v[t]})):i)},[]),w=t.rects.reference,_=t.rects.popper,x=new Map,k=!0,j=v[0],S=0;S<v.length;S++){var T=v[S],E=ta(T),A=tS(T)===eK,C=["top",ez].indexOf(E)>=0,O=C?"width":"height",P=tz(t,{placement:T,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),R=C?A?eV:eW:A?ez:"top";w[O]>_[O]&&(R=tR(R));var I=tR(R),L=[];if(n&&L.push(P[E]<=0),o&&L.push(P[R]<=0,P[I]<=0),L.every(function(e){return e})){j=T,k=!1;break}x.set(T,L)}if(k)for(var N=function(e){var t=v.find(function(t){var i=x.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return j=t,"break"},D=p?3:1;D>0&&"break"!==N(D);D--);t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function tW(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function tq(e){return["top",eV,ez,eW].some(function(t){return e[t]>=0})}let tH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,a=tz(t,{elementContext:"reference"}),o=tz(t,{altBoundary:!0}),l=tW(a,r),u=tW(o,s,n),c=tq(l),h=tq(u);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}},tK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=void 0===s?[0,0]:s,a=eQ.reduce(function(e,i){var r,s,a,o,l,u;return e[i]=(r=t.rects,a=[eW,"top"].indexOf(s=ta(i))>=0?-1:1,l=(o="function"==typeof n?n(Object.assign({},r,{placement:i})):n)[0],u=o[1],l=l||0,u=(u||0)*a,[eW,eV].indexOf(s)>=0?{x:u,y:l}:{x:l,y:u}),e},{}),o=a[t.placement],l=o.x,u=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}},tJ={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=tF({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},tG={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=i.altAxis,a=i.boundary,o=i.rootBoundary,l=i.altBoundary,u=i.padding,c=i.tether,h=void 0===c||c,d=i.tetherOffset,f=void 0===d?0:d,p=tz(t,{boundary:a,rootBoundary:o,padding:u,altBoundary:l}),m=ta(t.placement),g=tS(t.placement),b=!g,y=tw(m),v="x"===y?"y":"x",w=t.modifiersData.popperOffsets,_=t.rects.reference,x=t.rects.popper,k="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,j="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(w){if(void 0===s||s){var E,A="y"===y?"top":eW,C="y"===y?ez:eV,O="y"===y?"height":"width",P=w[y],R=P+p[A],I=P-p[C],L=h?-x[O]/2:0,N=g===eK?_[O]:x[O],D=g===eK?-x[O]:-_[O],$=t.elements.arrow,M=h&&$?tf($):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=B[A],F=B[C],z=t_(0,_[O],M[O]),V=b?_[O]/2-L-z-U-j.mainAxis:N-z-U-j.mainAxis,W=b?-_[O]/2+L+z+F+j.mainAxis:D+z+F+j.mainAxis,q=t.elements.arrow&&tv(t.elements.arrow),H=q?"y"===y?q.clientTop||0:q.clientLeft||0:0,K=null!=(E=null==S?void 0:S[y])?E:0,J=t_(h?tl(R,P+V-K-H):R,P,h?to(I,P+W-K):I);w[y]=J,T[y]=J-P}if(void 0!==n&&n){var G,Y,X="x"===y?"top":eW,Z="x"===y?ez:eV,Q=w[v],ee="y"===v?"height":"width",et=Q+p[X],ei=Q-p[Z],er=-1!==["top",eW].indexOf(m),es=null!=(Y=null==S?void 0:S[v])?Y:0,en=er?et:Q-_[ee]-x[ee]-es+j.altAxis,ea=er?Q+_[ee]+x[ee]-es-j.altAxis:ei,eo=h&&er?(G=t_(en,Q,ea))>ea?ea:G:t_(h?en:et,Q,h?ea:ei);w[v]=eo,T[v]=eo-Q}t.modifiersData[r]=T}},requiresIfExists:["offset"]};var tY={placement:"bottom",modifiers:[],strategy:"absolute"};function tX(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function tZ(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,r=void 0===i?[]:i,s=t.defaultOptions,n=void 0===s?tY:s;return function(e,t,i){void 0===i&&(i=n);var s,a,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},tY,n),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:o,setOptions:function(i){var s="function"==typeof i?i(o.options):i;h(),o.options=Object.assign({},n,o.options,s),o.scrollParents={reference:ti(e)?tM(e):e.contextElement?tM(e.contextElement):[],popper:tM(t)};var a,u,d,f,p,m=(a=Object.keys(p=[].concat(r,o.options.modifiers).reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{})).map(function(e){return p[e]}),u=new Map,d=new Set,f=[],a.forEach(function(e){u.set(e.name,e)}),a.forEach(function(e){d.has(e.name)||function e(t){d.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!d.has(t)){var i=u.get(t);i&&e(i)}}),f.push(t)}(e)}),e7.reduce(function(e,t){return e.concat(f.filter(function(e){return e.phase===t}))},[]));return o.orderedModifiers=m.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,r=e.effect;if("function"==typeof r){var s=r({state:o,name:t,instance:c,options:void 0===i?{}:i});l.push(s||function(){})}}),c.update()},forceUpdate:function(){if(!u){var e=o.elements,t=e.reference,i=e.popper;if(tX(t,i)){o.rects={reference:(r=tv(i),s="fixed"===o.options.strategy,h=tr(r),d=tr(r)&&(a=tu((n=r.getBoundingClientRect()).width)/r.offsetWidth||1,l=tu(n.height)/r.offsetHeight||1,1!==a||1!==l),f=tg(r),p=td(t,d,s),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(h||!h&&!s)&&(("body"!==te(r)||t$(f))&&(m=r!==tt(r)&&tr(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:tN(r)),tr(r)?((g=td(r,!0)).x+=r.clientLeft,g.y+=r.clientTop):f&&(g.x=tD(f))),{x:p.left+m.scrollLeft-g.x,y:p.top+m.scrollTop-g.y,width:p.width,height:p.height}),popper:tf(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r,s,n,a,l,h,d,f,p,m,g,b=0;b<o.orderedModifiers.length;b++)if(!0!==o.reset){var y=o.orderedModifiers[b],v=y.fn,w=y.options,_=void 0===w?{}:w,x=y.name;"function"==typeof v&&(o=v({state:o,options:_,name:x,instance:c})||o)}else o.reset=!1,b=-1}}},update:(s=function(){return new Promise(function(e){c.forceUpdate(),e(o)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(s())})})),a}),destroy:function(){h(),u=!0}};if(!tX(e,t))return c;function h(){l.forEach(function(e){return e()}),l=[]}return c.setOptions(i).then(function(e){!u&&i.onFirstUpdate&&i.onFirstUpdate(e)}),c}}var tQ=tZ(),t0=tZ({defaultModifiers:[tO,tJ,tA,tn]}),t1=tZ({defaultModifiers:[tO,tJ,tA,tn,tK,tV,tG,tj,tH]});let t2=Object.freeze(Object.defineProperty({__proto__:null,afterMain:e5,afterRead:e2,afterWrite:e9,applyStyles:tn,arrow:tj,auto:eq,basePlacements:eH,beforeMain:e6,beforeRead:e0,beforeWrite:e8,bottom:ez,clippingParents:eJ,computeStyles:tA,createPopper:t1,createPopperBase:tQ,createPopperLite:t0,detectOverflow:tz,end:"end",eventListeners:tO,flip:tV,hide:tH,left:eW,main:e4,modifierPhases:e7,offset:tK,placements:eQ,popper:eY,popperGenerator:tZ,popperOffsets:tJ,preventOverflow:tG,read:e1,reference:eX,right:eV,start:eK,top:"top",variationPlacements:eZ,viewport:eG,write:e3},Symbol.toStringTag,{value:"Module"})),t6="dropdown",t4=".bs.dropdown",t5=".data-api",t8="ArrowDown",t3=`hide${t4}`,t9=`hidden${t4}`,t7=`show${t4}`,ie=`shown${t4}`,it=`click${t4}${t5}`,ii=`keydown${t4}${t5}`,ir=`keyup${t4}${t5}`,is="show",ia='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',io=`${ia}.${is}`,il=".dropdown-menu",iu=m()?"top-end":"top-start",ic=m()?"top-start":"top-end",ih=m()?"bottom-end":"bottom-start",id=m()?"bottom-start":"bottom-end",ip=m()?"left-start":"right-start",im=m()?"right-start":"left-start",ig={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ib={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class iy extends U{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,il)[0]||z.prev(this._element,il)[0]||z.findOne(il,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ig}static get DefaultType(){return ib}static get NAME(){return t6}toggle(){return this._isShown()?this.hide():this.show()}show(){if(u(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!L.trigger(this._element,t7,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))L.on(e,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(is),this._element.classList.add(is),L.trigger(this._element,ie,e)}}hide(){if(u(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!L.trigger(this._element,t3,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))L.off(e,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(is),this._element.classList.remove(is),this._element.setAttribute("aria-expanded","false"),M.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,t9,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!a(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError(`${t6.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===t2)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:a(this._config.reference)?e=o(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=t1(e,this._menu,t)}_isShown(){return this._menu.classList.contains(is)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return ip;if(e.classList.contains("dropstart"))return im;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?ic:iu:t?id:ih}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(M.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...b(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){let i=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>l(e));i.length&&v(i,t,e===t8,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=iy.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(let t of z.find(io)){let i=iy.getInstance(t);if(!i||!1===i._config.autoClose)continue;let r=e.composedPath(),s=r.includes(i._menu);if(r.includes(i._element)||"inside"===i._config.autoClose&&!s||"outside"===i._config.autoClose&&s||i._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let n={relatedTarget:i._element};"click"===e.type&&(n.clickEvent=e),i._completeHide(n)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,r=["ArrowUp",t8].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();let s=this.matches(ia)?this:z.prev(this,ia)[0]||z.next(this,ia)[0]||z.findOne(ia,e.delegateTarget.parentNode),n=iy.getOrCreateInstance(s);if(r)return e.stopPropagation(),n.show(),void n._selectMenuItem(e);n._isShown()&&(e.stopPropagation(),n.hide(),s.focus())}}L.on(document,ii,ia,iy.dataApiKeydownHandler),L.on(document,ii,il,iy.dataApiKeydownHandler),L.on(document,it,iy.clearMenus),L.on(document,ir,iy.clearMenus),L.on(document,it,ia,function(e){e.preventDefault(),iy.getOrCreateInstance(this).toggle()}),g(iy);let iv="backdrop",iw="show",i_=`mousedown.bs.${iv}`,ix={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ik={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ij extends B{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return ix}static get DefaultType(){return ik}static get NAME(){return iv}show(e){if(!this._config.isVisible)return void b(e);this._append();let t=this._getElement();this._config.isAnimated&&d(t),t.classList.add(iw),this._emulateAnimation(()=>{b(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(iw),this._emulateAnimation(()=>{this.dispose(),b(e)})):b(e)}dispose(){this._isAppended&&(L.off(this._element,i_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=o(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),L.on(e,i_,()=>{b(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){y(e,this._getElement(),this._config.isAnimated)}}let iS=".bs.focustrap",iT=`focusin${iS}`,iE=`keydown.tab${iS}`,iA="backward",iC={autofocus:!0,trapElement:null},iO={autofocus:"boolean",trapElement:"element"};class iP extends B{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return iC}static get DefaultType(){return iO}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,iS),L.on(document,iT,e=>this._handleFocusin(e)),L.on(document,iE,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,iS))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let i=z.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===iA?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?iA:"forward")}}let iR=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",iI=".sticky-top",iL="padding-right",iN="margin-right";class iD{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,iL,t=>t+e),this._setElementAttributes(iR,iL,t=>t+e),this._setElementAttributes(iI,iN,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,iL),this._resetElementAttributes(iR,iL),this._resetElementAttributes(iI,iN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let r=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);let s=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(s))}px`)})}_saveInitialAttribute(e,t){let i=e.style.getPropertyValue(t);i&&M.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{let i=M.getDataAttribute(e,t);null!==i?(M.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(a(e))t(e);else for(let i of z.find(e,this._element))t(i)}}let i$=".bs.modal",iM=`hide${i$}`,iB=`hidePrevented${i$}`,iU=`hidden${i$}`,iF=`show${i$}`,iz=`shown${i$}`,iV=`resize${i$}`,iW=`click.dismiss${i$}`,iq=`mousedown.dismiss${i$}`,iH=`keydown.dismiss${i$}`,iK=`click${i$}.data-api`,iJ="modal-open",iG="show",iY="modal-static",iX={backdrop:!0,focus:!0,keyboard:!0},iZ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class iQ extends U{constructor(e,t){super(e,t),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new iD,this._addEventListeners()}static get Default(){return iX}static get DefaultType(){return iZ}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||L.trigger(this._element,iF,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(iJ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(L.trigger(this._element,iM).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(iG),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){L.off(window,i$),L.off(this._dialog,i$),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ij({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new iP({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=z.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),d(this._element),this._element.classList.add(iG),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,iz,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,iH,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),L.on(window,iV,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),L.on(this._element,iq,e=>{L.one(this._element,iW,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(iJ),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,iU)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,iB).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(iY)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(iY),this._queueCallback(()=>{this._element.classList.remove(iY),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){let e=m()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){let e=m()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let i=iQ.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw TypeError(`No method named "${e}"`);i[e](t)}})}}L.on(document,iK,'[data-bs-toggle="modal"]',function(e){let t=z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),L.one(t,iF,e=>{e.defaultPrevented||L.one(t,iU,()=>{l(this)&&this.focus()})});let i=z.findOne(".modal.show");i&&iQ.getInstance(i).hide(),iQ.getOrCreateInstance(t).toggle(this)}),V(iQ),g(iQ);let i0=".bs.offcanvas",i1=".data-api",i2=`load${i0}${i1}`,i6="show",i4="showing",i5="hiding",i8=".offcanvas.show",i3=`show${i0}`,i9=`shown${i0}`,i7=`hide${i0}`,re=`hidePrevented${i0}`,rt=`hidden${i0}`,ri=`resize${i0}`,rr=`click${i0}${i1}`,rs=`keydown.dismiss${i0}`,rn={backdrop:!0,keyboard:!0,scroll:!1},ra={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ro extends U{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return rn}static get DefaultType(){return ra}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||L.trigger(this._element,i3,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new iD).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(i4),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(i6),this._element.classList.remove(i4),L.trigger(this._element,i9,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,i7).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(i5),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(i6,i5),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new iD).reset(),L.trigger(this._element,rt)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=!!this._config.backdrop;return new ij({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():L.trigger(this._element,re)}:null})}_initializeFocusTrap(){return new iP({trapElement:this._element})}_addEventListeners(){L.on(this._element,rs,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():L.trigger(this._element,re))})}static jQueryInterface(e){return this.each(function(){let t=ro.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}L.on(document,rr,'[data-bs-toggle="offcanvas"]',function(e){let t=z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),u(this))return;L.one(t,rt,()=>{l(this)&&this.focus()});let i=z.findOne(i8);i&&i!==t&&ro.getInstance(i).hide(),ro.getOrCreateInstance(t).toggle(this)}),L.on(window,i2,()=>{for(let e of z.find(i8))ro.getOrCreateInstance(e).show()}),L.on(window,ri,()=>{for(let e of z.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&ro.getOrCreateInstance(e).hide()}),V(ro),g(ro);let rl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ru=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rh=(e,t)=>{let i=e.nodeName.toLowerCase();return t.includes(i)?!ru.has(i)||!!rc.test(e.nodeValue):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))},rd={allowList:rl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},rf={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},rp={entry:"(string|element|function|null)",selector:"(string|element)"};class rm extends B{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return rd}static get DefaultType(){return rf}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[t,i]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,i,t);let t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},rp)}_setContent(e,t,i){let r=z.findOne(i,e);r&&((t=this._resolvePossibleFunction(t))?a(t)?this._putElementInTemplate(o(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);let r=(new window.DOMParser).parseFromString(e,"text/html");for(let e of[].concat(...r.body.querySelectorAll("*"))){let i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}let r=[].concat(...e.attributes),s=[].concat(t["*"]||[],t[i]||[]);for(let t of r)rh(t,s)||e.removeAttribute(t.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return b(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}let rg=new Set(["sanitize","allowList","sanitizeFn"]),rb="fade",ry="show",rv=".modal",rw="hide.bs.modal",r_="hover",rx="focus",rk="click",rj={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},rS={allowList:rl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},rT={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class rE extends U{constructor(e,t){if(void 0===t2)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rS}static get DefaultType(){return rT}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(rv),rw,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;let e=L.trigger(this._element,this.constructor.eventName("show")),t=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),L.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(ry),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))L.on(e,"mouseover",h);this._queueCallback(()=>{L.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!L.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ry),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))L.off(e,"mouseover",h);this._activeTrigger[rk]=!1,this._activeTrigger[rx]=!1,this._activeTrigger[r_]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(rb,ry),t.classList.add(`bs-${this.constructor.NAME}-auto`);let i=(e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(rb),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new rm({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(rb)}_isShown(){return this.tip&&this.tip.classList.contains(ry)}_createPopper(e){let t=rj[b(this._config.placement,[this,e,this._element]).toUpperCase()];return t1(this._element,e,this._getPopperConfig(t))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return b(e,[this._element,this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...b(this._config.popperConfig,[void 0,t])}}_setListeners(){for(let e of this._config.trigger.split(" "))if("click"===e)L.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger[rk]=!(t._isShown()&&t._activeTrigger[rk]),t.toggle()});else if("manual"!==e){let t=e===r_?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===r_?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");L.on(this._element,t,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?rx:r_]=!0,t._enter()}),L.on(this._element,i,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?rx:r_]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(rv),rw,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=M.getDataAttributes(this._element);for(let e of Object.keys(t))rg.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:o(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=rE.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}g(rE);let rA={...rE.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},rC={...rE.DefaultType,content:"(null|string|element|function)"};class rO extends rE{static get Default(){return rA}static get DefaultType(){return rC}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=rO.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}g(rO);let rP=".bs.scrollspy",rR=`activate${rP}`,rI=`click${rP}`,rL=`load${rP}.data-api`,rN="active",rD="[href]",r$=".nav-link",rM=`${r$}, .nav-item > ${r$}, .list-group-item`,rB={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rU={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rF extends U{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rB}static get DefaultType(){return rU}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=o(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,rI),L.on(this._config.target,rI,rD,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:r,behavior:"smooth"});i.scrollTop=r}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){let t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;for(let n of(this._previousScrollData.parentScrollTop=r,e)){if(!n.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(n));continue}let e=n.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&e){if(i(n),!r)return}else s||e||i(n)}}_initializeTargetsAndObservables(){for(let e of(this._targetLinks=new Map,this._observableSections=new Map,z.find(rD,this._config.target))){if(!e.hash||u(e))continue;let t=z.findOne(decodeURI(e.hash),this._element);l(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(rN),this._activateParents(e),L.trigger(this._element,rR,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))z.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(rN);else for(let t of z.parents(e,".nav, .list-group"))for(let e of z.prev(t,rM))e.classList.add(rN)}_clearActiveClass(e){for(let t of(e.classList.remove(rN),z.find(`${rD}.${rN}`,e)))t.classList.remove(rN)}static jQueryInterface(e){return this.each(function(){let t=rF.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}L.on(window,rL,()=>{for(let e of z.find('[data-bs-spy="scroll"]'))rF.getOrCreateInstance(e)}),g(rF);let rz=".bs.tab",rV=`hide${rz}`,rW=`hidden${rz}`,rq=`show${rz}`,rH=`shown${rz}`,rK=`click${rz}`,rJ=`keydown${rz}`,rG=`load${rz}`,rY="ArrowRight",rX="ArrowDown",rZ="Home",rQ="active",r0="fade",r1="show",r2=".dropdown-toggle",r6=`:not(${r2})`,r4='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',r5=`.nav-link${r6}, .list-group-item${r6}, [role="tab"]${r6}, ${r4}`,r8=`.${rQ}[data-bs-toggle="tab"], .${rQ}[data-bs-toggle="pill"], .${rQ}[data-bs-toggle="list"]`;class r3 extends U{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,rJ,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),i=t?L.trigger(t,rV,{relatedTarget:e}):null;L.trigger(e,rq,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(rQ),this._activate(z.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),L.trigger(e,rH,{relatedTarget:t})):e.classList.add(r1)},e,e.classList.contains(r0)))}_deactivate(e,t){e&&(e.classList.remove(rQ),e.blur(),this._deactivate(z.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),L.trigger(e,rW,{relatedTarget:t})):e.classList.remove(r1)},e,e.classList.contains(r0)))}_keydown(e){let t;if(!["ArrowLeft",rY,"ArrowUp",rX,rZ,"End"].includes(e.key))return;e.stopPropagation(),e.preventDefault();let i=this._getChildren().filter(e=>!u(e));if([rZ,"End"].includes(e.key))t=i[e.key===rZ?0:i.length-1];else{let r=[rY,rX].includes(e.key);t=v(i,e.target,r,!0)}t&&(t.focus({preventScroll:!0}),r3.getOrCreateInstance(t).show())}_getChildren(){return z.find(r5,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){for(let i of(this._setAttributeIfNotExists(e,"role","tablist"),t))this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=z.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;let r=(e,r)=>{let s=z.findOne(e,i);s&&s.classList.toggle(r,t)};r(r2,rQ),r(".dropdown-menu",r1),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(rQ)}_getInnerElement(e){return e.matches(r5)?e:z.findOne(r5,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){let t=r3.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}L.on(document,rK,r4,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),u(this)||r3.getOrCreateInstance(this).show()}),L.on(window,rG,()=>{for(let e of z.find(r8))r3.getOrCreateInstance(e)}),g(r3);let r9=".bs.toast",r7=`mouseover${r9}`,se=`mouseout${r9}`,st=`focusin${r9}`,si=`focusout${r9}`,sr=`hide${r9}`,ss=`hidden${r9}`,sn=`show${r9}`,sa=`shown${r9}`,so="hide",sl="show",su="showing",sc={animation:"boolean",autohide:"boolean",delay:"number"},sh={animation:!0,autohide:!0,delay:5e3};class sd extends U{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sh}static get DefaultType(){return sc}static get NAME(){return"toast"}show(){L.trigger(this._element,sn).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(so),d(this._element),this._element.classList.add(sl,su),this._queueCallback(()=>{this._element.classList.remove(su),L.trigger(this._element,sa),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(L.trigger(this._element,sr).defaultPrevented||(this._element.classList.add(su),this._queueCallback(()=>{this._element.classList.add(so),this._element.classList.remove(su,sl),L.trigger(this._element,ss)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(sl),super.dispose()}isShown(){return this._element.classList.contains(sl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,r7,e=>this._onInteraction(e,!0)),L.on(this._element,se,e=>this._onInteraction(e,!1)),L.on(this._element,st,e=>this._onInteraction(e,!0)),L.on(this._element,si,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=sd.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e](this)}})}}return V(sd),g(sd),{Alert:K,Button:G,Carousel:eE,Collapse:eF,Dropdown:iy,Modal:iQ,Offcanvas:ro,Popover:rO,ScrollSpy:rF,Tab:r3,Toast:sd,Tooltip:rE}},e.exports=t()},83454:function(e,t,i){"use strict";var r,s;e.exports=(null==(r=i.g.process)?void 0:r.env)&&"object"==typeof(null==(s=i.g.process)?void 0:s.env)?i.g.process:i(77663)},91118:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return i(48691)}])},316:function(e,t,i){"use strict";i.d(t,{Z:function(){return g}});var r=i(85893),s=i(40645),n=i.n(s),a=i(67294),o=i(73935),l=i(77414),u=i(11163),c=i(77366);function h(e,t){return e?"string"==typeof e?e:e.message?e.message:t:t}function d(){window.localStorage.removeItem("df-messenger-chat-history"),window.sessionStorage.removeItem("df-messenger-chat-history")}async function f(){var e;let{data:{session:t}}=await c.O.auth.getSession(),i=null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.id;if(!i)return null;let{data:r}=await c.O.from("profiles").select("*").eq("id",i).single();return r}async function p(){try{let e=await fetch("https://ipapi.co/json/");if(!e.ok)return{};let t=await e.json();return{ip:t.ip||null,city:t.city||null,region:t.region||null,country:t.country_name||null}}catch(e){return console.error("Failed to get client info:",e),{}}}async function m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let s=await i.e(232).then(i.bind(i,56232));if(s&&"function"==typeof s.logUserActivity){let i=await p();s.logUserActivity(e,t,r,i).catch(e=>console.error("logUserActivity rejected:",e))}else console.warn("logUserActivity not found in ../utils/logUserActivity")}catch(e){console.error("Failed to import or run logUserActivity:",e)}}function g(e){let t,i,s,{initialView:p="login",onClose:g,showToast:b}=e,[y,v]=(0,a.useState)(p),{register:w,login:_}=(0,l.a)(),[x,k]=(0,a.useState)({name:"",email:"",password:"",confirm:""}),[j,S]=(0,a.useState)(!1),T=(0,u.useRouter)(),[E,A]=(0,a.useState)(!1),[C,O]=(0,a.useState)(""),[P,R]=(0,a.useState)(""),[I,L]=(0,a.useState)(!1),[N,D]=(0,a.useState)(!1),[$,M]=(0,a.useState)(""),[B,U]=(0,a.useState)({name:"",email:"",password:"",confirm:""});function F(e){let{name:t,value:i}=e.target;k(e=>({...e,[t]:i})),U(e=>({...e,[t]:""})),M("")}(0,a.useEffect)(()=>{k({name:"",email:"",password:"",confirm:""}),A(!1),R(""),O(""),D(!1),M(""),U({name:"",email:"",password:"",confirm:""})},[y]);let z=(0,a.useMemo)(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/,[]),V=(0,a.useMemo)(()=>z.test(x.email.trim()),[x.email,z]),W=(t=x.password,/[A-Z]/.test(t)),q=(i=x.password,/[a-z]/.test(i)),H=(s=x.password,/\d/.test(s)),K=x.password.length>=6,J=W&&q&&H&&K,G=x.password===x.confirm&&x.confirm.length>0,Y=Math.max(0,6-x.password.length);async function X(e){e.preventDefault(),S(!0),M(""),U({name:"",email:"",password:"",confirm:""});let t={name:"",email:"",password:"",confirm:""},i=!1;if(x.name.trim()||(t.name="Display name is required.",i=!0),V||(t.email="Please enter a valid email address.",i=!0),J||(t.password="Password must be at least 6 chars, include upper & lower case letters and a number.",i=!0),G||(t.confirm="Passwords do not match.",i=!0),i){U(t),S(!1);return}try{var r;await w({name:x.name,email:x.email.trim().toLowerCase(),password:x.password}),d(),b&&b("success","Account created!"),await new Promise(e=>setTimeout(e,1e3));let e=await f(),{data:{session:t}}=await c.O.auth.getSession(),i=(null==e?void 0:e.id)||(null==t?void 0:null===(r=t.user)||void 0===r?void 0:r.id)||null;i&&m(i,"signup","New user registered"),(null==e?void 0:e.is_admin)?T.push("/admin"):T.push("/profile"),g()}catch(e){console.error("Register error",e),M(h(e,"Registration failed!"))}finally{S(!1)}}async function Z(e){if(e.preventDefault(),S(!0),M(""),U({name:"",email:"",password:"",confirm:""}),!V){U(e=>({...e,email:"Please enter a valid email address."})),S(!1);return}if(!x.password||0===x.password.length){U(e=>({...e,password:"Enter your password."})),S(!1);return}try{var t;await _({email:x.email.trim().toLowerCase(),password:x.password}),d(),b&&b("success","Login successful!"),await new Promise(e=>setTimeout(e,1e3));let e=await f(),{data:{session:i}}=await c.O.auth.getSession(),r=(null==e?void 0:e.id)||(null==i?void 0:null===(t=i.user)||void 0===t?void 0:t.id)||null;r&&m(r,"login","User logged in"),(null==e?void 0:e.is_admin)?T.push("/admin"):T.push("/profile"),g()}catch(e){console.error("Login error",e),M(h(e,"Login failed! Check your credentials."))}finally{S(!1)}}async function Q(e){e.preventDefault(),R(""),L(!0);let t=C.trim().toLowerCase();if(!t||!z.test(t)){R("Enter a valid email."),L(!1);return}let{error:i}=await c.O.auth.resetPasswordForEmail(t,{redirectTo:window.location.origin+"/reset-password"});i?R(i.message||"Failed to send reset link."):R("Reset link sent! Check your email."),L(!1)}let[ee,et]=(0,a.useState)(!1),ei=(0,a.useRef)(null);if((0,a.useEffect)(()=>{et(!0);let e=document.createElement("div");return e.setAttribute("id","auth-modal-portal"),e.style.position="fixed",e.style.inset="0",e.style.zIndex="2147483647",e.style.pointerEvents="none",document.body.appendChild(e),ei.current=e,()=>{ei.current&&ei.current.parentNode&&ei.current.parentNode.removeChild(ei.current)}},[]),!ee||!ei.current)return null;let er=(0,r.jsxs)("div",{style:{pointerEvents:"auto"},"aria-modal":"true","aria-hidden":"false",className:"jsx-478a66179a9f35ac",children:[(0,r.jsx)("div",{role:"dialog",onClick:e=>{e.target===e.currentTarget&&g()},className:"jsx-478a66179a9f35ac auth-backdrop",children:(0,r.jsxs)("div",{role:"document","aria-labelledby":"auth-title",className:"jsx-478a66179a9f35ac auth-modal",children:[(0,r.jsx)("button",{onClick:g,"aria-label":"Close authentication dialog",className:"jsx-478a66179a9f35ac auth-close",children:"\xd7"}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac auth-header",children:[(0,r.jsx)("div",{"aria-hidden":!0,className:"jsx-478a66179a9f35ac auth-logo",children:(0,r.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-478a66179a9f35ac",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"currentColor",strokeWidth:"1.5",className:"jsx-478a66179a9f35ac"}),(0,r.jsx)("path",{d:"M7 12h10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",className:"jsx-478a66179a9f35ac"})]})}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac",children:[(0,r.jsx)("h3",{id:"auth-title",className:"jsx-478a66179a9f35ac auth-title",children:"register"===y?"Create Account":"Welcome back"}),(0,r.jsx)("p",{className:"jsx-478a66179a9f35ac auth-subtitle",children:"register"===y?"Join us  secure and fast.":"Sign in to continue."})]})]}),"login"!==y||E?"login"===y&&E?(0,r.jsxs)("div",{id:"forgot-form",className:"jsx-478a66179a9f35ac auth-form-wrap",children:[(0,r.jsxs)("form",{onSubmit:Q,noValidate:!0,className:"jsx-478a66179a9f35ac",children:[(0,r.jsx)("label",{className:"jsx-478a66179a9f35ac auth-label",children:"Email"}),(0,r.jsx)("input",{type:"email",value:C,onChange:e=>O(e.target.value),required:!0,disabled:I,"aria-invalid":C.length>0&&!z.test(C),className:"jsx-478a66179a9f35ac auth-input"}),(0,r.jsx)("button",{type:"submit",disabled:I,className:"jsx-478a66179a9f35ac auth-primaryBtn",children:I?(0,r.jsx)("span",{className:"jsx-478a66179a9f35ac auth-spinner"}):"Send Reset Link"})]}),(0,r.jsx)("button",{onClick:()=>{A(!1),R("")},className:"jsx-478a66179a9f35ac auth-linkBtn",children:"Back to Login"}),P&&(0,r.jsx)("div",{role:"status",className:"jsx-478a66179a9f35ac auth-message",children:P})]}):(0,r.jsxs)("div",{id:"register-form",className:"jsx-478a66179a9f35ac auth-form-wrap",children:[(0,r.jsxs)("form",{onSubmit:X,noValidate:!0,className:"jsx-478a66179a9f35ac",children:[(0,r.jsx)("label",{className:"jsx-478a66179a9f35ac auth-label",children:"Display Name"}),(0,r.jsx)("input",{name:"name",type:"text",required:!0,value:x.name,onChange:F,disabled:j,"aria-invalid":!!B.name,className:"jsx-478a66179a9f35ac auth-input"}),B.name&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",className:"jsx-478a66179a9f35ac auth-field-error",children:B.name}),(0,r.jsx)("label",{className:"jsx-478a66179a9f35ac auth-label mt",children:"Email"}),(0,r.jsx)("input",{name:"email",type:"email",required:!0,value:x.email,onChange:F,disabled:j,"aria-invalid":!!B.email,className:"jsx-478a66179a9f35ac auth-input"}),B.email&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",className:"jsx-478a66179a9f35ac auth-field-error",children:B.email}),(0,r.jsx)("label",{className:"jsx-478a66179a9f35ac auth-label mt",children:"Password"}),(0,r.jsx)("input",{name:"password",type:N?"text":"password",required:!0,value:x.password,onChange:F,disabled:j,"aria-describedby":"pw-requirements","aria-invalid":!!B.password,className:"jsx-478a66179a9f35ac auth-input"}),B.password&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",className:"jsx-478a66179a9f35ac auth-field-error",children:B.password}),(0,r.jsxs)("label",{className:"jsx-478a66179a9f35ac auth-smallLabel auth-checkbox",children:[(0,r.jsx)("input",{type:"checkbox",checked:N,onChange:e=>D(e.target.checked),className:"jsx-478a66179a9f35ac"})," ","Show password"]}),(0,r.jsxs)("div",{id:"pw-requirements",className:"jsx-478a66179a9f35ac auth-pw-checklist",children:[(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac "+((K?"auth-ok":"auth-fail")||""),children:[K?"":""," At least ",6," characters"]}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac "+((W?"auth-ok":"auth-fail")||""),children:[W?"":""," At least one uppercase letter"]}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac "+((q?"auth-ok":"auth-fail")||""),children:[q?"":""," At least one lowercase letter"]}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac "+((H?"auth-ok":"auth-fail")||""),children:[H?"":""," At least one number"]}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac auth-chars-left",children:["Characters left: ",(0,r.jsx)("strong",{className:"jsx-478a66179a9f35ac",children:Y})]})]}),(0,r.jsx)("label",{className:"jsx-478a66179a9f35ac auth-label mt",children:"Confirm password"}),(0,r.jsx)("input",{name:"confirm",type:N?"text":"password",required:!0,value:x.confirm,onChange:F,disabled:j,"aria-invalid":!!B.confirm,className:"jsx-478a66179a9f35ac auth-input"}),B.confirm&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",className:"jsx-478a66179a9f35ac auth-field-error",children:B.confirm}),$&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",style:{marginTop:8},className:"jsx-478a66179a9f35ac auth-field-error",children:$}),(0,r.jsx)("button",{type:"submit",disabled:j||!V||!J||!G,className:"jsx-478a66179a9f35ac auth-successBtn",children:j?(0,r.jsx)("span",{className:"jsx-478a66179a9f35ac auth-spinner"}):"Register"})]}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac auth-links",children:[(0,r.jsx)("span",{className:"jsx-478a66179a9f35ac text-muted small",children:"Already have an account?"}),(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),v("login")},className:"jsx-478a66179a9f35ac",children:"Login"})]})]}):(0,r.jsxs)("div",{id:"login-form",className:"jsx-478a66179a9f35ac auth-form-wrap",children:[(0,r.jsxs)("form",{onSubmit:Z,noValidate:!0,className:"jsx-478a66179a9f35ac",children:[(0,r.jsx)("label",{className:"jsx-478a66179a9f35ac auth-label",children:"Email"}),(0,r.jsx)("input",{name:"email",type:"email",required:!0,value:x.email,onChange:F,disabled:j,"aria-invalid":!!B.email,className:"jsx-478a66179a9f35ac auth-input"}),B.email&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",className:"jsx-478a66179a9f35ac auth-field-error",children:B.email}),(0,r.jsx)("label",{className:"jsx-478a66179a9f35ac auth-label mt",children:"Password"}),(0,r.jsx)("input",{name:"password",type:N?"text":"password",required:!0,value:x.password,onChange:F,disabled:j,"aria-invalid":!!B.password,className:"jsx-478a66179a9f35ac auth-input"}),B.password&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",className:"jsx-478a66179a9f35ac auth-field-error",children:B.password}),(0,r.jsxs)("label",{className:"jsx-478a66179a9f35ac auth-smallLabel auth-checkbox",children:[(0,r.jsx)("input",{type:"checkbox",checked:N,onChange:e=>D(e.target.checked),className:"jsx-478a66179a9f35ac"})," ","Show password"]}),$&&(0,r.jsx)("div",{role:"alert","aria-live":"polite",style:{marginTop:8},className:"jsx-478a66179a9f35ac auth-field-error",children:$}),(0,r.jsx)("button",{type:"submit",disabled:j||!V||0===x.password.length,className:"jsx-478a66179a9f35ac auth-primaryBtn",children:j?(0,r.jsx)("span",{className:"jsx-478a66179a9f35ac auth-spinner"}):"Login"})]}),(0,r.jsxs)("div",{className:"jsx-478a66179a9f35ac auth-links",children:[(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),A(!0)},className:"jsx-478a66179a9f35ac",children:"Forgot password?"}),(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),v("register")},className:"jsx-478a66179a9f35ac",children:"Register"})]})]})]})}),(0,r.jsx)(n(),{id:"478a66179a9f35ac",children:".jsx-478a66179a9f35ac:root{--modal-max-width-desktop:min(50vw, 760px);--modal-max-width-tablet:min(65vw, 720px);--modal-min-width:360px;--modal-padding:26px;--modal-radius:14px;--bg:linear-gradient(180deg,#071021 0%, #0b1630 100%);--muted:rgba(255,255,255,0.7);--accent:#6ef2f1;--btn-alt-bg:rgba(255,255,255,0.03);--btn-alt-border:rgba(110,242,241,0.12);--btn-alt-color:#e9fbff;--btn-alt-hover:rgba(110,242,241,0.08)}.auth-backdrop.jsx-478a66179a9f35ac{position:fixed;inset:0;background:rgba(3,6,12,.6);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:20px;z-index:2147483647;-webkit-overflow-scrolling:touch;pointer-events:auto}.auth-modal.jsx-478a66179a9f35ac{background:var(--bg);color:#e9fbff;width:50%;max-width:var(--modal-max-width-desktop);min-width:var(--modal-min-width);-webkit-border-radius:var(--modal-radius);-moz-border-radius:var(--modal-radius);border-radius:var(--modal-radius);-webkit-box-shadow:0 20px 60px rgba(2,6,20,.65);-moz-box-shadow:0 20px 60px rgba(2,6,20,.65);box-shadow:0 20px 60px rgba(2,6,20,.65);position:relative;padding:12px 16px 24px 16px;outline:none;max-height:-webkit-calc(100vh - 80px);max-height:-moz-calc(100vh - 80px);max-height:calc(100vh - 80px);overflow:auto;-webkit-overflow-scrolling:touch;margin:0 auto;z-index:2147483648;-webkit-transform-origin:center center;-moz-transform-origin:center center;-ms-transform-origin:center center;-o-transform-origin:center center;transform-origin:center center;scroll-width:thin}@media(min-width:1200px){.auth-backdrop.jsx-478a66179a9f35ac{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.auth-modal.jsx-478a66179a9f35ac{max-width:var(--modal-max-width-desktop)}}@media(max-width:1024px)and (min-width:481px){.jsx-478a66179a9f35ac:root{--modal-padding:22px}.auth-modal.jsx-478a66179a9f35ac{max-width:var(--modal-max-width-tablet);min-width:320px}}@media(max-width:480px){.jsx-478a66179a9f35ac:root{--modal-radius:0px;--modal-padding:18px}.auth-backdrop.jsx-478a66179a9f35ac{-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end;padding:0}.auth-modal.jsx-478a66179a9f35ac{width:100%;height:100%;max-width:100%;max-height:100%;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;padding:16px;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;overflow:auto}.auth-close.jsx-478a66179a9f35ac{top:10px;right:10px;font-size:20px}}.auth-primaryBtn.jsx-478a66179a9f35ac,.auth-successBtn.jsx-478a66179a9f35ac{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:8px;margin-top:14px;width:100%;padding:12px 16px;font-weight:700;font-size:1rem;color:white;border:none;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;cursor:pointer;background:-webkit-linear-gradient(left,rgba(107,96,255,.95),rgba(110,242,241,.95));background:-moz-linear-gradient(left,rgba(107,96,255,.95),rgba(110,242,241,.95));background:-o-linear-gradient(left,rgba(107,96,255,.95),rgba(110,242,241,.95));background:linear-gradient(90deg,rgba(107,96,255,.95),rgba(110,242,241,.95));-webkit-box-shadow:0 12px 30px rgba(107,96,255,.14);-moz-box-shadow:0 12px 30px rgba(107,96,255,.14);box-shadow:0 12px 30px rgba(107,96,255,.14);-webkit-transition:-webkit-transform 160ms ease,box-shadow 160ms ease,opacity 120ms ease;-moz-transition:-moz-transform 160ms ease,box-shadow 160ms ease,opacity 120ms ease;-o-transition:-o-transform 160ms ease,box-shadow 160ms ease,opacity 120ms ease;transition:-webkit-transform 160ms ease,box-shadow 160ms ease,opacity 120ms ease;transition:-moz-transform 160ms ease,box-shadow 160ms ease,opacity 120ms ease;transition:-o-transform 160ms ease,box-shadow 160ms ease,opacity 120ms ease;transition:transform 160ms ease,box-shadow 160ms ease,opacity 120ms ease}.auth-primaryBtn[disabled].jsx-478a66179a9f35ac,.auth-successBtn[disabled].jsx-478a66179a9f35ac{opacity:.6;cursor:not-allowed}.auth-links.jsx-478a66179a9f35ac{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;margin-top:12px;font-size:.95rem}.auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac{text-decoration:none;color:#bfeff0;font-weight:600}#register-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;padding:8px 12px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background:transparent;border:1px solid var(--btn-alt-border);color:var(--btn-alt-color);font-weight:700;-webkit-transition:background-color 160ms ease,-webkit-transform 120ms ease,box-shadow 160ms ease;-moz-transition:background-color 160ms ease,-moz-transform 120ms ease,box-shadow 160ms ease;-o-transition:background-color 160ms ease,-o-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,-webkit-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,-moz-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,-o-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,transform 120ms ease,box-shadow 160ms ease}#register-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac:hover,#register-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac:focus{background:-webkit-linear-gradient(left,rgba(110,242,241,.06),rgba(107,96,255,.04));background:-moz-linear-gradient(left,rgba(110,242,241,.06),rgba(107,96,255,.04));background:-o-linear-gradient(left,rgba(110,242,241,.06),rgba(107,96,255,.04));background:linear-gradient(90deg,rgba(110,242,241,.06),rgba(107,96,255,.04));-webkit-box-shadow:0 10px 30px rgba(110,242,241,.06);-moz-box-shadow:0 10px 30px rgba(110,242,241,.06);box-shadow:0 10px 30px rgba(110,242,241,.06);-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);outline:none}#login-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;padding:8px 12px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,.06);color:#fff;font-weight:700;-webkit-transition:background-color 160ms ease,-webkit-transform 120ms ease,box-shadow 160ms ease;-moz-transition:background-color 160ms ease,-moz-transform 120ms ease,box-shadow 160ms ease;-o-transition:background-color 160ms ease,-o-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,-webkit-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,-moz-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,-o-transform 120ms ease,box-shadow 160ms ease;transition:background-color 160ms ease,transform 120ms ease,box-shadow 160ms ease}#login-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac:hover,#login-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac:focus{background:rgba(255,255,255,.04);-webkit-box-shadow:0 10px 30px rgba(255,255,255,.04);-moz-box-shadow:0 10px 30px rgba(255,255,255,.04);box-shadow:0 10px 30px rgba(255,255,255,.04);-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);outline:none}.auth-links.jsx-478a66179a9f35ac span.text-muted.jsx-478a66179a9f35ac{opacity:.9;font-weight:500}@media(min-width:481px){#register-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac,#login-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac{padding:10px 14px}}@media(max-width:480px){#register-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac,#login-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac{display:inline-block;padding:6px 8px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-weight:600}.auth-links.jsx-478a66179a9f35ac{gap:8px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}}.auth-close.jsx-478a66179a9f35ac{position:absolute;top:12px;right:12px;background:transparent;border:0;color:var(--muted);font-size:22px;line-height:1;padding:6px;cursor:pointer;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-transition:background 160ms ease,color 160ms ease,-webkit-transform 120ms ease;-moz-transition:background 160ms ease,color 160ms ease,-moz-transform 120ms ease;-o-transition:background 160ms ease,color 160ms ease,-o-transform 120ms ease;transition:background 160ms ease,color 160ms ease,-webkit-transform 120ms ease;transition:background 160ms ease,color 160ms ease,-moz-transform 120ms ease;transition:background 160ms ease,color 160ms ease,-o-transform 120ms ease;transition:background 160ms ease,color 160ms ease,transform 120ms ease;z-index:2147483650}.auth-close.jsx-478a66179a9f35ac:hover{background:rgba(255,255,255,.04);color:#fff;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.auth-input.jsx-478a66179a9f35ac{width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:11px 12px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;border:1px solid rgba(255,255,255,.04);background:rgba(255,255,255,.03);color:#eafcff;font-size:.98rem}.auth-input.jsx-478a66179a9f35ac:focus{outline:none;-webkit-box-shadow:0 6px 20px rgba(110,242,241,.06);-moz-box-shadow:0 6px 20px rgba(110,242,241,.06);box-shadow:0 6px 20px rgba(110,242,241,.06);border-color:rgba(110,242,241,.28)}.auth-pw-checklist.jsx-478a66179a9f35ac{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px 12px;margin-top:10px;font-size:.9rem;color:var(--muted)}@media(prefers-reduced-motion:reduce){.auth-modal.jsx-478a66179a9f35ac,.auth-close.jsx-478a66179a9f35ac,.auth-primaryBtn.jsx-478a66179a9f35ac,.auth-successBtn.jsx-478a66179a9f35ac,#register-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac,#login-form.jsx-478a66179a9f35ac .auth-links.jsx-478a66179a9f35ac a.jsx-478a66179a9f35ac{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;transition:none!important}}"})]});return o.createPortal(er,ei.current)}},14532:function(e,t,i){"use strict";i.d(t,{Z:function(){return h}});var r=i(85893),s=i(40645),n=i.n(s),a=i(77414),o=i(11163),l=i(89681);let u=[{id:"micro",name:"Micro",amount:"$100",duration:"3 days",yield:"+15%",accent:"#06b6d4",icon:"spark"},{id:"starter",name:"Starter",amount:"$500",duration:"3 days",yield:"+18%",accent:"#0ea5a4",icon:"bolt"},{id:"basic",name:"Basic",amount:"$1,000",duration:"4 days",yield:"+30%",accent:"#06b6d4",icon:"shield"},{id:"bronze",name:"Bronze",amount:"$10,000",duration:"5 days",yield:"+35%",accent:"#c2410c",icon:"shield"},{id:"silver",name:"Silver",amount:"$25,000",duration:"6 days",yield:"+40%",accent:"#64748b",icon:"bolt"},{id:"gold",name:"Gold",amount:"$50,000",duration:"7 days",yield:"+45%",accent:"#f59e0b",icon:"star"},{id:"platinum",name:"Platinum",amount:"$100,000",duration:"10 days",yield:"+50%",accent:"#7c3aed",icon:"crown"}];function c(e){let{name:t,color:i}=e,s={width:40,height:40,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};switch(t){case"spark":return(0,r.jsxs)("svg",{...s,"aria-hidden":!0,children:[(0,r.jsx)("path",{d:"M12 2v4",stroke:i,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12 18v4",stroke:i,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M4.9 4.9l2.8 2.8",stroke:i,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M16.3 16.3l2.8 2.8",stroke:i,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3.2",stroke:i,strokeWidth:"1.6"})]});case"shield":return(0,r.jsxs)("svg",{...s,"aria-hidden":!0,children:[(0,r.jsx)("path",{d:"M12 2l7 4v5c0 5-3.6 9.8-7 11-3.4-1.2-7-6-7-11V6l7-4z",stroke:i,strokeWidth:"1.2",strokeLinejoin:"round",fill:"rgba(0,0,0,0.03)"}),(0,r.jsx)("path",{d:"M9 12l2 2 4-4",stroke:i,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]});case"bolt":return(0,r.jsx)("svg",{...s,"aria-hidden":!0,children:(0,r.jsx)("path",{d:"M13 2L3 14h7l-1 8 10-12h-7l1-8z",stroke:i,strokeWidth:"1.2",strokeLinejoin:"round",fill:"rgba(0,0,0,0.03)"})});case"star":return(0,r.jsx)("svg",{...s,"aria-hidden":!0,children:(0,r.jsx)("path",{d:"M12 2l2.6 5.9L21 9l-4.5 3.7L17.2 21 12 17.8 6.8 21l.7-8.3L3 9l6.4-1.1L12 2z",stroke:i,strokeWidth:"1.0",strokeLinejoin:"round",fill:"rgba(0,0,0,0.03)"})});case"crown":return(0,r.jsx)("svg",{...s,"aria-hidden":!0,children:(0,r.jsx)("path",{d:"M3 11l3-6 5 6 5-6 3 6v7H3v-7z",stroke:i,strokeWidth:"1.2",strokeLinejoin:"round",fill:"rgba(0,0,0,0.02)"})});default:return null}}function h(){let{user:e,openAuthModal:t}=(0,a.a)(),i=(0,o.useRouter)();return(0,r.jsxs)(l.E.section,{className:"investment-section",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.15},transition:{duration:.8},children:[(0,r.jsxs)("div",{className:"jsx-64b8eb4dec1d462d container",children:[(0,r.jsxs)("header",{className:"jsx-64b8eb4dec1d462d section-head",children:[(0,r.jsx)("p",{className:"jsx-64b8eb4dec1d462d eyebrow",children:"Investment Plans"}),(0,r.jsx)("h2",{className:"jsx-64b8eb4dec1d462d title",children:"Choose the plan that suits your ambition"}),(0,r.jsx)("p",{className:"jsx-64b8eb4dec1d462d subtitle",children:"Short-term, high-yield crypto investment plans with transparent durations and payouts."})]}),(0,r.jsx)("div",{className:"jsx-64b8eb4dec1d462d grid",children:u.map((s,n)=>{let a="gold"===s.id||"platinum"===s.id;return(0,r.jsxs)(l.E.article,{className:"card ".concat(a?"card-featured":""),initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.18},transition:{type:"spring",stiffness:160,damping:18,delay:.08*n},whileHover:{translateY:-8,boxShadow:"0 18px 40px rgba(16,24,40,0.12)"},role:"region","aria-labelledby":"plan-".concat(s.id),children:[(0,r.jsxs)("div",{className:"jsx-64b8eb4dec1d462d card-top",children:[(0,r.jsx)("div",{style:{background:"".concat(s.accent,"22"),boxShadow:"inset 0 0 18px ".concat(s.accent,"11")},className:"jsx-64b8eb4dec1d462d icon-wrap",children:(0,r.jsx)(c,{name:s.icon,color:s.accent})}),(0,r.jsxs)("div",{className:"jsx-64b8eb4dec1d462d plan-meta",children:[(0,r.jsx)("h3",{id:"plan-".concat(s.id),className:"jsx-64b8eb4dec1d462d plan-name",children:s.name}),(0,r.jsx)("div",{style:{background:"".concat(s.accent,"1a"),color:s.accent},className:"jsx-64b8eb4dec1d462d plan-badge",children:a?"Popular":"Standard"})]})]}),(0,r.jsxs)("div",{className:"jsx-64b8eb4dec1d462d card-body",children:[(0,r.jsx)("div",{className:"jsx-64b8eb4dec1d462d amount",children:s.amount}),(0,r.jsxs)("ul",{"aria-hidden":!0,className:"jsx-64b8eb4dec1d462d features",children:[(0,r.jsxs)("li",{className:"jsx-64b8eb4dec1d462d",children:[(0,r.jsx)("span",{className:"jsx-64b8eb4dec1d462d feature-label",children:"Duration"}),(0,r.jsx)("span",{className:"jsx-64b8eb4dec1d462d feature-value",children:s.duration})]}),(0,r.jsxs)("li",{className:"jsx-64b8eb4dec1d462d",children:[(0,r.jsx)("span",{className:"jsx-64b8eb4dec1d462d feature-label",children:"Yield"}),(0,r.jsx)("span",{className:"jsx-64b8eb4dec1d462d feature-value",children:s.yield})]}),(0,r.jsxs)("li",{className:"jsx-64b8eb4dec1d462d",children:[(0,r.jsx)("span",{className:"jsx-64b8eb4dec1d462d feature-label",children:"Min. Invest"}),(0,r.jsx)("span",{className:"jsx-64b8eb4dec1d462d feature-value",children:s.amount})]})]})]}),(0,r.jsx)("div",{className:"jsx-64b8eb4dec1d462d card-footer",children:(0,r.jsxs)("button",{onClick:()=>{e?i.push("/profile?invest=true"):t&&t()},"aria-label":"Invest now in ".concat(s.name," plan"),className:"jsx-64b8eb4dec1d462d cta",children:["Invest Now",(0,r.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,className:"jsx-64b8eb4dec1d462d cta-arrow",children:(0,r.jsx)("path",{d:"M5 12h14M13 5l6 7-6 7",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-64b8eb4dec1d462d"})})]})})]},s.id)})})]}),(0,r.jsx)(n(),{id:"64b8eb4dec1d462d",children:".investment-section.jsx-64b8eb4dec1d462d{padding:64px 0;background:-webkit-linear-gradient(top,#fff 0%,#fbfdff 100%);background:-moz-linear-gradient(top,#fff 0%,#fbfdff 100%);background:-o-linear-gradient(top,#fff 0%,#fbfdff 100%);background:linear-gradient(180deg,#fff 0%,#fbfdff 100%)}.container.jsx-64b8eb4dec1d462d{max-width:1140px;margin:0 auto;padding:0 18px}.section-head.jsx-64b8eb4dec1d462d{text-align:center;max-width:820px;margin:0 auto 36px}.eyebrow.jsx-64b8eb4dec1d462d{font-weight:700;color:#2563eb;letter-spacing:.4px;margin-bottom:10px}.title.jsx-64b8eb4dec1d462d{font-size:1.9rem;margin:0 0 8px;color:#0f172a}.subtitle.jsx-64b8eb4dec1d462d{margin:0;color:#475569}.grid.jsx-64b8eb4dec1d462d{display:grid;grid-template-columns:repeat(1,1fr);gap:18px;margin-top:22px}@media(min-width:640px){.grid.jsx-64b8eb4dec1d462d{grid-template-columns:repeat(2,1fr);gap:20px}}@media(min-width:992px){.grid.jsx-64b8eb4dec1d462d{grid-template-columns:repeat(3,1fr);gap:22px}}@media(min-width:1200px){.grid.jsx-64b8eb4dec1d462d{grid-template-columns:repeat(4,1fr);gap:26px}}.card.jsx-64b8eb4dec1d462d{background:-webkit-linear-gradient(top,rgba(255,255,255,.8),rgba(255,255,255,.7));background:-moz-linear-gradient(top,rgba(255,255,255,.8),rgba(255,255,255,.7));background:-o-linear-gradient(top,rgba(255,255,255,.8),rgba(255,255,255,.7));background:linear-gradient(180deg,rgba(255,255,255,.8),rgba(255,255,255,.7));-webkit-border-radius:14px;-moz-border-radius:14px;border-radius:14px;padding:16px;border:1px solid rgba(15,23,42,.04);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:280px;-webkit-transition:-webkit-transform 180ms ease,box-shadow 220ms ease;-moz-transition:-moz-transform 180ms ease,box-shadow 220ms ease;-o-transition:-o-transform 180ms ease,box-shadow 220ms ease;transition:-webkit-transform 180ms ease,box-shadow 220ms ease;transition:-moz-transform 180ms ease,box-shadow 220ms ease;transition:-o-transform 180ms ease,box-shadow 220ms ease;transition:transform 180ms ease,box-shadow 220ms ease;position:relative;overflow:visible}.card-featured.jsx-64b8eb4dec1d462d{border:none;background:-webkit-linear-gradient(top,rgba(124,58,237,.06),rgba(124,58,237,.03));background:-moz-linear-gradient(top,rgba(124,58,237,.06),rgba(124,58,237,.03));background:-o-linear-gradient(top,rgba(124,58,237,.06),rgba(124,58,237,.03));background:linear-gradient(180deg,rgba(124,58,237,.06),rgba(124,58,237,.03));outline:1px solid rgba(124,58,237,.06)}.card-top.jsx-64b8eb4dec1d462d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;margin-bottom:12px}.icon-wrap.jsx-64b8eb4dec1d462d{width:64px;height:64px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transform:translatez(0);-moz-transform:translatez(0);-ms-transform:translatez(0);-o-transform:translatez(0);transform:translatez(0)}.plan-meta.jsx-64b8eb4dec1d462d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.plan-name.jsx-64b8eb4dec1d462d{font-size:1.05rem;margin:0;color:#0f172a;font-weight:700}.plan-badge.jsx-64b8eb4dec1d462d{font-size:12px;margin-top:6px;padding:4px 8px;-webkit-border-radius:999px;-moz-border-radius:999px;border-radius:999px;display:inline-block}.card-body.jsx-64b8eb4dec1d462d{margin-top:8px;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.amount.jsx-64b8eb4dec1d462d{font-size:1.45rem;font-weight:800;color:#0b1220;margin-bottom:12px}.features.jsx-64b8eb4dec1d462d{list-style:none;padding:0;margin:0;display:grid;gap:8px}.features.jsx-64b8eb4dec1d462d li.jsx-64b8eb4dec1d462d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#334155;font-weight:600;padding:8px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:rgba(15,23,42,.02)}.feature-label.jsx-64b8eb4dec1d462d{opacity:.85;font-weight:600}.feature-value.jsx-64b8eb4dec1d462d{font-weight:800;color:#0f172a}.card-footer.jsx-64b8eb4dec1d462d{margin-top:14px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.cta.jsx-64b8eb4dec1d462d{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;gap:10px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:10px 16px;background:-webkit-linear-gradient(left,#2563eb,#1d4ed8);background:-moz-linear-gradient(left,#2563eb,#1d4ed8);background:-o-linear-gradient(left,#2563eb,#1d4ed8);background:linear-gradient(90deg,#2563eb,#1d4ed8);color:white;border:none;-webkit-border-radius:999px;-moz-border-radius:999px;border-radius:999px;font-weight:800;cursor:pointer;-webkit-box-shadow:0 8px 20px rgba(37,99,235,.12);-moz-box-shadow:0 8px 20px rgba(37,99,235,.12);box-shadow:0 8px 20px rgba(37,99,235,.12);-webkit-transition:-webkit-transform 180ms ease,box-shadow 220ms ease,background 200ms ease;-moz-transition:-moz-transform 180ms ease,box-shadow 220ms ease,background 200ms ease;-o-transition:-o-transform 180ms ease,box-shadow 220ms ease,background 200ms ease;transition:-webkit-transform 180ms ease,box-shadow 220ms ease,background 200ms ease;transition:-moz-transform 180ms ease,box-shadow 220ms ease,background 200ms ease;transition:-o-transform 180ms ease,box-shadow 220ms ease,background 200ms ease;transition:transform 180ms ease,box-shadow 220ms ease,background 200ms ease}.cta.jsx-64b8eb4dec1d462d:hover{-webkit-transform:translatey(-3px);-moz-transform:translatey(-3px);-ms-transform:translatey(-3px);-o-transform:translatey(-3px);transform:translatey(-3px);-webkit-box-shadow:0 20px 40px rgba(16,24,40,.12);-moz-box-shadow:0 20px 40px rgba(16,24,40,.12);box-shadow:0 20px 40px rgba(16,24,40,.12)}.cta.jsx-64b8eb4dec1d462d:active{-webkit-transform:translatey(-1px)scale(.995);-moz-transform:translatey(-1px)scale(.995);-ms-transform:translatey(-1px)scale(.995);-o-transform:translatey(-1px)scale(.995);transform:translatey(-1px)scale(.995)}.cta-arrow.jsx-64b8eb4dec1d462d{opacity:.9;-webkit-transform:translatex(0);-moz-transform:translatex(0);-ms-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);-webkit-transition:-webkit-transform 220ms ease;-moz-transition:-moz-transform 220ms ease;-o-transition:-o-transform 220ms ease;transition:-webkit-transform 220ms ease;transition:-moz-transform 220ms ease;transition:-o-transform 220ms ease;transition:transform 220ms ease}.cta.jsx-64b8eb4dec1d462d:hover .cta-arrow.jsx-64b8eb4dec1d462d{-webkit-transform:translatex(4px);-moz-transform:translatex(4px);-ms-transform:translatex(4px);-o-transform:translatex(4px);transform:translatex(4px)}.card-featured.jsx-64b8eb4dec1d462d .plan-name.jsx-64b8eb4dec1d462d{color:#5b21b6}.card-featured.jsx-64b8eb4dec1d462d .amount.jsx-64b8eb4dec1d462d{color:#3b0764}.card-featured.jsx-64b8eb4dec1d462d .cta.jsx-64b8eb4dec1d462d{background:-webkit-linear-gradient(left,#7c3aed,#4c1d95);background:-moz-linear-gradient(left,#7c3aed,#4c1d95);background:-o-linear-gradient(left,#7c3aed,#4c1d95);background:linear-gradient(90deg,#7c3aed,#4c1d95);-webkit-box-shadow:0 18px 50px rgba(124,58,237,.12);-moz-box-shadow:0 18px 50px rgba(124,58,237,.12);box-shadow:0 18px 50px rgba(124,58,237,.12)}@media(max-width:480px){.container.jsx-64b8eb4dec1d462d{padding-left:12px;padding-right:12px}.card.jsx-64b8eb4dec1d462d{padding:14px;min-height:260px}.icon-wrap.jsx-64b8eb4dec1d462d{width:56px;height:56px}.amount.jsx-64b8eb4dec1d462d{font-size:1.25rem}}"})]})}},77414:function(e,t,i){"use strict";i.d(t,{a:function(){return l},d:function(){return o}});var r=i(85893),s=i(67294),n=i(77366);let a=(0,s.createContext)();function o(e){let{children:t}=e,[i,o]=(0,s.useState)(void 0),[l,u]=(0,s.useState)(!1),[c,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)(null);async function p(e){let{data:t,error:i}=await n.O.from("profiles").select("*").eq("id",e).single();return t||{}}function m(e){o(e),e?window.sessionStorage.setItem("currentUser",JSON.stringify(e)):window.sessionStorage.removeItem("currentUser")}function g(e){throw Error(e)}async function b(e){let{name:t,email:i,password:r}=e;i&&r&&t||g("All fields are required.");let{data:s,error:a}=await n.O.auth.signUp({email:i,password:r});a&&g(a.message||"Could not register user."),s.user||g("Registration failed.");let{error:o}=await n.O.from("profiles").insert([{id:s.user.id,name:t,email:i,is_admin:!1}]);o&&g(o.message||"Could not create user profile.");let l={id:s.user.id,email:s.user.email,name:t,is_admin:!1,profilePic:""};return m(l),l}async function y(e){let{email:t,password:i}=e;t&&i||g("Please enter email and password.");let{data:r,error:s}=await n.O.auth.signInWithPassword({email:t,password:i});s&&g(s.message||"Invalid email or password."),r.user||g("Login failed.");let a=await p(r.user.id),o={id:r.user.id,email:r.user.email,name:(null==a?void 0:a.name)||"",is_admin:!!(null==a?void 0:a.is_admin),profilePic:(null==a?void 0:a.profilePic)||"",...a};return m(o),o}async function v(){await n.O.auth.signOut(),m(null),window.localStorage.removeItem("df-messenger-chat-history"),window.sessionStorage.removeItem("df-messenger-chat-history")}return(0,s.useEffect)(()=>{(async function(){let{data:{session:e}}=await n.O.auth.getSession();if(null==e?void 0:e.user){let t=await p(e.user.id),i={id:e.user.id,email:e.user.email,name:(null==t?void 0:t.name)||"",is_admin:!!(null==t?void 0:t.is_admin),profilePic:(null==t?void 0:t.profilePic)||"",...t};o(i),window.sessionStorage.setItem("currentUser",JSON.stringify(i))}else o(null)})()},[]),(0,r.jsx)(a.Provider,{value:{user:i,updateUser:m,register:b,login:y,logout:v,showAuthModal:l,openAuthModal:function(){u(!0)},closeAuthModal:function(){u(!1)},showInvestModal:c,openInvestModal:function(e){f(e||null),h(!0)},closeInvestModal:function(){h(!1),f(null)},selectedPlan:d},children:t})}function l(){return(0,s.useContext)(a)}},77366:function(e,t,i){"use strict";i.d(t,{O:function(){return ir}});let r=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(i.bind(i,89743)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)};class s extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class n extends s{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a extends s{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o extends s{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(m=g||(g={})).Any="any",m.ApNortheast1="ap-northeast-1",m.ApNortheast2="ap-northeast-2",m.ApSouth1="ap-south-1",m.ApSoutheast1="ap-southeast-1",m.ApSoutheast2="ap-southeast-2",m.CaCentral1="ca-central-1",m.EuCentral1="eu-central-1",m.EuWest1="eu-west-1",m.EuWest2="eu-west-2",m.EuWest3="eu-west-3",m.SaEast1="sa-east-1",m.UsEast1="us-east-1",m.UsWest1="us-west-1",m.UsWest2="us-west-2";class l{constructor(e,{headers:t={},customFetch:i,region:s=g.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=r(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){var t,i,r,s;return t=this,i=arguments,r=void 0,s=function*(e,t={}){var i;try{let r;let{headers:s,method:l,body:u,signal:c}=t,h={},{region:d}=t;d||(d=this.region);let f=new URL(`${this.url}/${e}`);d&&"any"!==d&&(h["x-region"]=d,f.searchParams.set("forceFunctionRegion",d)),u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",r=u):"string"==typeof u?(h["Content-Type"]="text/plain",r=u):"undefined"!=typeof FormData&&u instanceof FormData?r=u:(h["Content-Type"]="application/json",r=JSON.stringify(u)));let p=yield this.fetch(f.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:r,signal:c}).catch(e=>{if("AbortError"===e.name)throw e;throw new n(e)}),m=p.headers.get("x-relay-error");if(m&&"true"===m)throw new a(p);if(!p.ok)throw new o(p);let g=(null!==(i=p.headers.get("Content-Type"))&&void 0!==i?i:"text/plain").split(";")[0].trim();return{data:"application/json"===g?yield p.json():"application/octet-stream"===g?yield p.blob():"text/event-stream"===g?p:"multipart/form-data"===g?yield p.formData():yield p.text(),error:null,response:p}}catch(e){if(e instanceof Error&&"AbortError"===e.name)return{data:null,error:new n(e)};return{data:null,error:e,response:e instanceof o||e instanceof a?e.context:void 0}}},new(r||(r=Promise))(function(e,n){function a(e){try{l(s.next(e))}catch(e){n(e)}}function o(e){try{l(s.throw(e))}catch(e){n(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof r?i:new r(function(e){e(i)})).then(a,o)}l((s=s.apply(t,i||[])).next())})}}let{PostgrestClient:u,PostgrestQueryBuilder:c,PostgrestFilterBuilder:h,PostgrestTransformBuilder:d,PostgrestBuilder:f,PostgrestError:p}=i(50159);var m,g,b,y,v,w,_,x,k,j,S,T,E,A,C,O,P,R,I,L,N,D=i(83454);class ${static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==i.g&&void 0!==i.g.WebSocket)return{type:"native",constructor:i.g.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(void 0!==D){let e=D.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}(E=b||(b={}))[E.connecting=0]="connecting",E[E.open=1]="open",E[E.closing=2]="closing",E[E.closed=3]="closed",(A=y||(y={})).closed="closed",A.errored="errored",A.joined="joined",A.joining="joining",A.leaving="leaving",(C=v||(v={})).close="phx_close",C.error="phx_error",C.join="phx_join",C.reply="phx_reply",C.leave="phx_leave",C.access_token="access_token",(w||(w={})).websocket="websocket",(O=_||(_={})).Connecting="connecting",O.Open="open",O.Closing="closing",O.Closed="closed";class M{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){let r=t.getUint8(1),s=t.getUint8(2),n=this.HEADER_LENGTH+2,a=i.decode(e.slice(n,n+r));n+=r;let o=i.decode(e.slice(n,n+s));return n+=s,{ref:null,topic:a,event:o,payload:JSON.parse(i.decode(e.slice(n,e.byteLength)))}}}class B{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(P=x||(x={})).abstime="abstime",P.bool="bool",P.date="date",P.daterange="daterange",P.float4="float4",P.float8="float8",P.int2="int2",P.int4="int4",P.int4range="int4range",P.int8="int8",P.int8range="int8range",P.json="json",P.jsonb="jsonb",P.money="money",P.numeric="numeric",P.oid="oid",P.reltime="reltime",P.text="text",P.time="time",P.timestamp="timestamp",P.timestamptz="timestamptz",P.timetz="timetz",P.tsrange="tsrange",P.tstzrange="tstzrange";let U=(e,t,i={})=>{var r;let s=null!==(r=i.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=F(r,e,t,s),i),{}):{}},F=(e,t,i,r)=>{let s=t.find(t=>t.name===e),n=null==s?void 0:s.type,a=i[e];return n&&!r.includes(n)?z(n,a):V(a)},z=(e,t)=>{if("_"===e.charAt(0))return K(t,e.slice(1,e.length));switch(e){case x.bool:return W(t);case x.float4:case x.float8:case x.int2:case x.int4:case x.int8:case x.numeric:case x.oid:return q(t);case x.json:case x.jsonb:return H(t);case x.timestamp:return J(t);case x.abstime:case x.date:case x.daterange:case x.int4range:case x.int8range:case x.money:case x.reltime:case x.text:case x.time:case x.timestamptz:case x.timetz:case x.tsrange:case x.tstzrange:default:return V(t)}},V=e=>e,W=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},K=(e,t)=>{if("string"!=typeof e)return e;let i=e.length-1,r=e[i];if("{"===e[0]&&"}"===r){let r;let s=e.slice(1,i);try{r=JSON.parse("["+s+"]")}catch(e){r=s?s.split(","):[]}return r.map(e=>z(t,e))}return e},J=e=>"string"==typeof e?e.replace(" ","T"):e,G=e=>{let t=e;return(t=(t=t.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")+"/api/broadcast"};class Y{constructor(e,t,i={},r=1e4){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t(null===(i=this.receivedResp)||void 0===i?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(R=k||(k={})).SYNC="sync",R.JOIN="join",R.LEAVE="leave";class X{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let i=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},e=>{let{onJoin:t,onLeave:i,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=X.syncState(this.state,e,t,i),this.pendingDiffs.forEach(e=>{this.state=X.syncDiff(this.state,e,t,i)}),this.pendingDiffs=[],r()}),this.channel._on(i.diff,{},e=>{let{onJoin:t,onLeave:i,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=X.syncDiff(this.state,e,t,i),r())}),this.onJoin((e,t,i)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:i})}),this.onLeave((e,t,i)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){let s=this.cloneDeep(e),n=this.transformState(t),a={},o={};return this.map(s,(e,t)=>{n[e]||(o[e]=t)}),this.map(n,(e,t)=>{let i=s[e];if(i){let r=t.map(e=>e.presence_ref),s=i.map(e=>e.presence_ref),n=t.filter(e=>0>s.indexOf(e.presence_ref)),l=i.filter(e=>0>r.indexOf(e.presence_ref));n.length>0&&(a[e]=n),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(s,{joins:a,leaves:o},i,r)}static syncDiff(e,t,i,r){let{joins:s,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;let n=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),n.length>0){let i=e[t].map(e=>e.presence_ref),r=n.filter(e=>0>i.indexOf(e.presence_ref));e[t].unshift(...r)}i(t,n,r)}),this.map(n,(t,i)=>{let s=e[t];if(!s)return;let n=i.map(e=>e.presence_ref);s=s.filter(e=>0>n.indexOf(e.presence_ref)),e[t]=s,r(t,s,i),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,i)=>{let r=e[i];return"metas"in r?t[i]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(I=j||(j={})).ALL="*",I.INSERT="INSERT",I.UPDATE="UPDATE",I.DELETE="DELETE",(L=S||(S={})).BROADCAST="broadcast",L.PRESENCE="presence",L.POSTGRES_CHANGES="postgres_changes",L.SYSTEM="system",(N=T||(T={})).SUBSCRIBED="SUBSCRIBED",N.TIMED_OUT="TIMED_OUT",N.CLOSED="CLOSED",N.CHANNEL_ERROR="CHANNEL_ERROR";class Z{constructor(e,t={config:{}},i){var r,s;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=y.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Y(this,v.join,this.params,this.timeout),this.rejoinTimer=new B(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=y.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=y.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=y.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=y.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=y.errored,this.rejoinTimer.scheduleTimeout())}),this._on(v.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new X(this),this.broadcastEndpointURL=G(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(s=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===s?void 0:s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==y.closed){let{config:{broadcast:n,presence:a,private:o}}=this.params,l=null!==(r=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(e=>e.filter))&&void 0!==r?r:[],u=!!this.bindings[S.PRESENCE]&&this.bindings[S.PRESENCE].length>0||(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled)===!0,c={},h={broadcast:n,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(T.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(T.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var i;if(this.socket.setAuth(),void 0===t){null==e||e(T.SUBSCRIBED);return}{let r=this.bindings.postgres_changes,s=null!==(i=null==r?void 0:r.length)&&void 0!==i?i:0,n=[];for(let i=0;i<s;i++){let s=r[i],{filter:{event:a,schema:o,table:l,filter:u}}=s,c=t&&t[i];if(c&&c.event===a&&c.schema===o&&c.table===l&&c.filter===u)n.push(Object.assign(Object.assign({},s),{id:c.id}));else{this.unsubscribe(),this.state=y.errored,null==e||e(T.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=n,e&&e(T.SUBSCRIBED);return}}).receive("error",t=>{this.state=y.errored,null==e||e(T.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(T.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===y.joined&&e===S.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(i=>{var r,s,n;let a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(n=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===n?void 0:n.ack)||i("ok"),a.receive("ok",()=>i("ok")),a.receive("error",()=>i("error")),a.receive("timeout",()=>i("timed out"))});{let{event:s,payload:n}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(i=t.timeout)&&void 0!==i?i:this.timeout);return await (null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=y.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(v.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{(i=new Y(this,v.leave,{},e)).receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{null==i||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=y.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){let r=new AbortController,s=setTimeout(()=>r.abort(),i),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),n}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Y(this,e,t,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,s;let n=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:u}=v;if(i&&[a,o,l,u].indexOf(n)>=0&&i!==this._joinRef())return;let c=this._onMessage(n,t,i);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,i,r;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(r=null===(i=e.filter)||void 0===i?void 0:i.event)||void 0===r?void 0:r.toLocaleLowerCase())===n}).map(e=>e.callback(c,i)):null===(s=this.bindings[n])||void 0===s||s.filter(e=>{var i,r,s,a,o,l;if(!["broadcast","presence","postgres_changes"].includes(n))return e.type.toLocaleLowerCase()===n;if("id"in e){let n=e.id,a=null===(i=e.filter)||void 0===i?void 0:i.event;return n&&(null===(r=t.ids)||void 0===r?void 0:r.includes(n))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{let i=null===(o=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===i||i===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof c&&"ids"in c){let e=c.data,{schema:t,table:i,commit_timestamp:r,type:s,errors:n}=e;c=Object.assign(Object.assign({},{schema:t,table:i,commit_timestamp:r,eventType:s,new:{},old:{},errors:n}),this._getPayloadRecords(e))}e.callback(c,i)})}_isClosed(){return this.state===y.closed}_isJoined(){return this.state===y.joined}_isJoining(){return this.state===y.joining}_isLeaving(){return this.state===y.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){let r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){let i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===i&&Z.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(v.close,{},e)}_onError(e){this._on(v.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=y.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=U(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=U(e.columns,e.old_record)),t}}let Q=()=>{},ee={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},et=[1e3,2e3,5e3,1e4],ei=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class er{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=ee.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Q,this.ref=0,this.reconnectTimer=null,this.logger=Q,this.conn=null,this.sendBuffer=[],this.serializer=new M,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(i.bind(i,89743)).then(({default:t})=>t(...e)).catch(e=>{throw Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):t=fetch,(...e)=>t(...e)},!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${w.websocket}`,this.httpEndpoint=G(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting()){if(this._setConnectionState("disconnecting",!0),this.conn){let i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case b.connecting:return _.Connecting;case b.open:return _.Open;case b.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let i=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===i);if(r)return r;{let i=new Z(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){let{topic:t,event:i,payload:r,ref:s}=e,n=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${i} (${s})`,r),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ee.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(e){this.log("error","error in heartbeat callback",e)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:t,event:i,payload:r,ref:s}=e,n=s?`(${s})`:"",a=r.status||"";this.log("receive",`${a} ${t} ${i} ${n}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(i,r,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(v.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([ei],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t,version:"realtime-js/2.75.0"}),e.joinedOnce&&e._isJoined()&&e._push(v.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new B(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ee.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,r,s,n,a,o,l,u;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(i=null==e?void 0:e.timeout)&&void 0!==i?i:1e4,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:ee.HEARTBEAT_INTERVAL,this.worker=null!==(s=null==e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(n=null==e?void 0:e.accessToken)&&void 0!==n?n:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:Q,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null==e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>et[e-1]||1e4,this.encode=null!==(l=null==e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null==e?void 0:e.decode)&&void 0!==u?u:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class es extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function en(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ea extends es{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eo extends es{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let el=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(i.bind(i,89743)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},eu=()=>{var e,t,r,s;return e=void 0,t=void 0,r=void 0,s=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(i.bind(i,89743))).Response:Response},new(r||(r=Promise))(function(i,n){function a(e){try{l(s.next(e))}catch(e){n(e)}}function o(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((s=s.apply(e,t||[])).next())})},ec=e=>{if(Array.isArray(e))return e.map(e=>ec(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,i])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=ec(i)}),t},eh=e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ed=function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};let ef=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ep=(e,t,i)=>ed(void 0,void 0,void 0,function*(){e instanceof(yield eu())&&!(null==i?void 0:i.noResolveJson)?e.json().then(i=>{let r=e.status||500,s=(null==i?void 0:i.statusCode)||r+"";t(new ea(ef(i),r,s))}).catch(e=>{t(new eo(ef(e),e))}):t(new eo(ef(e),e))}),em=(e,t,i,r)=>{let s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?(eh(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null==t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),i)):s};function eg(e,t,i,r,s,n){return ed(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(i,em(t,r,s,n)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>ep(e,o,r))})})}function eb(e,t,i,r){return ed(this,void 0,void 0,function*(){return eg(e,"GET",t,i,r)})}function ey(e,t,i,r,s){return ed(this,void 0,void 0,function*(){return eg(e,"POST",t,r,s,i)})}function ev(e,t,i,r,s){return ed(this,void 0,void 0,function*(){return eg(e,"PUT",t,r,s,i)})}function ew(e,t,i,r,s){return ed(this,void 0,void 0,function*(){return eg(e,"DELETE",t,r,s,i)})}class e_{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){var e,t,i,r;return e=this,t=void 0,i=void 0,r=function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}},new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}}class ex{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new e_(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){var e,t,i,r;return e=this,t=void 0,i=void 0,r=function*(){try{let e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}},new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}}var ek=i(21876).Buffer,ej=function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};let eS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eE{constructor(e,t={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=el(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,r){return ej(this,void 0,void 0,function*(){try{let s;let n=Object.assign(Object.assign({},eT),r),a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)}),o=n.metadata;"undefined"!=typeof Blob&&i instanceof Blob?((s=new FormData).append("cacheControl",n.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",i)):"undefined"!=typeof FormData&&i instanceof FormData?((s=i).append("cacheControl",n.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=i,a["cache-control"]=`max-age=${n.cacheControl}`,a["content-type"]=n.contentType,o&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null==r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield("PUT"==e?ev:ey)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{}));return{data:{path:l,id:c.Id,fullPath:c.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}upload(e,t,i){return ej(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,r){return ej(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),n=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${n}`);a.searchParams.set("token",t);try{let e;let t=Object.assign({upsert:eT.upsert},r),n=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&i instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",i)):"undefined"!=typeof FormData&&i instanceof FormData?(e=i).append("cacheControl",t.cacheControl):(e=i,n["cache-control"]=`max-age=${t.cacheControl}`,n["content-type"]=t.contentType);let o=yield ev(this.fetch,a.toString(),e,{headers:n});return{data:{path:s,fullPath:o.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return ej(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");let s=yield ey(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),n=new URL(this.url+s.url),a=n.searchParams.get("token");if(!a)throw new es("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:a},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}update(e,t,i){return ej(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ej(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==i?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}copy(e,t,i){return ej(this,void 0,void 0,function*(){try{return{data:{path:(yield ey(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==i?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,i){return ej(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield ey(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==i?void 0:i.transform)?{transform:i.transform}:{}),{headers:this.headers}),n=(null==i?void 0:i.download)?`&download=${!0===i.download?"":i.download}`:"";return{data:s={signedUrl:encodeURI(`${this.url}${s.signedURL}${n}`)},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,i){return ej(this,void 0,void 0,function*(){try{let r=yield ey(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==i?void 0:i.download)?`&download=${!0===i.download?"":i.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}download(e,t){let i=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"",n=this._getFinalPath(e);return new ex(()=>eb(this.fetch,`${this.url}/${i}/${n}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return ej(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let e=yield eb(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ec(e),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}exists(e){return ej(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield function(e,t,i,r){return ed(this,void 0,void 0,function*(){return eg(e,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),void 0)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e)&&e instanceof eo){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){let i=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);let n=void 0!==(null==t?void 0:t.transform),a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&r.push(a);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n?"render/image":"object"}/public/${i}${o}`)}}}remove(e){return ej(this,void 0,void 0,function*(){try{return{data:yield ew(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}list(e,t,i){return ej(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},eS),t),{prefix:e||""});return{data:yield ey(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}listV2(e,t){return ej(this,void 0,void 0,function*(){try{let i=Object.assign({},e);return{data:yield ey(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return void 0!==ek?ek.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eA={"X-Client-Info":"storage-js/2.75.0"};var eC=function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};class eO{constructor(e,t={},i,r){this.shouldThrowOnError=!1;let s=new URL(e);(null==r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eA),t),this.fetch=el(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return eC(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}getBucket(e){return eC(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}createBucket(e){return eC(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield ey(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return eC(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}emptyBucket(e){return eC(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}deleteBucket(e){return eC(this,void 0,void 0,function*(){try{return{data:yield ew(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}}class eP extends eO{constructor(e,t={},i,r){super(e,t,i,r)}from(e){return new eE(this.url,this.headers,e,this.fetch)}}let eR="";"undefined"!=typeof Deno?eR="deno":"undefined"!=typeof document?eR="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?eR="react-native":eR="node";let eI={headers:{"X-Client-Info":`supabase-js-${eR}/2.75.0`}},eL={schema:"public"},eN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eD={};var e$=i(89743);let eM=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=e$.default:t=fetch,(...e)=>t(...e)},eB=()=>"undefined"==typeof Headers?e$.Headers:Headers,eU=(e,t,i)=>{let r=eM(i),s=eB();return(i,n)=>{var a,o,l,u;return a=void 0,o=void 0,l=void 0,u=function*(){var a;let o=null!==(a=yield t())&&void 0!==a?a:e,l=new s(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(i,Object.assign(Object.assign({},n),{headers:l}))},new(l||(l=Promise))(function(e,t){function i(e){try{s(u.next(e))}catch(e){t(e)}}function r(e){try{s(u.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):((s=t.value)instanceof l?s:new l(function(e){e(s)})).then(i,r)}s((u=u.apply(a,o||[])).next())})}},eF="2.75.0",ez={"X-Client-Info":`gotrue-js/${eF}`},eV="X-Supabase-Api-Version",eW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class eH extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function eK(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class eJ extends eH{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}class eG extends eH{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class eY extends eH{constructor(e,t,i,r){super(e,i,r),this.name=t,this.status=i}}class eX extends eY{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class eZ extends eY{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eQ extends eY{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class e0 extends eY{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e1 extends eY{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e2 extends eY{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function e6(e){return eK(e)&&"AuthRetryableFetchError"===e.name}class e4 extends eY{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class e5 extends eY{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let e8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e3=" 	\n\r=".split(""),e9=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<e3.length;t+=1)e[e3[t].charCodeAt(0)]=-2;for(let t=0;t<e8.length;t+=1)e[e8[t].charCodeAt(0)]=t;return e})();function e7(e,t,i){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)i(e8[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)i(e8[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function te(e,t,i){let r=e9[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===r)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function tt(e){let t=[],i=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},n=e=>{!function(e,t,i){if(0===t.utf8seq){if(e<=127){i(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)==0){t.utf8seq=i;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&i(t.codepoint)}}(e,r,i)};for(let t=0;t<e.length;t+=1)te(e.charCodeAt(t),s,n);return t.join("")}function ti(e){let t=[],i={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)te(e.charCodeAt(t),i,r);return new Uint8Array(t)}function tr(e){let t=[],i={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>e7(e,i,r)),e7(null,i,r),t.join("")}let ts=()=>"undefined"!=typeof window&&"undefined"!=typeof document,tn={tested:!1,writable:!1},ta=()=>{if(!ts())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(tn.tested)return tn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tn.tested=!0,tn.writable=!0}catch(e){tn.tested=!0,tn.writable=!1}return tn.writable},to=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(i.bind(i,89743)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},tl=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,tu=async(e,t,i)=>{await e.setItem(t,JSON.stringify(i))},tc=async(e,t)=>{let i=await e.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch(e){return i}},th=async(e,t)=>{await e.removeItem(t)};class td{constructor(){this.promise=new td.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function tf(e){let t=e.split(".");if(3!==t.length)throw new e5("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!eq.test(t[e]))throw new e5("JWT not in base64url format");return{header:JSON.parse(tt(t[0])),payload:JSON.parse(tt(t[1])),signature:ti(t[2]),raw:{header:t[0],payload:t[1]}}}async function tp(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tm(e){return("0"+e.toString(16)).substr(-2)}async function tg(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function tb(e){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?btoa(await tg(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}async function ty(e,t,i=!1){let r=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,i="";for(let r=0;r<56;r++)i+=e.charAt(Math.floor(Math.random()*t));return i}return crypto.getRandomValues(e),Array.from(e,tm).join("")}(),s=r;i&&(s+="/PASSWORD_RECOVERY"),await tu(e,`${t}-code-verifier`,s);let n=await tb(r),a=r===n?"plain":"s256";return[n,a]}td.promiseConstructor=Promise;let tv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,tw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function t_(e){if(!tw.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tx(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tk(e){return JSON.parse(JSON.stringify(e))}var tj=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i};let tS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tT=[502,503,504];async function tE(e){var t;let i,r;if(!tl(e))throw new e2(tS(e),0);if(tT.includes(e.status))throw new e2(tS(e),e.status);try{i=await e.json()}catch(e){throw new eG(tS(e),e)}let s=function(e){let t=e.headers.get(eV);if(!t||!t.match(tv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(s&&s.getTime()>=eW["2024-01-01"].timestamp&&"object"==typeof i&&i&&"string"==typeof i.code?r=i.code:"object"==typeof i&&i&&"string"==typeof i.error_code&&(r=i.error_code),r){if("weak_password"===r)throw new e4(tS(i),e.status,(null===(t=i.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===r)throw new eX}else if("object"==typeof i&&i&&"object"==typeof i.weak_password&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new e4(tS(i),e.status,i.weak_password.reasons);throw new eJ(tS(i),e.status||500,r)}let tA=(e,t,i,r)=>{let s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),i))};async function tC(e,t,i,r){var s;let n=Object.assign({},null==r?void 0:r.headers);n[eV]||(n[eV]=eW["2024-01-01"].name),(null==r?void 0:r.jwt)&&(n.Authorization=`Bearer ${r.jwt}`);let a=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await tO(e,t,i+o,{headers:n,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tO(e,t,i,r,s,n){let a;let o=tA(t,r,s,n);try{a=await e(i,Object.assign({},o))}catch(e){throw console.error(e),new e2(tS(e),0)}if(a.ok||await tE(a),null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(e){await tE(e)}}function tP(e){var t,i;let r=null;return e.access_token&&e.refresh_token&&e.expires_in&&(r=Object.assign({},e),!e.expires_at)&&(r.expires_at=(i=e.expires_in,Math.round(Date.now()/1e3)+i)),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tR(e){let t=tP(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function tI(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tL(e){return{data:e,error:null}}function tN(e){let{action_link:t,email_otp:i,hashed_token:r,redirect_to:s,verification_type:n}=e;return{data:{properties:{action_link:t,email_otp:i,hashed_token:r,redirect_to:s,verification_type:n},user:Object.assign({},tj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function tD(e){return e}let t$=["global","local","others"];var tM=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i};class tB{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=to(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=t$[0]){if(0>t$.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${t$.join(", ")}`);try{return await tC(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(eK(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await tC(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tI})}catch(e){if(eK(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,i=tM(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=null==i?void 0:i.newEmail,delete r.newEmail),await tC(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:tN,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(eK(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await tC(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tI})}catch(e){if(eK(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,i,r,s,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},u=await tC(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(i=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:tD});if(u.error)throw u.error;let c=await u.json(),h=null!==(n=u.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(o=null===(a=u.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),i=JSON.parse(e.split(";")[1].split("=")[1]);l[`${i}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(eK(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){t_(e);try{return await tC(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tI})}catch(e){if(eK(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){t_(e);try{return await tC(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tI})}catch(e){if(eK(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){t_(e);try{return await tC(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tI})}catch(e){if(eK(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){t_(e.userId);try{let{data:t,error:i}=await tC(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:i}}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _deleteFactor(e){t_(e.userId),t_(e.id);try{return{data:await tC(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,i,r,s,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},u=await tC(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(i=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:tD});if(u.error)throw u.error;let c=await u.json(),h=null!==(n=u.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(o=null===(a=u.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),i=JSON.parse(e.split(";")[1].split("=")[1]);l[`${i}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(eK(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await tC(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await tC(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await tC(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await tC(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(eK(e))return{data:null,error:e};throw e}}}function tU(e={}){return{getItem:t=>e[t]||null,setItem:(t,i)=>{e[t]=i},removeItem:t=>{delete e[t]}}}let tF={debug:!!(globalThis&&ta()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class tz extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tV extends tz{}async function tW(e,t,i){tF.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),tF.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(r){tF.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await i()}finally{tF.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(0===t)throw tF.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tF.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function tq(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class tH extends Error{constructor({message:e,code:t,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=null!==(s=null!=r?r:i instanceof Error?i.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=t}}class tK extends tH{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}var tJ=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i};class tG{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}let tY=new tG;function tX(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tZ(){var e,t;return!!(ts()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null==navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null==navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}async function tQ(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new tK("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new tK("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var i,r,s;let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new tH({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null===(i=n.authenticatorSelection)||void 0===i?void 0:i.requireResidentKey)===!0)return new tH({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&(null===(r=n.authenticatorSelection)||void 0===r?void 0:r.userVerification)==="required")return new tH({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if((null===(s=n.authenticatorSelection)||void 0===s?void 0:s.userVerification)==="required")return new tH({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new tH({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new tH({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new tH(0===n.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!tX(t))return new tH({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new tH({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new tH({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new tH({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new tH({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function t0(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new tK("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new tK("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new tH({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new tH({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!tX(t))return new tH({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(i.rpId!==t)return new tH({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new tH({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new tH({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let t1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},t2={userVerification:"preferred",hints:["security-key"]};function t6(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),i=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let s of e)if(s)for(let e in s){let n=s[e];if(void 0!==n){if(Array.isArray(n))r[e]=n;else if(i(n))r[e]=n;else if(t(n)){let i=r[e];t(i)?r[e]=t6(i,n):r[e]=t6(n)}else r[e]=n}}return r}class t4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:r},s){try{var n,a,o,l;let{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:c};let h=null!=r?r:tY.createNewAbortSignal();if("create"===u.webauthn.type){let{user:e}=u.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${i}`),e.displayName||(e.displayName=e.name)}switch(u.webauthn.type){case"create":{let t=(n=u.webauthn.credential_options.publicKey,a=null==s?void 0:s.create,t6(t1,n,a||{})),{data:i,error:r}=await tQ({publicKey:t,signal:h});if(i)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:i}},error:null};return{data:null,error:r}}case"request":{let t=(o=u.webauthn.credential_options.publicKey,l=null==s?void 0:s.request,t6(t2,o,l||{})),{data:i,error:r}=await t0(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:t,signal:h}));if(i)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:i}},error:null};return{data:null,error:r}}}}catch(e){if(eK(e))return{data:null,error:e};return{data:null,error:new eG("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:i="undefined"!=typeof window?[window.location.origin]:void 0,signal:r}},s){if(!t)return{data:null,error:new eH("rpId is required for WebAuthn authentication")};try{if(!tZ())return{data:null,error:new eG("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:r},{request:s});if(!n)return{data:null,error:a};let{webauthn:o}=n;return this._verify({factorId:e,challengeId:n.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:i,credential_response:o.credential_response}})}catch(e){if(eK(e))return{data:null,error:e};return{data:null,error:new eG("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:i="undefined"!=typeof window?[window.location.origin]:void 0,signal:r},s){if(!t)return{data:null,error:new eH("rpId is required for WebAuthn registration")};try{if(!tZ())return{data:null,error:new eG("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this._enroll({friendlyName:e});if(!n)return await this.client.mfa.listFactors().then(t=>{var i;return null===(i=t.data)||void 0===i?void 0:i.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};let{data:o,error:l}=await this._challenge({factorId:n.id,friendlyName:n.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:r},{create:s});if(!o)return{data:null,error:l};return this._verify({factorId:n.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:i,type:o.webauthn.type,credential_response:o.webauthn.credential_response}})}catch(e){if(eK(e))return{data:null,error:e};return{data:null,error:new eG("Unexpected error in register",e)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let t5={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ez,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t8(e,t,i){return await i()}let t3={};class t9{get jwks(){var e,t;return null!==(t=null===(e=t3[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){t3[this.storageKey]=Object.assign(Object.assign({},t3[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=t3[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){t3[this.storageKey]=Object.assign(Object.assign({},t3[this.storageKey]),{cachedAt:e})}constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t9.nextInstanceID,t9.nextInstanceID+=1,this.instanceID>0&&ts()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},t5),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new tB({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=to(r.fetch),this.lock=r.lock||t8,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ts()&&(null===(t=null==globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=tW:this.lock=t8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new t4(this)},this.persistSession?(r.storage?this.storage=r.storage:ta()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tU(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=tU(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(i=this.broadcastChannel)||void 0===i||i.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eF}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t=function(e){let t={},i=new URL(e);if(i.hash&&"#"===i.hash[0])try{new URLSearchParams(i.hash.substring(1)).forEach((e,i)=>{t[i]=e})}catch(e){}return i.searchParams.forEach((e,i)=>{t[i]=e}),t}(window.location.href),i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),ts()&&this.detectSessionInUrl&&"none"!==i){let{data:r,error:s}=await this._getSessionFromURL(t,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),eK(s)&&"AuthImplicitGrantRedirectError"===s.name){let t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}let{session:n,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",n,"redirect type",a),await this._saveSession(n),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(eK(e))return{error:e};return{error:new eG("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,r;try{let{data:s,error:n}=await tC(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(i=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:tP});if(n||!s)return{data:{user:null,session:null},error:n};let a=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,i,r;try{let s;if("email"in e){let{email:i,password:r,options:n}=e,a=null,o=null;"pkce"===this.flowType&&([a,o]=await ty(this.storage,this.storageKey)),s=await tC(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:i,password:r,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:o},xform:tP})}else if("phone"in e){let{phone:t,password:n,options:a}=e;s=await tC(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(i=null==a?void 0:a.data)&&void 0!==i?i:{},channel:null!==(r=null==a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:tP})}else throw new eQ("You must provide either an email or phone number and a password");let{data:n,error:a}=s;if(a||!n)return{data:{user:null,session:null},error:a};let o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:i,password:r,options:s}=e;t=await tC(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tR})}else if("phone"in e){let{phone:i,password:r,options:s}=e;t=await tC(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tR})}else throw new eQ("You must provide either an email or phone number and a password");let{data:i,error:r}=t;if(r)return{data:{user:null,session:null},error:r};if(!i||!i.session||!i.user)return{data:{user:null,session:null},error:new eZ};return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(i=e.options)||void 0===i?void 0:i.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,r,s,n,a,o,l,u,c,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let c;let{chain:h,wallet:m,statement:g,options:b}=e;if(ts()){if("object"==typeof m)c=m;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)c=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}}else{if("object"!=typeof m||!(null==b?void 0:b.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=m}let y=new URL(null!==(t=null==b?void 0:b.url)&&void 0!==t?t:window.location.href),v=await c.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let w=tq(v[0]),_=null===(i=null==b?void 0:b.signInWithEthereum)||void 0===i?void 0:i.chainId;_||(_=parseInt(await c.request({method:"eth_chainId"}),16)),f=function(e){var t;let{chainId:i,domain:r,expirationTime:s,issuedAt:n=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:h,version:d}=e;if(!Number.isInteger(i))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=tq(e.address),p=c?`${c}://${r}`:r,m=e.statement?`${e.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`,b=`URI: ${h}
Version: ${d}
Chain ID: ${i}${a?`
Nonce: ${a}`:""}
Issued At: ${n.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let e="\nResources:";for(let t of u){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}b+=e}return`${g}
${b}`}({domain:y.host,address:w,statement:g,uri:y.href,version:"1",chainId:_,nonce:null===(r=null==b?void 0:b.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(n=null===(s=null==b?void 0:b.signInWithEthereum)||void 0===s?void 0:s.issuedAt)&&void 0!==n?n:new Date,expirationTime:null===(a=null==b?void 0:b.signInWithEthereum)||void 0===a?void 0:a.expirationTime,notBefore:null===(o=null==b?void 0:b.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==b?void 0:b.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(u=null==b?void 0:b.signInWithEthereum)||void 0===u?void 0:u.resources}),p=await c.request({method:"personal_sign",params:[(d=f,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),w]})}try{let{data:t,error:i}=await tC(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},(null===(c=e.options)||void 0===c?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:tP});if(i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new eZ};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:i}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSolana(e){var t,i,r,s,n,a,o,l,u,c,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let h;let{chain:d,wallet:m,statement:g,options:b}=e;if(ts()){if("object"==typeof m)h=m;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))h=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}}else{if("object"!=typeof m||!(null==b?void 0:b.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=m}let y=new URL(null!==(t=null==b?void 0:b.url)&&void 0!==t?t:window.location.href);if("signIn"in h&&h.signIn){let e;let t=await h.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==b?void 0:b.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),g?{statement:g}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)f="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),p=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in h)||"function"!=typeof h.signMessage||!("publicKey"in h)||"object"!=typeof h||!h.publicKey||!("toBase58"in h.publicKey)||"function"!=typeof h.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${y.host} wants you to sign in with your Solana account:`,h.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(r=null===(i=null==b?void 0:b.signInWithSolana)||void 0===i?void 0:i.issuedAt)&&void 0!==r?r:new Date().toISOString()}`,...(null===(s=null==b?void 0:b.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...(null===(n=null==b?void 0:b.signInWithSolana)||void 0===n?void 0:n.expirationTime)?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...(null===(a=null==b?void 0:b.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...(null===(o=null==b?void 0:b.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...(null===(l=null==b?void 0:b.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...(null===(c=null===(u=null==b?void 0:b.signInWithSolana)||void 0===u?void 0:u.resources)||void 0===c?void 0:c.length)?["Resources",...b.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await h.signMessage(new TextEncoder().encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{let{data:t,error:i}=await tC(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:tr(p)},(null===(h=e.options)||void 0===h?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:tP});if(i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new eZ};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:i}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async _exchangeCodeForSession(e){let t=await tc(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(null!=t?t:"").split("/");try{let{data:t,error:s}=await tC(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:tP});if(await th(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!t||!t.session||!t.user)return{data:{user:null,session:null,redirectType:null},error:new eZ};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:s}}catch(e){if(eK(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{let{options:t,provider:i,token:r,access_token:s,nonce:n}=e,{data:a,error:o}=await tC(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:tP});if(o)return{data:{user:null,session:null},error:o};if(!a||!a.session||!a.user)return{data:{user:null,session:null},error:new eZ};return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:o}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,i,r,s,n;try{if("email"in e){let{email:r,options:s}=e,n=null,a=null;"pkce"===this.flowType&&([n,a]=await ty(this.storage,this.storageKey));let{error:o}=await tC(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(i=null==s?void 0:s.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:n,code_challenge_method:a},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){let{phone:t,options:i}=e,{data:a,error:o}=await tC(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},create_user:null===(s=null==i?void 0:i.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},channel:null!==(n=null==i?void 0:i.channel)&&void 0!==n?n:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new eQ("You must provide either an email or phone number.")}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,i;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(i=e.options)||void 0===i?void 0:i.captchaToken);let{data:n,error:a}=await tC(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:tP});if(a)throw a;if(!n)throw Error("An error occurred on token verification.");let o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,i,r;try{let s=null,n=null;return"pkce"===this.flowType&&([s,n]=await ty(this.storage,this.storageKey)),await tC(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(i=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==i?i:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:n}),headers:this.headers,xform:tL})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new eX;let{error:r}=await tC(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:i,type:r,options:s}=e,{error:n}=await tC(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){let{phone:i,type:r,options:s}=e,{data:n,error:a}=await tC(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:a}}throw new eQ("You must provide either an email or phone number and a type")}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch(e){}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await tc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let t=await tc(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=tx()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,i,r)=>(t||"user"!==i||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,i,r))})}return{data:{session:e},error:null}}let{data:r,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return{data:{session:null},error:s};return{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await tC(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tI});return await this._useSession(async e=>{var t,i,r;let{data:s,error:n}=e;if(n)throw n;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await tC(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==r?r:void 0,xform:tI}):{data:{user:null},error:new eX}})}catch(e){if(eK(e))return eK(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await th(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{let{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new eX;let n=r.session,a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await ty(this.storage,this.storageKey));let{data:l,error:u}=await tC(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:n.access_token,xform:tI});if(u)throw u;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}})}catch(e){if(eK(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new eX;let t=Date.now()/1e3,i=t,r=!0,s=null,{payload:n}=tf(e.access_token);if(n.exp&&(r=(i=n.exp)<=t),r){let{data:t,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{user:null,session:null},error:i};if(!t)return{data:{user:null,session:null},error:null};s=t}else{let{data:r,error:n}=await this._getUser(e.access_token);if(n)throw n;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(eK(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){let{data:r,error:s}=t;if(s)throw s;e=null!==(i=r.session)&&void 0!==i?i:void 0}if(!(null==e?void 0:e.refresh_token))throw new eX;let{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!ts())throw new e0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new e0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new e1("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new e0("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new e1("No code detected.");let{data:t,error:i}=await this._exchangeCodeForSession(e.code);if(i)throw i;let r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:n,expires_in:a,expires_at:o,token_type:l}=e;if(!s||!a||!n||!l)throw new e0("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(a),h=u+c;o&&(h=parseInt(o));let d=h-u;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let f=h-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,u);let{data:p,error:m}=await this._getUser(s);if(m)throw m;let g={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:c,expires_at:h,refresh_token:n,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(e){if(eK(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await tc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;let{data:r,error:s}=t;if(s)return{error:s};let n=null===(i=r.session)||void 0===i?void 0:i.access_token;if(n){let{error:t}=await this.admin.signOut(n,e);if(t&&!(eK(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await th(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,r;try{let{data:{session:r},error:s}=t;if(s)throw s;await (null===(i=this.stateChangeEmitters.get(e))||void 0===i?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(t){await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let i=null,r=null;"pkce"===this.flowType&&([i,r]=await ty(this.storage,this.storageKey,!0));try{return await tC(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(eK(e))return{data:null,error:e};throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:i,error:r}=await this._useSession(async t=>{var i,r,s,n,a;let{data:o,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(i=e.options)||void 0===i?void 0:i.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await tC(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(a=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==a?a:void 0})});if(r)throw r;return!ts()||(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)||window.location.assign(null==i?void 0:i.url),{data:{provider:e.provider,url:null==i?void 0:i.url},error:null}}catch(t){if(eK(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{let{error:r,data:{session:s}}=t;if(r)throw r;let{options:n,provider:a,token:o,access_token:l,nonce:u}=e,{data:c,error:h}=await tC(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(i=null==s?void 0:s.access_token)&&void 0!==i?i:void 0,body:{provider:a,id_token:o,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:tP});if(h)return{data:{user:null,session:null},error:h};if(!c||!c.session||!c.user)return{data:{user:null,session:null},error:new eZ};return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("USER_UPDATED",c.session)),{data:c,error:h}}catch(e){if(eK(e))return{data:{user:null,session:null},error:e};throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,r;let{data:s,error:n}=t;if(n)throw n;return await tC(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==r?r:void 0})})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var i,r;let s=Date.now();return await (i=async i=>(i>0&&await tp(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await tC(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tP})),r=(e,t)=>t&&e6(t)&&Date.now()+200*Math.pow(2,e)-s<3e4,new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{let t=await i(s);if(!r(s,null,t)){e(t);return}}catch(e){if(!r(s,e)){t(e);return}}})()}))}catch(e){if(this._debug(t,"error",e),eK(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),ts()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let r=await tc(this.storage,this.storageKey);if(r&&this.userStorage){let t=await tc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:r.user},await tu(this.userStorage,this.storageKey+"-user",t)),r.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:tx()}else if(r&&!r.user&&!r.user){let e=await tc(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(r.user=e.user,await th(this.storage,this.storageKey+"-user"),await tu(this.storage,this.storageKey,r)):r.user=tx()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),null!==r&&await this._removeSession();return}let s=(null!==(t=r.expires_at)&&void 0!==t?t:1/0)*1e3-Date.now()<9e4;if(this._debug(i,`session has${s?"":" not"} expired with margin of 90000s`),s){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),e6(e)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(r.user&&!0===r.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(r.access_token);!t&&(null==e?void 0:e.user)?(r.user=e.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(i,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){this._debug(i,"error",e),console.error(e);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new eX;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new td;let{data:t,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!t.session)throw new eX;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),eK(e)){let i={data:null,error:e};return e6(e)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(i),i}throw null===(i=this.refreshingDeferred)||void 0===i||i.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,i=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],s=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let t=Object.assign({},e),i=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!i&&t.user&&await tu(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let r=tk(e);await tu(this.storage,this.storageKey,r)}else{let e=tk(t);await tu(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await th(this.storage,this.storageKey),await th(this.storage,this.storageKey+"-code-verifier"),await th(this.storage,this.storageKey+"-user"),this.userStorage&&await th(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ts()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let r=Math.floor((1e3*i.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tz)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){let r=[`provider=${encodeURIComponent(t)}`];if((null==i?void 0:i.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),(null==i?void 0:i.scopes)&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===this.flowType){let[e,t]=await ty(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(i.toString())}if(null==i?void 0:i.queryParams){let e=new URLSearchParams(i.queryParams);r.push(e.toString())}return(null==i?void 0:i.skipBrowserRedirect)&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;let{data:r,error:s}=t;return s?{data:null,error:s}:await tC(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(i=null==r?void 0:r.session)||void 0===i?void 0:i.access_token})})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var i,r;let{data:s,error:n}=t;if(n)return{data:null,error:n};let a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await tC(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(i=null==s?void 0:s.session)||void 0===i?void 0:i.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&"totp"===o.type&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(e){if(eK(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i,r,s;let{data:n,error:a}=t;if(a)return{data:null,error:a};let o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(r=e.webauthn.credential_response,"toJSON"in r&&"function"==typeof r.toJSON?r.toJSON():{id:r.id,rawId:r.id,response:{attestationObject:tr(new Uint8Array(r.response.attestationObject)),clientDataJSON:tr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:null!==(s=r.authenticatorAttachment)&&void 0!==s?s:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let i=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:tr(new Uint8Array(r.authenticatorData)),clientDataJSON:tr(new Uint8Array(r.clientDataJSON)),signature:tr(new Uint8Array(r.signature)),userHandle:r.userHandle?tr(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:null!==(t=e.authenticatorAttachment)&&void 0!==t?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await tC(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null===(i=null==n?void 0:n.session)||void 0===i?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(e){if(eK(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;let{data:r,error:s}=t;if(s)return{data:null,error:s};let n=await tC(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(i=null==r?void 0:r.session)||void 0===i?void 0:i.access_token});if(n.error)return n;let{data:a}=n;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:i,excludeCredentials:r}=e,s=tJ(e,["challenge","user","excludeCredentials"]),n=ti(t).buffer,a=Object.assign(Object.assign({},i),{id:ti(i.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:n,user:a});if(r&&r.length>0){o.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:ti(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:i}=e,r=tJ(e,["challenge","allowCredentials"]),s=ti(t).buffer,n=Object.assign(Object.assign({},r),{challenge:s});if(i&&i.length>0){n.allowCredentials=Array(i.length);for(let e=0;e<i.length;e++){let t=i[e];n.allowCredentials[e]=Object.assign(Object.assign({},t),{id:ti(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return n}(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(eK(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};let r={all:[],phone:[],totp:[],webauthn:[]};for(let i of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(i),"verified"===i.status&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;let{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:n}=tf(r.access_token),a=null;n.aal&&(a=n.aal);let o=a;return(null!==(i=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==i?i:[]).length>0&&(o="aal2"),{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:n.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(t=>t.kid===e);if(i)return i;let r=Date.now();if((i=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>r)return i;let{data:s,error:n}=await tC(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return s.keys&&0!==s.keys.length&&(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(t=>t.kid===e))?i:null}async getClaims(e,t={}){try{let i=e;if(!i){let{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};i=e.session.access_token}let{header:r,payload:s,signature:n,raw:{header:a,payload:o}}=tf(i);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(s.exp);let l=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!l){let{error:e}=await this.getUser(i);if(e)throw e;return{data:{claims:s,header:r,signature:n},error:null}}let u=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(r.alg),c=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,c,n,function(e){let t=[];return!function(e,t){for(let i=0;i<e.length;i+=1){let r=e.charCodeAt(i);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(i+1)-56320&65535|t)+65536,i+=1}!function(e,t){if(e<=127){t(e);return}if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}(`${a}.${o}`)))throw new e5("Invalid JWT signature");return{data:{claims:s,header:r,signature:n},error:null}}catch(e){if(eK(e))return{data:null,error:e};throw e}}}t9.nextInstanceID=0;var t7=t9;class ie extends t7{constructor(e){super(e)}}class it{constructor(e,t,i){var r,s,n;this.supabaseUrl=e,this.supabaseKey=t;let a=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let o=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function(e,t){var i,r;let{db:s,auth:n,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:h}=t,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},null!==(i=null==h?void 0:h.headers)&&void 0!==i?i:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>{var e,t,i,r;return e=this,t=void 0,r=function*(){return""},new(i=void 0,i=Promise)(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=i?i:{},{db:eL,realtime:eD,auth:Object.assign(Object.assign({},eN),{storageKey:o}),global:eI});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=l.global.headers)&&void 0!==s?s:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(n=l.auth)&&void 0!==n?n:{},this.headers,l.global.fetch),this.fetch=eU(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new u(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new eP(this.storageUrl.href,this.headers,this.fetch,null==i?void 0:i.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new l(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,i,r;return e=this,t=void 0,i=void 0,r=function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:i}=yield this.auth.getSession();return null!==(t=null===(e=i.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey},new(i||(i=Promise))(function(s,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:s,storageKey:n,flowType:a,lock:o,debug:l},u,c){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ie({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new er(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,i){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}var ii=i(83454);(function(){if("undefined"!=typeof window||void 0===ii)return!1;let e=ii.version;if(null==e)return!1;let t=e.match(/^v(\d+)\./);return!!t&&18>=parseInt(t[1],10)})()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`);let ir=new it("https://bwzuxepoeiovtydhdcdl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3enV4ZXBvZWlvdnR5ZGhkY2RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNDE3MjgsImV4cCI6MjA3NDkxNzcyOH0.ikBb8XtR_B8kMG6z5gAXvYKffo_fqeie3TDDyBimuMs",void 0)},38199:function(e,t){"use strict";var i,r,s,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ACTION_FAST_REFRESH:function(){return h},ACTION_NAVIGATE:function(){return o},ACTION_PREFETCH:function(){return c},ACTION_REFRESH:function(){return a},ACTION_RESTORE:function(){return l},ACTION_SERVER_ACTION:function(){return d},ACTION_SERVER_PATCH:function(){return u},PrefetchCacheEntryStatus:function(){return r},PrefetchKind:function(){return i},isThenable:function(){return f}});let a="refresh",o="navigate",l="restore",u="server-patch",c="prefetch",h="fast-refresh",d="server-action";function f(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(s=i||(i={})).AUTO="auto",s.FULL="full",s.TEMPORARY="temporary",(n=r||(r={})).fresh="fresh",n.reusable="reusable",n.expired="expired",n.stale="stale",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87195:function(e,t,i){"use strict";function r(e,t,i,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),i(98337),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},98342:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});let r=i(10260),s=i(85893),n=r._(i(67294)),a=i(36075),o=i(53955),l=i(48041),u=i(99903),c=i(65490),h=i(81928),d=i(60257),f=i(84229),p=i(87195),m=i(89470),g=i(38199),b=new Set;function y(e,t,i,r,s,n){if(n||(0,o.isLocalURL)(t)){if(!r.bypassPrefetchedCheck){let s=t+"%"+i+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(b.has(s))return;b.add(s)}(async()=>n?e.prefetch(t,s):e.prefetch(t,i,r))().catch(e=>{})}}function v(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let w=n.default.forwardRef(function(e,t){let i,r;let{href:l,as:b,children:w,prefetch:_=null,passHref:x,replace:k,shallow:j,scroll:S,locale:T,onClick:E,onMouseEnter:A,onTouchStart:C,legacyBehavior:O=!1,...P}=e;i=w,O&&("string"==typeof i||"number"==typeof i)&&(i=(0,s.jsx)("a",{children:i}));let R=n.default.useContext(h.RouterContext),I=n.default.useContext(d.AppRouterContext),L=null!=R?R:I,N=!R,D=!1!==_,$=null===_?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:M,as:B}=n.default.useMemo(()=>{if(!R){let e=v(l);return{href:e,as:b?v(b):e}}let[e,t]=(0,a.resolveHref)(R,l,!0);return{href:e,as:b?(0,a.resolveHref)(R,b):t||e}},[R,l,b]),U=n.default.useRef(M),F=n.default.useRef(B);O&&(r=n.default.Children.only(i));let z=O?r&&"object"==typeof r&&r.ref:t,[V,W,q]=(0,f.useIntersection)({rootMargin:"200px"}),H=n.default.useCallback(e=>{(F.current!==B||U.current!==M)&&(q(),F.current=B,U.current=M),V(e),z&&("function"==typeof z?z(e):"object"==typeof z&&(z.current=e))},[B,z,M,q,V]);n.default.useEffect(()=>{L&&W&&D&&y(L,M,B,{locale:T},{kind:$},N)},[B,M,W,T,D,null==R?void 0:R.locale,L,N,$]);let K={ref:H,onClick(e){O||"function"!=typeof E||E(e),O&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),L&&!e.defaultPrevented&&function(e,t,i,r,s,a,l,u,c){let{nodeName:h}=e.currentTarget;if("A"===h.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,o.isLocalURL)(i)))return;e.preventDefault();let d=()=>{let e=null==l||l;"beforePopState"in t?t[s?"replace":"push"](i,r,{shallow:a,locale:u,scroll:e}):t[s?"replace":"push"](r||i,{scroll:e})};c?n.default.startTransition(d):d()}(e,L,M,B,k,j,S,T,N)},onMouseEnter(e){O||"function"!=typeof A||A(e),O&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),L&&(D||!N)&&y(L,M,B,{locale:T,priority:!0,bypassPrefetchedCheck:!0},{kind:$},N)},onTouchStart:function(e){O||"function"!=typeof C||C(e),O&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),L&&(D||!N)&&y(L,M,B,{locale:T,priority:!0,bypassPrefetchedCheck:!0},{kind:$},N)}};if((0,u.isAbsoluteUrl)(B))K.href=B;else if(!O||x||"a"===r.type&&!("href"in r.props)){let e=void 0!==T?T:null==R?void 0:R.locale,t=(null==R?void 0:R.isLocaleDomain)&&(0,p.getDomainLocale)(B,e,null==R?void 0:R.locales,null==R?void 0:R.domainLocales);K.href=t||(0,m.addBasePath)((0,c.addLocale)(B,e,null==R?void 0:R.defaultLocale))}return O?n.default.cloneElement(r,K):(0,s.jsx)("a",{...P,...K,children:i})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84229:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let r=i(67294),s=i(84474),n="function"==typeof IntersectionObserver,a=new Map,o=[];function l(e){let{rootRef:t,rootMargin:i,disabled:l}=e,u=l||!n,[c,h]=(0,r.useState)(!1),d=(0,r.useRef)(null),f=(0,r.useCallback)(e=>{d.current=e},[]);return(0,r.useEffect)(()=>{if(n){if(u||c)return;let e=d.current;if(e&&e.tagName)return function(e,t,i){let{id:r,observer:s,elements:n}=function(e){let t;let i={root:e.root||null,margin:e.rootMargin||""},r=o.find(e=>e.root===i.root&&e.margin===i.margin);if(r&&(t=a.get(r)))return t;let s=new Map;return t={id:i,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=s.get(e.target),i=e.isIntersecting||e.intersectionRatio>0;t&&i&&t(i)})},e),elements:s},o.push(i),a.set(i,t),t}(i);return n.set(e,t),s.observe(e),function(){if(n.delete(e),s.unobserve(e),0===n.size){s.disconnect(),a.delete(r);let e=o.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&h(e),{root:null==t?void 0:t.current,rootMargin:i})}else if(!c){let e=(0,s.requestIdleCallback)(()=>h(!0));return()=>(0,s.cancelIdleCallback)(e)}},[u,i,t,c,d.current]),[f,c,(0,r.useCallback)(()=>{h(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7443:function(e,t,i){"use strict";var r=i(83454);i(91479);var s=i(67294),n=s&&"object"==typeof s&&"default"in s?s:{default:s},a=void 0!==r&&r.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,i=t.name,r=void 0===i?"stylesheet":i,s=t.optimizeForSpeed,n=void 0===s?a:s;u(o(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",u("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l=document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,i){return"number"==typeof i?e._serverSheet.cssRules[i]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),i},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(u(o(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var i=this.getSheet();"number"!=typeof t&&(t=i.cssRules.length);try{i.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed){var i=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!i.cssRules[e])return e;i.deleteRule(e);try{i.insertRule(t,e)}catch(r){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),i.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];u(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},t.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},t.cssRules=function(){var e=this;return this._tags.reduce(function(t,i){return i?t=t.concat(Array.prototype.map.call(e.getSheetForTag(i).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,i){t&&u(o(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return i?s.insertBefore(r,i):s.appendChild(r),r},function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0},h={};function d(e,t){if(!t)return"jsx-"+e;var i=String(t),r=e+i;return h[r]||(h[r]="jsx-"+c(e+"-"+i)),h[r]}function f(e,t){var i=e+t;return h[i]||(h[i]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[i]}var p=function(){function e(e){var t=void 0===e?{}:e,i=t.styleSheet,r=void 0===i?null:i,s=t.optimizeForSpeed,n=void 0!==s&&s;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),r&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var i=this.getIdAndRules(e),r=i.styleId,s=i.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var n=s.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=n,this._instancesCounts[r]=1},t.remove=function(e){var t=this,i=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(i in this._instancesCounts,"styleId: `"+i+"` not found"),this._instancesCounts[i]-=1,this._instancesCounts[i]<1){var r=this._fromServer&&this._fromServer[i];r?(r.parentNode.removeChild(r),delete this._fromServer[i]):(this._indices[i].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[i]),delete this._instancesCounts[i]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],i=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return i[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,i;return t=this.cssRules(),void 0===(i=e)&&(i={}),t.map(function(e){var t=e[0],r=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:i.nonce?i.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,i=e.dynamic,r=e.id;if(i){var s=d(r,i);return{styleId:s,rules:Array.isArray(t)?t.map(function(e){return f(s,e)}):[f(s,t)]}}return{styleId:d(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=s.createContext(null);m.displayName="StyleSheetContext";var g=n.default.useInsertionEffect||n.default.useLayoutEffect,b=new p;function y(e){var t=b||s.useContext(m);return t&&g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}y.dynamic=function(e){return e.map(function(e){return d(e[0],e[1])}).join(" ")},t.style=y},40645:function(e,t,i){"use strict";e.exports=i(7443).style},48691:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var r=i(85893);i(23434);var s=i(67294),n=i(77414),a=i(40645),o=i.n(a),l=i(41664),u=i.n(l),c=i(316);function h(e){var t;let{showToast:i}=e,{user:a,logout:l}=(0,n.a)(),[h,d]=(0,s.useState)(!1),[f,p]=(0,s.useState)("login"),[m,g]=(0,s.useState)(!1),b=()=>g(!1),y=e=>{p(e),d(!0),b()},v=!!(a&&(a.is_admin||(null===(t=a.profile)||void 0===t?void 0:t.is_admin)));return(0,r.jsxs)("header",{style:{position:"sticky",top:0,zIndex:2,background:"#fff",boxShadow:"0 2px 14px 0 rgba(35,89,247,0.06)",borderBottom:"1px solid #e3e7ed"},className:"jsx-1cb9ab0dcaa1a538 site-header",children:[(0,r.jsxs)("nav",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem"},className:"jsx-1cb9ab0dcaa1a538 navbar",children:[(0,r.jsx)(u(),{href:"/",onClick:b,style:{textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,r.jsxs)("h1",{style:{color:"#2359f7",fontWeight:700,fontSize:"1.8rem",margin:0,display:"flex",alignItems:"center"},className:"jsx-1cb9ab0dcaa1a538",children:[(0,r.jsx)("i",{className:"jsx-1cb9ab0dcaa1a538 fas fa-donate me-2"}),"Bitbuy"]})}),(0,r.jsxs)("div",{onClick:()=>g(!m),className:"jsx-1cb9ab0dcaa1a538 "+"hamburger ".concat(m?"open":""),children:[(0,r.jsx)("span",{className:"jsx-1cb9ab0dcaa1a538"}),(0,r.jsx)("span",{className:"jsx-1cb9ab0dcaa1a538"}),(0,r.jsx)("span",{className:"jsx-1cb9ab0dcaa1a538"})]}),(0,r.jsxs)("div",{className:"jsx-1cb9ab0dcaa1a538 nav-links",children:[(0,r.jsx)(u(),{href:"/",onClick:b,children:"Home"}),v&&(0,r.jsx)(u(),{href:"/admin",onClick:b,children:"Admin"}),a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u(),{href:"/profile",onClick:b,children:(0,r.jsx)("button",{className:"jsx-1cb9ab0dcaa1a538 btn-outline",children:"Dashboard"})}),(0,r.jsx)("button",{onClick:()=>{l(),i&&i("success","Logged out!"),b()},className:"jsx-1cb9ab0dcaa1a538 btn-dark",children:"Logout"})]}):(0,r.jsx)("button",{onClick:()=>y("login"),className:"jsx-1cb9ab0dcaa1a538 btn-primary",children:"Login"})]})]}),(0,r.jsxs)("div",{className:"jsx-1cb9ab0dcaa1a538 "+"mobile-menu ".concat(m?"open":""),children:[(0,r.jsx)(u(),{href:"/",onClick:b,children:"Home"}),v&&(0,r.jsx)(u(),{href:"/admin",onClick:b,children:"Admin"}),a?(0,r.jsxs)("div",{className:"jsx-1cb9ab0dcaa1a538 mobile-actions",children:[(0,r.jsx)(u(),{href:"/profile",onClick:b,children:(0,r.jsx)("button",{className:"jsx-1cb9ab0dcaa1a538 btn-outline",children:"Dashboard"})}),(0,r.jsx)("button",{onClick:()=>{l(),i&&i("success","Logged out!"),b()},className:"jsx-1cb9ab0dcaa1a538 btn-dark",children:"Logout"})]}):(0,r.jsx)("button",{onClick:()=>y("login"),className:"jsx-1cb9ab0dcaa1a538 btn-primary",children:"Login"})]}),h&&(0,r.jsx)(c.Z,{initialView:f,onClose:()=>d(!1),showToast:i}),(0,r.jsx)(o(),{id:"1cb9ab0dcaa1a538",children:".btn-primary.jsx-1cb9ab0dcaa1a538{background:#2359f7;color:#fff;border:none;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;padding:.5rem 1rem;font-weight:600}.btn-outline.jsx-1cb9ab0dcaa1a538{border:1px solid#2359f7;color:#2359f7;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;padding:.5rem 1rem;background:transparent;font-weight:600}.btn-dark.jsx-1cb9ab0dcaa1a538{background:#111827;color:#fff;border:none;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;padding:.5rem 1rem;font-weight:600}.nav-links.jsx-1cb9ab0dcaa1a538{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:1rem}.nav-links.jsx-1cb9ab0dcaa1a538 a.jsx-1cb9ab0dcaa1a538{text-decoration:none;color:#333;font-weight:500}.hamburger.jsx-1cb9ab0dcaa1a538{display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:26px;height:20px;cursor:pointer}.hamburger.jsx-1cb9ab0dcaa1a538 span.jsx-1cb9ab0dcaa1a538{display:block;height:3px;width:100%;background:#2359f7;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;transition:.3s}.hamburger.open.jsx-1cb9ab0dcaa1a538 span.jsx-1cb9ab0dcaa1a538:nth-child(1){-webkit-transform:translatey(8px)rotate(45deg);-moz-transform:translatey(8px)rotate(45deg);-ms-transform:translatey(8px)rotate(45deg);-o-transform:translatey(8px)rotate(45deg);transform:translatey(8px)rotate(45deg)}.hamburger.open.jsx-1cb9ab0dcaa1a538 span.jsx-1cb9ab0dcaa1a538:nth-child(2){opacity:0}.hamburger.open.jsx-1cb9ab0dcaa1a538 span.jsx-1cb9ab0dcaa1a538:nth-child(3){-webkit-transform:translatey(-8px)rotate(-45deg);-moz-transform:translatey(-8px)rotate(-45deg);-ms-transform:translatey(-8px)rotate(-45deg);-o-transform:translatey(-8px)rotate(-45deg);transform:translatey(-8px)rotate(-45deg)}.mobile-menu.jsx-1cb9ab0dcaa1a538{display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background:#fff;border-top:1px solid#e3e7ed;-webkit-box-shadow:0 4px 18px rgba(0,0,0,.06);-moz-box-shadow:0 4px 18px rgba(0,0,0,.06);box-shadow:0 4px 18px rgba(0,0,0,.06);-webkit-transition:max-height.3s ease;-moz-transition:max-height.3s ease;-o-transition:max-height.3s ease;transition:max-height.3s ease;overflow:hidden}.mobile-menu.open.jsx-1cb9ab0dcaa1a538{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:1rem;gap:.75rem}.mobile-menu.jsx-1cb9ab0dcaa1a538 a.jsx-1cb9ab0dcaa1a538{color:#333;text-decoration:none;font-weight:500}.mobile-actions.jsx-1cb9ab0dcaa1a538{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media(max-width:992px){.nav-links.jsx-1cb9ab0dcaa1a538{display:none}.hamburger.jsx-1cb9ab0dcaa1a538{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}"})]})}function d(){return(0,r.jsx)("footer",{className:"site-footer",children:(0,r.jsxs)("div",{className:"container",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("div",{children:"\xa9 Bit-Buy Investment"}),(0,r.jsx)("div",{className:"",children:"Invest Now and Earn Interest in Hours"})]})})}function f(e){let{show:t,type:i="success",message:n,onClose:a,duration:o=3e3}=e;return((0,s.useEffect)(()=>{if(!t)return;let e=setTimeout(()=>{a()},o);return()=>clearTimeout(e)},[t,o,a]),t)?(0,r.jsxs)("div",{className:"toast-modal toast-".concat(i),children:[(0,r.jsx)("span",{children:n}),(0,r.jsx)("button",{className:"toast-close",onClick:a,children:"\xd7"})]}):null}i(14532),i(3502),i(40256),i(88139),i(68720),i(17814);var p=i(9008),m=i.n(p),g=i(4298),b=i.n(g);function y(){let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(e.current&&!document.querySelector("df-messenger")){let t=document.createElement("df-messenger");t.setAttribute("intent","WELCOME"),t.setAttribute("chat-title","Bitbuy-care"),t.setAttribute("agent-id","0b09a831-db35-4940-95c4-b7e3bd6bb319"),t.setAttribute("language-code","en"),t.setAttribute("chat-icon","/images/bot.jpeg"),e.current.appendChild(t)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b(),{src:"https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1",strategy:"afterInteractive"}),(0,r.jsx)("div",{ref:e})]})}function v(e){let{Component:t,pageProps:i,showToast:s,hideToast:a,toast:o}=e,{user:l}=(0,n.a)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{showToast:s}),(0,r.jsx)("main",{id:"main",children:(0,r.jsx)(t,{...i,showToast:s})}),(0,r.jsx)(d,{}),(0,r.jsx)(f,{show:o.show,type:o.type,message:o.message,onClose:a,duration:o.duration}),l&&(0,r.jsx)(y,{})]})}var w=function(e){let{Component:t,pageProps:a}=e,[o,l]=(0,s.useState)({show:!1,type:"success",message:""});return(0,s.useEffect)(()=>{i(78702),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.log("Service Worker registration failed:",e)})})},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m(),{children:[(0,r.jsx)("title",{children:"BitBuy | Smart Crypto Investment Platform"}),(0,r.jsx)("meta",{name:"description",content:"Invest smarter with BitBuy  a secure crypto investment platform where you can grow your wealth with BTC, ETH, and USDT. Start earning daily profits with trusted blockchain technology."}),(0,r.jsx)("meta",{name:"keywords",content:"BitBuy, crypto investment, Bitcoin, Ethereum, USDT, crypto trading, blockchain, crypto returns, secure crypto platform, smart investment, digital assets"}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{name:"author",content:"BitBuy"}),(0,r.jsx)("meta",{name:"theme-color",content:"#f8b400"}),(0,r.jsx)("meta",{property:"og:title",content:"BitBuy | Smart Crypto Investment Platform"}),(0,r.jsx)("meta",{property:"og:description",content:"Join BitBuy  invest in crypto securely and grow your wealth with daily profits. BTC, ETH, and USDT supported."}),(0,r.jsx)("meta",{property:"og:image",content:"/images/favicon.png"}),(0,r.jsx)("meta",{property:"og:url",content:"https://bitbuy.com"}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:"BitBuy | Smart Crypto Investment Platform"}),(0,r.jsx)("meta",{name:"twitter:description",content:"Secure, reliable, and profitable crypto investments. Start earning daily with BitBuy today!"}),(0,r.jsx)("meta",{name:"twitter:image",content:"/images/favicon.png"}),(0,r.jsx)("link",{rel:"icon",href:"/images/favicon.png",type:"image/png"}),(0,r.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,r.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-ENjdO4Dr2bkBIFxQpeoA6uY9lZg9lF1Q6p6x9FqjLw1Ds4P5x5m5iZQ5j5Q5W5j5Q",crossOrigin:"anonymous"})]}),(0,r.jsx)(n.d,{children:(0,r.jsx)(v,{Component:t,pageProps:a,showToast:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;l({show:!0,type:e,message:t,duration:i})},hideToast:function(){l(e=>({...e,show:!1}))},toast:o})})]})}},21876:function(e){!function(){var t={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),i=t[0],r=t[1];return(i+r)*3/4-r},t.toByteArray=function(e){var t,i,n=l(e),a=n[0],o=n[1],u=new s((a+o)*3/4-o),c=0,h=o>0?a-4:a;for(i=0;i<h;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===o&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,u[c++]=255&t),1===o&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,s=r%3,n=[],a=0,o=r-s;a<o;a+=16383)n.push(function(e,t,r){for(var s,n=[],a=t;a<r;a+=3)n.push(i[(s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return n.join("")}(e,a,a+16383>o?o:a+16383));return 1===s?n.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===s&&n.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),n.join("")};for(var i=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=n.length;a<o;++a)i[a]=n[a],r[n.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var r=i===t?0:4-i%4;return[i,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},72:function(e,t,i){"use strict";var r=i(675),s=i(783),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,i){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,i)}function l(e,t,i){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);var i=0|f(e,t),r=a(i),s=r.write(e,t);return s!==i&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return function(e,t,i){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),o.prototype),r}(e,t,i);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,i);var s=function(e){if(o.isBuffer(e)){var t,i=0|d(e.length),r=a(i);return 0===r.length||e.copy(r,0,0,i),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),i=a(t),r=0;r<t;r+=1)i[r]=255&e[r];return i}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return E(e).length;default:if(s)return r?-1:S(e).length;t=(""+t).toLowerCase(),s=!0}}function p(e,t,i){var s,n,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var s="",n=t;n<i;++n)s+=O[e[n]];return s}(this,t,i);case"utf8":case"utf-8":return y(this,t,i);case"ascii":return function(e,t,i){var r="";i=Math.min(e.length,i);for(var s=t;s<i;++s)r+=String.fromCharCode(127&e[s]);return r}(this,t,i);case"latin1":case"binary":return function(e,t,i){var r="";i=Math.min(e.length,i);for(var s=t;s<i;++s)r+=String.fromCharCode(e[s]);return r}(this,t,i);case"base64":return s=t,n=i,0===s&&n===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(s,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,i){for(var r=e.slice(t,i),s="",n=0;n<r.length;n+=2)s+=String.fromCharCode(r[n]+256*r[n+1]);return s}(this,t,i);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function m(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function g(e,t,i,r,s){var n;if(0===e.length)return -1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),(n=i=+i)!=n&&(i=s?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(s)return -1;i=e.length-1}else if(i<0){if(!s)return -1;i=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:b(e,t,i,r,s);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?s?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,r,s);throw TypeError("val must be string, number or Buffer")}function b(e,t,i,r,s){var n,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,i/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(s){var c=-1;for(n=i;n<o;n++)if(u(e,n)===u(t,-1===c?0:n-c)){if(-1===c&&(c=n),n-c+1===l)return c*a}else -1!==c&&(n-=n-c),c=-1}else for(i+l>o&&(i=o-l),n=i;n>=0;n--){for(var h=!0,d=0;d<l;d++)if(u(e,n+d)!==u(t,d)){h=!1;break}if(h)return n}return -1}function y(e,t,i){i=Math.min(e.length,i);for(var r=[],s=t;s<i;){var n,a,o,l,u=e[s],c=null,h=u>239?4:u>223?3:u>191?2:1;if(s+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(n=e[s+1]))==128&&(l=(31&u)<<6|63&n)>127&&(c=l);break;case 3:n=e[s+1],a=e[s+2],(192&n)==128&&(192&a)==128&&(l=(15&u)<<12|(63&n)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:n=e[s+1],a=e[s+2],o=e[s+3],(192&n)==128&&(192&a)==128&&(192&o)==128&&(l=(15&u)<<18|(63&n)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),s+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var i="",r=0;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return i}(r)}function v(e,t,i){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>i)throw RangeError("Trying to access beyond buffer length")}function w(e,t,i,r,s,n){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<n)throw RangeError('"value" argument is out of bounds');if(i+r>e.length)throw RangeError("Index out of range")}function _(e,t,i,r,s,n){if(i+r>e.length||i<0)throw RangeError("Index out of range")}function x(e,t,i,r,n){return t=+t,i>>>=0,n||_(e,t,i,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,i,r,23,4),i+4}function k(e,t,i,r,n){return t=+t,i>>>=0,n||_(e,t,i,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,i,r,52,8),i+8}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,i){return l(e,t,i)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,i){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(C(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,r=t.length,s=0,n=Math.min(i,r);s<n;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(i=0,t=0;i<e.length;++i)t+=e[i].length;var i,r=o.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var n=e[i];if(C(n,Uint8Array)&&(n=o.from(n)),!o.isBuffer(n))throw TypeError('"list" argument must be an Array of Buffers');n.copy(r,s),s+=n.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,i,r,s){if(C(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||i>e.length||r<0||s>this.length)throw RangeError("out of range index");if(r>=s&&t>=i)return 0;if(r>=s)return -1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,s>>>=0,this===e)return 0;for(var n=s-r,a=i-t,l=Math.min(n,a),u=this.slice(r,s),c=e.slice(t,i),h=0;h<l;++h)if(u[h]!==c[h]){n=u[h],a=c[h];break}return n<a?-1:a<n?1:0},o.prototype.includes=function(e,t,i){return -1!==this.indexOf(e,t,i)},o.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},o.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s,n,a,o,l,u,c,h,d,f,p,m,g=this.length-t;if((void 0===i||i>g)&&(i=g),e.length>0&&(i<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var b=!1;;)switch(r){case"hex":return function(e,t,i,r){i=Number(i)||0;var s=e.length-i;r?(r=Number(r))>s&&(r=s):r=s;var n=t.length;r>n/2&&(r=n/2);for(var a=0;a<r;++a){var o=parseInt(t.substr(2*a,2),16);if(o!=o)break;e[i+a]=o}return a}(this,e,t,i);case"utf8":case"utf-8":return l=t,u=i,A(S(e,this.length-l),this,l,u);case"ascii":return c=t,h=i,A(T(e),this,c,h);case"latin1":case"binary":return s=this,n=e,a=t,o=i,A(T(n),s,a,o);case"base64":return d=t,f=i,A(E(e),this,d,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=t,m=i,A(function(e,t){for(var i,r,s=[],n=0;n<e.length&&!((t-=2)<0);++n)r=(i=e.charCodeAt(n))>>8,s.push(i%256),s.push(r);return s}(e,this.length-p),this,p,m);default:if(b)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),b=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||v(e,t,this.length);for(var r=this[e],s=1,n=0;++n<t&&(s*=256);)r+=this[e+n]*s;return r},o.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||v(e,t,this.length);for(var r=this[e+--t],s=1;t>0&&(s*=256);)r+=this[e+--t]*s;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||v(e,t,this.length);for(var r=this[e],s=1,n=0;++n<t&&(s*=256);)r+=this[e+n]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||v(e,t,this.length);for(var r=t,s=1,n=this[e+--r];r>0&&(s*=256);)n+=this[e+--r]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),s.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),s.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),s.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),s.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t>>>=0,i>>>=0,!r){var s=Math.pow(2,8*i)-1;w(this,e,t,i,s,0)}var n=1,a=0;for(this[t]=255&e;++a<i&&(n*=256);)this[t+a]=e/n&255;return t+i},o.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t>>>=0,i>>>=0,!r){var s=Math.pow(2,8*i)-1;w(this,e,t,i,s,0)}var n=i-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+i},o.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t>>>=0,!r){var s=Math.pow(2,8*i-1);w(this,e,t,i,s-1,-s)}var n=0,a=1,o=0;for(this[t]=255&e;++n<i&&(a*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+i},o.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t>>>=0,!r){var s=Math.pow(2,8*i-1);w(this,e,t,i,s-1,-s)}var n=i-1,a=1,o=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,i){return x(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return x(this,e,t,!1,i)},o.prototype.writeDoubleLE=function(e,t,i){return k(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return k(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,r){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var s=r-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,r);else if(this===e&&i<t&&t<r)for(var n=s-1;n>=0;--n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,r),t);return s},o.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var s,n=e.charCodeAt(0);("utf8"===r&&n<128||"latin1"===r)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw RangeError("Out of range index");if(i<=t)return this;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var a=o.isBuffer(e)?e:o.from(e,r),l=a.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=a[s%l]}return this};var j=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var i,r=e.length,s=null,n=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!s){if(i>56319||a+1===r){(t-=3)>-1&&n.push(239,191,189);continue}s=i;continue}if(i<56320){(t-=3)>-1&&n.push(239,191,189),s=i;continue}i=(s-55296<<10|i-56320)+65536}else s&&(t-=3)>-1&&n.push(239,191,189);if(s=null,i<128){if((t-=1)<0)break;n.push(i)}else if(i<2048){if((t-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((t-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return n}function T(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function E(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,i,r){for(var s=0;s<r&&!(s+i>=t.length)&&!(s>=e.length);++s)t[s+i]=e[s];return s}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var O=function(){for(var e="0123456789abcdef",t=Array(256),i=0;i<16;++i)for(var r=16*i,s=0;s<16;++s)t[r+s]=e[i]+e[s];return t}()},783:function(e,t){t.read=function(e,t,i,r,s){var n,a,o=8*s-r-1,l=(1<<o)-1,u=l>>1,c=-7,h=i?s-1:0,d=i?-1:1,f=e[t+h];for(h+=d,n=f&(1<<-c)-1,f>>=-c,c+=o;c>0;n=256*n+e[t+h],h+=d,c-=8);for(a=n&(1<<-c)-1,n>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===n)n=1-u;else{if(n===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),n-=u}return(f?-1:1)*a*Math.pow(2,n-r)},t.write=function(e,t,i,r,s,n){var a,o,l,u=8*n-s-1,c=(1<<u)-1,h=c>>1,d=23===s?5960464477539062e-23:0,f=r?0:n-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(t*l-1)*Math.pow(2,s),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,s),a=0));s>=8;e[i+f]=255&o,f+=p,o/=256,s-=8);for(a=a<<s|o,u+=s;u>0;e[i+f]=255&a,f+=p,a/=256,u-=8);e[i+f-p]|=128*m}}},i={};function r(e){var s=i[e];if(void 0!==s)return s.exports;var n=i[e]={exports:{}},a=!0;try{t[e](n,n.exports,r),a=!1}finally{a&&delete i[e]}return n.exports}r.ab="//";var s=r(72);e.exports=s}()},91479:function(){},17814:function(){},40256:function(){},3502:function(){},68720:function(){},88139:function(){},23434:function(){},77663:function(e){!function(){var t={229:function(e){var t,i,r,s=e.exports={};function n(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l=[],u=!1,c=-1;function h(){u&&r&&(u=!1,r.length?l=r.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=o(h);u=!0;for(var t=l.length;t;){for(r=l,l=[];++c<t;)r&&r[c].run();c=-1,t=l.length}r=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new f(e,t)),1!==l.length||u||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},i={};function r(e){var s=i[e];if(void 0!==s)return s.exports;var n=i[e]={exports:{}},a=!0;try{t[e](n,n.exports,r),a=!1}finally{a&&delete i[e]}return n.exports}r.ab="//";var s=r(229);e.exports=s}()},9008:function(e,t,i){e.exports=i(23867)},41664:function(e,t,i){e.exports=i(98342)},11163:function(e,t,i){e.exports=i(43079)},4298:function(e,t,i){e.exports=i(23381)},15947:function(e,t,i){"use strict";i.d(t,{oO:function(){return n}});var r=i(67294),s=i(240);function n(e=!0){let t=(0,r.useContext)(s.O);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:n,register:a}=t,o=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return a(o)},[e]);let l=(0,r.useCallback)(()=>e&&n&&n(o),[o,n,e]);return!i&&n?[!1,l]:[!0]}},25364:function(e,t,i){"use strict";i.d(t,{p:function(){return r}});let r=(0,i(67294).createContext)({})},16014:function(e,t,i){"use strict";i.d(t,{_:function(){return r}});let r=(0,i(67294).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},240:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});let r=(0,i(67294).createContext)(null)},89681:function(e,t,i){"use strict";let r;i.d(t,{E:function(){return nC}});var s,n=i(67294);let a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],o=new Set(a),l=e=>180*e/Math.PI,u=e=>h(l(Math.atan2(e[1],e[0]))),c={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:u,rotateZ:u,skewX:e=>l(Math.atan(e[1])),skewY:e=>l(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},h=e=>((e%=360)<0&&(e+=360),e),d=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),f=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),p={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:d,scaleY:f,scale:e=>(d(e)+f(e))/2,rotateX:e=>h(l(Math.atan2(e[6],e[5]))),rotateY:e=>h(l(Math.atan2(-e[2],e[0]))),rotateZ:u,rotate:u,skewX:e=>l(Math.atan(e[4])),skewY:e=>l(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function m(e){return e.includes("scale")?1:0}function g(e,t){let i,r;if(!e||"none"===e)return m(t);let s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(s)i=p,r=s;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=c,r=t}if(!r)return m(t);let n=i[t],a=r[1].split(",").map(y);return"function"==typeof n?n(a):a[n]}let b=(e,t)=>{let{transform:i="none"}=getComputedStyle(e);return g(i,t)};function y(e){return parseFloat(e.trim())}let v=e=>t=>"string"==typeof t&&t.startsWith(e),w=v("--"),_=v("var(--"),x=e=>!!_(e)&&k.test(e.split("/*")[0].trim()),k=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function j({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}let S=(e,t,i)=>e+(t-e)*i;function T(e){return void 0===e||1===e}function E({scale:e,scaleX:t,scaleY:i}){return!T(e)||!T(t)||!T(i)}function A(e){return E(e)||C(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function C(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function O(e,t,i,r,s){return void 0!==s&&(e=r+s*(e-r)),r+i*(e-r)+t}function P(e,t=0,i=1,r,s){e.min=O(e.min,t,i,r,s),e.max=O(e.max,t,i,r,s)}function R(e,{x:t,y:i}){P(e.x,t.translate,t.scale,t.originPoint),P(e.y,i.translate,i.scale,i.originPoint)}function I(e,t){e.min=e.min+t,e.max=e.max+t}function L(e,t,i,r,s=.5){let n=S(e.min,e.max,s);P(e,t,i,n,r)}function N(e,t){L(e.x,t.x,t.scaleX,t.scale,t.originX),L(e.y,t.y,t.scaleY,t.scale,t.originY)}function D(e,t){return j(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}let $=new Set(["width","height","top","left","right","bottom",...a]),M=(e,t,i)=>i>t?t:i<e?e:i,B={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},U={...B,transform:e=>M(0,1,e)},F={...B,default:1},z=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),V=z("deg"),W=z("%"),q=z("px"),H=z("vh"),K=z("vw"),J={...W,parse:e=>W.parse(e)/100,transform:e=>W.transform(100*e)},G=e=>t=>t.test(e),Y=[B,q,W,V,K,H,{test:e=>"auto"===e,parse:e=>e}],X=e=>Y.find(G(e)),Z=()=>{},Q=()=>{},ee=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),et=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,ei=e=>e===B||e===q,er=new Set(["x","y","z"]),es=a.filter(e=>!er.has(e)),en={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>g(t,"x"),y:(e,{transform:t})=>g(t,"y")};en.translateX=en.x,en.translateY=en.y;let ea=e=>e,eo={},el=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],eu={value:null,addProjectionMetrics:null};function ec(e,t){let i=!1,r=!0,s={delta:0,timestamp:0,isProcessing:!1},n=()=>i=!0,a=el.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,r=new Set,s=!1,n=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(c.schedule(t),e()),l++,t(o)}let c={schedule:(e,t=!1,n=!1)=>{let o=n&&s?i:r;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{if(o=e,s){n=!0;return}s=!0,[i,r]=[r,i],i.forEach(u),t&&eu.value&&eu.value.frameloop[t].push(l),l=0,i.clear(),s=!1,n&&(n=!1,c.process(e))}};return c}(n,t?i:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:p}=a,m=()=>{let n=eo.useManualTiming?s.timestamp:performance.now();i=!1,eo.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(n-s.timestamp,40),1)),s.timestamp=n,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),c.process(s),h.process(s),d.process(s),f.process(s),p.process(s),s.isProcessing=!1,i&&t&&(r=!1,e(m))},g=()=>{i=!0,r=!0,s.isProcessing||e(m)};return{schedule:el.reduce((e,t)=>{let r=a[t];return e[t]=(e,t=!1,s=!1)=>(i||g(),r.schedule(e,t,s)),e},{}),cancel:e=>{for(let t=0;t<el.length;t++)a[el[t]].cancel(e)},state:s,steps:a}}let{schedule:eh,cancel:ed,state:ef,steps:ep}=ec("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:ea,!0),em=new Set,eg=!1,eb=!1,ey=!1;function ev(){if(eb){let e=Array.from(em).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t=function(e){let t=[];return es.forEach(i=>{let r=e.getValue(i);void 0!==r&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}(e);t.length&&(i.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{e.getValue(t)?.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eb=!1,eg=!1,em.forEach(e=>e.complete(ey)),em.clear()}function ew(){em.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eb=!0)})}class e_{constructor(e,t,i,r,s,n=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=n}scheduleResolve(){this.state="scheduled",this.isAsync?(em.add(this),eg||(eg=!0,eh.read(ew),eh.resolveKeyframes(ev))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(null===e[0]){let s=r?.get(),n=e[e.length-1];if(void 0!==s)e[0]=s;else if(i&&t){let r=i.readValue(t,n);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=n),r&&void 0===s&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),em.delete(this)}cancel(){"scheduled"===this.state&&(em.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let ex=e=>/^0[^.\s]+$/u.test(e),ek=e=>Math.round(1e5*e)/1e5,ej=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,eS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eT=(e,t)=>i=>!!("string"==typeof i&&eS.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),eE=(e,t,i)=>r=>{if("string"!=typeof r)return r;let[s,n,a,o]=r.match(ej);return{[e]:parseFloat(s),[t]:parseFloat(n),[i]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},eA=e=>M(0,255,e),eC={...B,transform:e=>Math.round(eA(e))},eO={test:eT("rgb","red"),parse:eE("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+eC.transform(e)+", "+eC.transform(t)+", "+eC.transform(i)+", "+ek(U.transform(r))+")"},eP={test:eT("#"),parse:function(e){let t="",i="",r="",s="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,i+=i,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:eO.transform},eR={test:eT("hsl","hue"),parse:eE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+W.transform(ek(t))+", "+W.transform(ek(i))+", "+ek(U.transform(r))+")"},eI={test:e=>eO.test(e)||eP.test(e)||eR.test(e),parse:e=>eO.test(e)?eO.parse(e):eR.test(e)?eR.parse(e):eP.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eO.transform(e):eR.transform(e),getAnimatableNone:e=>{let t=eI.parse(e);return t.alpha=0,eI.transform(t)}},eL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eN="number",eD="color",e$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eM(e){let t=e.toString(),i=[],r={color:[],number:[],var:[]},s=[],n=0,a=t.replace(e$,e=>(eI.test(e)?(r.color.push(n),s.push(eD),i.push(eI.parse(e))):e.startsWith("var(")?(r.var.push(n),s.push("var"),i.push(e)):(r.number.push(n),s.push(eN),i.push(parseFloat(e))),++n,"${}")).split("${}");return{values:i,split:a,indexes:r,types:s}}function eB(e){return eM(e).values}function eU(e){let{split:t,types:i}=eM(e),r=t.length;return e=>{let s="";for(let n=0;n<r;n++)if(s+=t[n],void 0!==e[n]){let t=i[n];t===eN?s+=ek(e[n]):t===eD?s+=eI.transform(e[n]):s+=e[n]}return s}}let eF=e=>"number"==typeof e?0:eI.test(e)?eI.getAnimatableNone(e):e,ez={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(ej)?.length||0)+(e.match(eL)?.length||0)>0},parse:eB,createTransformer:eU,getAnimatableNone:function(e){let t=eB(e);return eU(e)(t.map(eF))}},eV=new Set(["brightness","contrast","saturate","opacity"]);function eW(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=i.match(ej)||[];if(!r)return e;let s=i.replace(r,""),n=eV.has(t)?1:0;return r!==i&&(n*=100),t+"("+n+s+")"}let eq=/\b([a-z-]*)\(.*?\)/gu,eH={...ez,getAnimatableNone:e=>{let t=e.match(eq);return t?t.map(eW).join(" "):e}},eK={...B,transform:Math.round},eJ={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,rotate:V,rotateX:V,rotateY:V,rotateZ:V,scale:F,scaleX:F,scaleY:F,scaleZ:F,skew:V,skewX:V,skewY:V,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:U,originX:J,originY:J,originZ:q,zIndex:eK,fillOpacity:U,strokeOpacity:U,numOctaves:eK},eG={...eJ,color:eI,backgroundColor:eI,outlineColor:eI,fill:eI,stroke:eI,borderColor:eI,borderTopColor:eI,borderRightColor:eI,borderBottomColor:eI,borderLeftColor:eI,filter:eH,WebkitFilter:eH},eY=e=>eG[e];function eX(e,t){let i=eY(e);return i!==eH&&(i=ez),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let eZ=new Set(["auto","none","0"]);class eQ extends e_{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let r=e[i];if("string"==typeof r&&x(r=r.trim())){let s=function e(t,i,r=1){Q(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[s,n]=function(e){let t=et.exec(e);if(!t)return[,];let[,i,r,s]=t;return[`--${i??r}`,s]}(t);if(!s)return;let a=window.getComputedStyle(i).getPropertyValue(s);if(a){let e=a.trim();return ee(e)?parseFloat(e):e}return x(n)?e(n,i,r+1):n}(r,t.current);void 0!==s&&(e[i]=s),i===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!$.has(i)||2!==e.length)return;let[r,s]=e,n=X(r),a=X(s);if(n!==a){if(ei(n)&&ei(a))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else en[i]&&(this.needsMeasurement=!0)}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++){var r;(null===e[t]||("number"==typeof(r=e[t])?0===r:null===r||"none"===r||"0"===r||ex(r)))&&i.push(t)}i.length&&function(e,t,i){let r,s=0;for(;s<e.length&&!r;){let t=e[s];"string"==typeof t&&!eZ.has(t)&&eM(t).values.length&&(r=e[s]),s++}if(r&&i)for(let s of t)e[s]=eX(i,r)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=en[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];void 0!==r&&e.getValue(i,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let s=i.length-1,n=i[s];i[s]=en[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}let e0=e=>!!(e&&e.getVelocity);function e1(){r=void 0}let e2={now:()=>(void 0===r&&e2.set(ef.isProcessing||eo.useManualTiming?ef.timestamp:performance.now()),r),set:e=>{r=e,queueMicrotask(e1)}};function e6(e,t){-1===e.indexOf(t)&&e.push(t)}function e4(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}class e5{constructor(){this.subscriptions=[]}add(e){return e6(this.subscriptions,e),()=>e4(this.subscriptions,e)}notify(e,t,i){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){let r=this.subscriptions[s];r&&r(e,t,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let e8=e=>!isNaN(parseFloat(e)),e3={current:void 0};class e9{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=e2.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=e2.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=e8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new e5);let i=this.events[e].add(t);return"change"===e?()=>{i(),eh.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return e3.current&&e3.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=e2.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function e7(e,t){return new e9(e,t)}let te=[...Y,eI,ez],tt=e=>te.find(G(e)),{schedule:ti,cancel:tr}=ec(queueMicrotask,!1),ts={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tn={};for(let e in ts)tn[e]={isEnabled:t=>ts[e].some(e=>!!t[e])};let ta=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:ta(),y:ta()}),tl=()=>({min:0,max:0}),tu=()=>({x:tl(),y:tl()});var tc=i(11741);let th={current:null},td={current:!1},tf=new WeakMap;function tp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tm(e){return"string"==typeof e||Array.isArray(e)}let tg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tb=["initial",...tg];function ty(e){return tp(e.animate)||tb.some(t=>tm(e[t]))}function tv(e){return!!(ty(e)||e.variants)}function tw(e){let t=[{},{}];return e?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function t_(e,t,i,r){if("function"==typeof t){let[s,n]=tw(r);t=t(void 0!==i?i:e.custom,s,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[s,n]=tw(r);t=t(void 0!==i?i:e.custom,s,n)}return t}let tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tk{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:n},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=e2.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,eh.render(this.render,!1,!0))};let{latestValues:o,renderState:l}=n;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ty(t),this.isVariantNode=tv(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in c){let t=c[e];void 0!==o[e]&&e0(t)&&t.set(o[e])}}mount(e){this.current=e,tf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),td.current||function(){if(td.current=!0,tc.j){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>th.current=e.matches;e.addEventListener("change",t),t()}else th.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||th.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),ed(this.notifyUpdate),ed(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let r=o.has(e);r&&this.onBindTransform&&this.onBindTransform();let s=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eh.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tn){let t=tn[e];if(!t)continue;let{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tu()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tx.length;t++){let i=tx[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let r=e["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=function(e,t,i){for(let r in t){let s=t[r],n=i[r];if(e0(s))e.addValue(r,s);else if(e0(n))e.addValue(r,e7(s,{owner:e}));else if(n!==s){if(e.hasValue(r)){let t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{let t=e.getStaticValue(r);e.addValue(r,e7(void 0!==t?t:s,{owner:e}))}}}for(let r in i)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=e7(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=i&&("string"==typeof i&&(ee(i)||ex(i))?i=parseFloat(i):!tt(i)&&ez.test(t)&&(i=eX(e,t)),this.setBaseTarget(e,e0(i)?i.get():i)),e0(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t;let{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let r=t_(this.props,i,this.presenceContext?.custom);r&&(t=r[e])}if(i&&void 0!==t)return t;let r=this.getBaseTargetFromProps(this.props,e);return void 0===r||e0(r)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new e5),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){ti.render(this.render)}}class tj extends tk{constructor(){super(...arguments),this.KeyframeResolver=eQ}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;e0(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let tS=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tE=a.length;function tA(e,t,i){let{style:r,vars:s,transformOrigin:n}=e,l=!1,u=!1;for(let e in t){let i=t[e];if(o.has(e)){l=!0;continue}if(w(e)){s[e]=i;continue}{let t=tS(i,eJ[e]);e.startsWith("origin")?(u=!0,n[e]=t):r[e]=t}}if(!t.transform&&(l||i?r.transform=function(e,t,i){let r="",s=!0;for(let n=0;n<tE;n++){let o=a[n],l=e[o];if(void 0===l)continue;let u=!0;if(!(u="number"==typeof l?l===(o.startsWith("scale")?1:0):0===parseFloat(l))||i){let e=tS(l,eJ[o]);if(!u){s=!1;let t=tT[o]||o;r+=`${t}(${e}) `}i&&(t[o]=e)}}return r=r.trim(),i?r=i(t,s?"":r):s&&(r="none"),r}(t,e.transform,i):r.transform&&(r.transform="none")),u){let{originX:e="50%",originY:t="50%",originZ:i=0}=n;r.transformOrigin=`${e} ${t} ${i}`}}function tC(e,{style:t,vars:i},r,s){let n;let a=e.style;for(n in t)a[n]=t[n];for(n in s?.applyProjectionStyles(a,r),i)a.setProperty(n,i[n])}let tO={};function tP(e,{layout:t,layoutId:i}){return o.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!tO[e]||"opacity"===e)}function tR(e,t,i){let{style:r}=e,s={};for(let n in r)(e0(r[n])||t.style&&e0(t.style[n])||tP(n,e)||i?.getValue(n)?.liveStyle!==void 0)&&(s[n]=r[n]);return s}class tI extends tj{constructor(){super(...arguments),this.type="html",this.renderInstance=tC}readValueFromInstance(e,t){if(o.has(t))return this.projection?.isProjecting?m(t):b(e,t);{let i=window.getComputedStyle(e),r=(w(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return D(e,t)}build(e,t,i){tA(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return tR(e,t,i)}}let tL=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tN={offset:"stroke-dashoffset",array:"stroke-dasharray"},tD={offset:"strokeDashoffset",array:"strokeDasharray"};function t$(e,{attrX:t,attrY:i,attrScale:r,pathLength:s,pathSpacing:n=1,pathOffset:a=0,...o},l,u,c){if(tA(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:h,style:d}=e;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),void 0!==t&&(h.x=t),void 0!==i&&(h.y=i),void 0!==r&&(h.scale=r),void 0!==s&&function(e,t,i=1,r=0,s=!0){e.pathLength=1;let n=s?tN:tD;e[n.offset]=q.transform(-r);let a=q.transform(t),o=q.transform(i);e[n.array]=`${a} ${o}`}(h,s,n,a,!1)}let tM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tB=e=>"string"==typeof e&&"svg"===e.toLowerCase();function tU(e,t,i){let r=tR(e,t,i);for(let i in e)(e0(e[i])||e0(t[i]))&&(r[-1!==a.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return r}class tF extends tj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tu}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(o.has(t)){let e=eY(t);return e&&e.default||0}return t=tM.has(t)?t:tL(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return tU(e,t,i)}build(e,t,i){t$(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){!function(e,t,i,r){for(let i in tC(e,t,void 0,r),t.attrs)e.setAttribute(tM.has(i)?i:tL(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=tB(e.tagName),super.mount(e)}}let tz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tV(e){if("string"!=typeof e||e.includes("-"));else if(tz.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}var tW=i(85893),tq=i(25364);let tH=(0,n.createContext)({strict:!1});var tK=i(16014);let tJ=(0,n.createContext)({});function tG(e){return Array.isArray(e)?e.join(" "):e}let tY=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tX(e,t,i){for(let r in t)e0(t[r])||tP(r,i)||(e[r]=t[r])}let tZ=()=>({...tY(),attrs:{}}),tQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function t0(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tQ.has(e)}let t1=e=>!t0(e);try{s=require("@emotion/is-prop-valid").default,"function"==typeof s&&(t1=e=>e.startsWith("on")?!t0(e):s(e))}catch{}var t2=i(240),t6=i(96681);function t4(e){return e0(e)?e.get():e}let t5=e=>(t,i)=>{let r=(0,n.useContext)(tJ),s=(0,n.useContext)(t2.O),a=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},i,r,s){return{latestValues:function(e,t,i,r){let s={},n=r(e,{});for(let e in n)s[e]=t4(n[e]);let{initial:a,animate:o}=e,l=ty(e),u=tv(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let c=!!i&&!1===i.initial,h=(c=c||!1===a)?o:a;if(h&&"boolean"!=typeof h&&!tp(h)){let t=Array.isArray(h)?h:[h];for(let i=0;i<t.length;i++){let r=t_(e,t[i]);if(r){let{transitionEnd:e,transition:t,...i}=r;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(s[e]=t)}for(let t in e)s[t]=e[t]}}}return s}(i,r,s,e),renderState:t()}})(e,t,r,s);return i?a():(0,t6.h)(a)},t8=t5({scrapeMotionValuesFromProps:tR,createRenderState:tY}),t3=t5({scrapeMotionValuesFromProps:tU,createRenderState:tZ}),t9=Symbol.for("motionComponentSymbol");function t7(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let ie="data-"+tL("framerAppearId"),it=(0,n.createContext)({});var ii=i(58868);function ir(e,{forwardMotionProps:t=!1}={},i,r){i&&function(e){for(let t in e)tn[t]={...tn[t],...e[t]}}(i);let s=tV(e)?t3:t8;function a(i,a){var o;let l;let u={...(0,n.useContext)(tK._),...i,layoutId:function({layoutId:e}){let t=(0,n.useContext)(tq.p).id;return t&&void 0!==e?t+"-"+e:e}(i)},{isStatic:c}=u,h=function(e){let{initial:t,animate:i}=function(e,t){if(ty(e)){let{initial:t,animate:i}=e;return{initial:!1===t||tm(t)?t:void 0,animate:tm(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,n.useContext)(tJ));return(0,n.useMemo)(()=>({initial:t,animate:i}),[tG(t),tG(i)])}(i),d=s(i,c);if(!c&&tc.j){(0,n.useContext)(tH).strict;let t=function(e){let{drag:t,layout:i}=tn;if(!t&&!i)return{};let r={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(u);l=t.MeasureLayout,h.visualElement=function(e,t,i,r,s){let{visualElement:a}=(0,n.useContext)(tJ),o=(0,n.useContext)(tH),l=(0,n.useContext)(t2.O),u=(0,n.useContext)(tK._).reducedMotion,c=(0,n.useRef)(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:i,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:u}));let h=c.current,d=(0,n.useContext)(it);h&&!h.projection&&s&&("html"===h.type||"svg"===h.type)&&function(e,t,i,r){let{layoutId:s,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:s,layout:n,alwaysMeasureLayout:!!a||o&&t7(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}(c.current,i,s,d);let f=(0,n.useRef)(!1);(0,n.useInsertionEffect)(()=>{h&&f.current&&h.update(i,l)});let p=i[ie],m=(0,n.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return(0,ii.L)(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),m.current&&h.animationState&&h.animationState.animateChanges())}),(0,n.useEffect)(()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),m.current=!1),h.enteringChildren=void 0)}),h}(e,d,u,r,t.ProjectionNode)}return(0,tW.jsxs)(tJ.Provider,{value:h,children:[l&&h.visualElement?(0,tW.jsx)(l,{visualElement:h.visualElement,...u}):null,function(e,t,i,{latestValues:r},s,a=!1){let o=(tV(e)?function(e,t,i,r){let s=(0,n.useMemo)(()=>{let i=tZ();return t$(i,t,tB(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};tX(t,e.style,e),s.style={...t,...s.style}}return s}:function(e,t){let i={},r=function(e,t){let i=e.style||{},r={};return tX(r,i,e),Object.assign(r,function({transformTemplate:e},t){return(0,n.useMemo)(()=>{let i=tY();return tA(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),r}(e,t);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i})(t,r,s,e),l=function(e,t,i){let r={};for(let s in e)("values"!==s||"object"!=typeof e.values)&&(t1(s)||!0===i&&t0(s)||!t&&!t0(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(t,"string"==typeof e,a),u=e!==n.Fragment?{...l,...o,ref:i}:{},{children:c}=t,h=(0,n.useMemo)(()=>e0(c)?c.get():c,[c]);return(0,n.createElement)(e,{...u,children:h})}(e,i,(o=h.visualElement,(0,n.useCallback)(e=>{e&&d.onMount&&d.onMount(e),o&&(e?o.mount(e):o.unmount()),a&&("function"==typeof a?a(e):t7(a)&&(a.current=e))},[o])),d,c,t)]})}a.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let o=(0,n.forwardRef)(a);return o[t9]=e,o}function is(e,t,i){let r=e.getProps();return t_(r,t,void 0!==i?i:r.custom,e)}function ia(e,t){return e?.[t]??e?.default??e}let io=e=>Array.isArray(e);function il(e,t){let i=e.getValue("willChange");if(e0(i)&&i.add)return i.add(t);if(!i&&eo.WillChange){let i=new eo.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function iu(e){e.duration=0,e.type="keyframes"}let ic=(e,t)=>i=>t(e(i)),ih=(...e)=>e.reduce(ic),id=e=>1e3*e,ip=e=>e/1e3,im={layout:0,mainThread:0,waapi:0};function ig(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function ib(e,t){return i=>i>0?t:e}let iy=(e,t,i)=>{let r=e*e,s=i*(t*t-r)+r;return s<0?0:Math.sqrt(s)},iv=[eP,eO,eR],iw=e=>iv.find(t=>t.test(e));function i_(e){let t=iw(e);if(Z(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let i=t.parse(e);return t===eR&&(i=function({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,i/=100;let s=0,n=0,a=0;if(t/=100){let r=i<.5?i*(1+t):i+t-i*t,o=2*i-r;s=ig(o,r,e+1/3),n=ig(o,r,e),a=ig(o,r,e-1/3)}else s=n=a=i;return{red:Math.round(255*s),green:Math.round(255*n),blue:Math.round(255*a),alpha:r}}(i)),i}let ix=(e,t)=>{let i=i_(e),r=i_(t);if(!i||!r)return ib(e,t);let s={...i};return e=>(s.red=iy(i.red,r.red,e),s.green=iy(i.green,r.green,e),s.blue=iy(i.blue,r.blue,e),s.alpha=S(i.alpha,r.alpha,e),eO.transform(s))},ik=new Set(["none","hidden"]);function ij(e,t){return i=>S(e,t,i)}function iS(e){return"number"==typeof e?ij:"string"==typeof e?x(e)?ib:eI.test(e)?ix:iA:Array.isArray(e)?iT:"object"==typeof e?eI.test(e)?ix:iE:ib}function iT(e,t){let i=[...e],r=i.length,s=e.map((e,i)=>iS(e)(e,t[i]));return e=>{for(let t=0;t<r;t++)i[t]=s[t](e);return i}}function iE(e,t){let i={...e,...t},r={};for(let s in i)void 0!==e[s]&&void 0!==t[s]&&(r[s]=iS(e[s])(e[s],t[s]));return e=>{for(let t in r)i[t]=r[t](e);return i}}let iA=(e,t)=>{let i=ez.createTransformer(t),r=eM(e),s=eM(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ik.has(e)&&!s.values.length||ik.has(t)&&!r.values.length?ik.has(e)?i=>i<=0?e:t:i=>i>=1?t:e:ih(iT(function(e,t){let i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let n=t.types[s],a=e.indexes[n][r[n]],o=e.values[a]??0;i[s]=o,r[n]++}return i}(r,s),s.values),i):(Z(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ib(e,t))};function iC(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?S(e,t,i):iS(e)(e,t)}let iO=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>eh.update(t,e),stop:()=>ed(t),now:()=>ef.isProcessing?ef.timestamp:e2.now()}},iP=(e,t,i=10)=>{let r="",s=Math.max(Math.round(t/i),2);for(let t=0;t<s;t++)r+=Math.round(1e4*e(t/(s-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`};function iR(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}function iI(e,t,i){var r,s;let n=Math.max(t-5,0);return r=i-e(n),(s=t-n)?1e3/s*r:0}let iL={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function iN(e,t){return e*Math.sqrt(1-t*t)}let iD=["duration","bounce"],i$=["stiffness","damping","mass"];function iM(e,t){return t.some(t=>void 0!==e[t])}function iB(e=iL.visualDuration,t=iL.bounce){let i;let r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:s,restDelta:n}=r,a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t={velocity:iL.velocity,stiffness:iL.stiffness,damping:iL.damping,mass:iL.mass,isResolvedFromDuration:!1,...e};if(!iM(e,i$)&&iM(e,iD)){if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),r=i*i,s=2*M(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:iL.mass,stiffness:r,damping:s}}else{let i=function({duration:e=iL.duration,bounce:t=iL.bounce,velocity:i=iL.velocity,mass:r=iL.mass}){let s,n;Z(e<=id(iL.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=M(iL.minDamping,iL.maxDamping,a),e=M(iL.minDuration,iL.maxDuration,ip(e)),a<1?(s=t=>{let r=t*a,s=r*e;return .001-(r-i)/iN(t,a)*Math.exp(-s)},n=t=>{let r=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=iN(Math.pow(t,2),a);return(r*i+i-n)*Math.exp(-r)*(-s(t)+.001>0?-1:1)/o}):(s=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),n=t=>e*e*(i-t)*Math.exp(-t*e));let o=function(e,t,i){let r=i;for(let i=1;i<12;i++)r-=e(r)/t(r);return r}(s,n,5/e);if(e=id(e),isNaN(o))return{stiffness:iL.stiffness,damping:iL.damping,duration:e};{let t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...i,mass:iL.mass}).isResolvedFromDuration=!0}}return t}({...r,velocity:-ip(r.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(u*h)),b=o-a,y=ip(Math.sqrt(u/h)),v=5>Math.abs(b);if(s||(s=v?iL.restSpeed.granular:iL.restSpeed.default),n||(n=v?iL.restDelta.granular:iL.restDelta.default),g<1){let e=iN(y,g);i=t=>o-Math.exp(-g*y*t)*((m+g*y*b)/e*Math.sin(e*t)+b*Math.cos(e*t))}else if(1===g)i=e=>o-Math.exp(-y*e)*(b+(m+y*b)*e);else{let e=y*Math.sqrt(g*g-1);i=t=>{let i=Math.exp(-g*y*t),r=Math.min(e*t,300);return o-i*((m+g*y*b)*Math.sinh(r)+e*b*Math.cosh(r))/e}}let w={calculatedDuration:p&&d||null,next:e=>{let t=i(e);if(p)l.done=e>=d;else{let r=0===e?m:0;g<1&&(r=0===e?id(m):iI(i,e,t));let a=Math.abs(r)<=s,u=Math.abs(o-t)<=n;l.done=a&&u}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(iR(w),2e4),t=iP(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function iU({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){let h,d;let f=e[0],p={done:!1,value:f},m=e=>void 0!==o&&e<o||void 0!==l&&e>l,g=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,b=i*t,y=f+b,v=void 0===a?y:a(y);v!==y&&(b=v-f);let w=e=>-b*Math.exp(-e/r),_=e=>v+w(e),x=e=>{let t=w(e),i=_(e);p.done=Math.abs(t)<=u,p.value=p.done?v:i},k=e=>{m(p.value)&&(h=e,d=iB({keyframes:[p.value,g(p.value)],velocity:iI(_,e,p.value),damping:s,stiffness:n,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,x(e),k(e)),void 0!==h&&e>=h)?d.next(e-h):(t||x(e),p)}}}iB.applyToOptions=e=>{let t=function(e,t=100,i){let r=i({...e,keyframes:[0,t]}),s=Math.min(iR(r),2e4);return{type:"keyframes",ease:e=>r.next(s*e).value/t,duration:ip(s)}}(e,100,iB);return e.ease=t.ease,e.duration=id(t.duration),e.type="keyframes",e};let iF=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function iz(e,t,i,r){if(e===t&&i===r)return ea;let s=t=>(function(e,t,i,r,s){let n,a;let o=0;do(n=iF(a=t+(i-t)/2,r,s)-e)>0?i=a:t=a;while(Math.abs(n)>1e-7&&++o<12);return a})(t,0,1,e,i);return e=>0===e||1===e?e:iF(s(e),t,r)}let iV=iz(.42,0,1,1),iW=iz(0,0,.58,1),iq=iz(.42,0,.58,1),iH=e=>Array.isArray(e)&&"number"!=typeof e[0],iK=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iJ=e=>t=>1-e(1-t),iG=iz(.33,1.53,.69,.99),iY=iJ(iG),iX=iK(iY),iZ=e=>(e*=2)<1?.5*iY(e):.5*(2-Math.pow(2,-10*(e-1))),iQ=e=>1-Math.sin(Math.acos(e)),i0=iJ(iQ),i1=iK(iQ),i2=e=>Array.isArray(e)&&"number"==typeof e[0],i6={linear:ea,easeIn:iV,easeInOut:iq,easeOut:iW,circIn:iQ,circInOut:i1,circOut:i0,backIn:iY,backInOut:iX,backOut:iG,anticipate:iZ},i4=e=>"string"==typeof e,i5=e=>{if(i2(e)){Q(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,i,r,s]=e;return iz(t,i,r,s)}return i4(e)?(Q(void 0!==i6[e],`Invalid easing type '${e}'`,"invalid-easing-type"),i6[e]):e},i8=(e,t,i)=>{let r=t-e;return 0===r?1:(i-e)/r};function i3({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){let s=iH(r)?r.map(i5):i5(r),n={done:!1,value:t[0]},a=function(e,t,{clamp:i=!0,ease:r,mixer:s}={}){let n=e.length;if(Q(n===t.length,"Both input and output ranges must be the same length","range-length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,i){let r=[],s=i||eo.mix||iC,n=e.length-1;for(let i=0;i<n;i++){let n=s(e[i],e[i+1]);t&&(n=ih(Array.isArray(t)?t[i]||ea:t,n)),r.push(n)}return r}(t,r,s),l=o.length,u=i=>{if(a&&i<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(i<e[r+1]);r++);let s=i8(e[r],e[r+1],i);return o[r](s)};return i?t=>u(M(e[0],e[n-1],t)):u}((i&&i.length===t.length?i:function(e){let t=[0];return function(e,t){let i=e[e.length-1];for(let r=1;r<=t;r++){let s=i8(0,t,r);e.push(S(i,1,s))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(s)?s:t.map(()=>s||iq).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(n.value=a(t),n.done=t>=e,n)}}let i9=e=>null!==e;function i7(e,{repeat:t,repeatType:i="loop"},r,s=1){let n=e.filter(i9),a=s<0||t&&"loop"!==i&&t%2==1?0:n.length-1;return a&&void 0!==r?r:n[a]}let re={decay:iU,inertia:iU,tween:i3,keyframes:i3,spring:iB};function rt(e){"string"==typeof e.type&&(e.type=re[e.type])}class ri{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let rr=e=>e/100;class rs extends ri{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==e2.now()&&this.tick(e2.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},im.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;rt(e);let{type:t=i3,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:n=0}=e,{keyframes:a}=e,o=t||i3;o!==i3&&"number"!=typeof a[0]&&(this.mixKeyframes=ih(rr,iC(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=iR(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:n,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return i.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,v=i;if(c){let e=Math.min(this.currentTime,r)/a,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,c+1))%2&&("reverse"===h?(i=1-i,d&&(i-=d/a)):"mirror"===h&&(v=n)),y=M(0,1,i)*a}let w=b?{done:!1,value:u[0]}:v.next(y);s&&(w.value=s(w.value));let{done:_}=w;b||null===o||(_=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&_);return x&&f!==iU&&(w.value=i7(u,this.options,m,this.speed)),p&&p(w.value),x&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return ip(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+ip(e)}get time(){return ip(this.currentTime)}set time(e){e=id(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(e2.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ip(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=iO,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(e2.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,im.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}let rn=e=>e.startsWith("--");function ra(e){let t;return()=>(void 0===t&&(t=e()),t)}let ro=ra(()=>void 0!==window.ScrollTimeline),rl={},ru=function(e,t){let i=ra(e);return()=>rl[t]??i()}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),rc=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,rh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rc([0,.65,.55,1]),circOut:rc([.55,0,1,.45]),backIn:rc([.31,.01,.66,-.59]),backOut:rc([.33,1.53,.69,.99])};function rd(e){return"function"==typeof e&&"applyToOptions"in e}class rf extends ri{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:i,keyframes:r,pseudoElement:s,allowFlatten:n=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!s,this.allowFlatten=n,this.options=e,Q("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");let l=function({type:e,...t}){return rd(e)&&ru()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,i,{delay:r=0,duration:s=300,repeat:n=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u){let c={[t]:i};l&&(c.offset=l);let h=function e(t,i){if(t)return"function"==typeof t?ru()?iP(t,i):"ease-out":i2(t)?rc(t):Array.isArray(t)?t.map(t=>e(t,i)||rh.easeOut):rh[t]}(o,s);Array.isArray(h)&&(c.easing=h),eu.value&&im.waapi++;let d={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"};u&&(d.pseudoElement=u);let f=e.animate(c,d);return eu.value&&f.finished.finally(()=>{im.waapi--}),f}(t,i,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){let e=i7(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):rn(i)?t.style.setProperty(i,e):t.style[i]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return ip(Number(this.animation.effect?.getComputedTiming?.().duration||0))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+ip(e)}get time(){return ip(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=id(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ro())?(this.animation.timeline=e,ea):t(this)}}let rp={anticipate:iZ,backInOut:iX,circInOut:i1};class rm extends rf{constructor(e){"string"==typeof e.ease&&e.ease in rp&&(e.ease=rp[e.ease]),rt(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:i,onComplete:r,element:s,...n}=this.options;if(!t)return;if(void 0!==e){t.set(e);return}let a=new rs({...n,autoplay:!1}),o=id(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}let rg=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ez.test(e)||"0"===e)&&!e.startsWith("url(")),rb=new Set(["opacity","clipPath","filter","transform"]),ry=ra(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class rv extends ri{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:n="loop",keyframes:a,name:o,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=e2.now();let h={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:n,name:o,motionValue:l,element:u,...c},d=u?.KeyframeResolver||e_;this.keyframeResolver=new d(a,(e,t,i)=>this.onKeyframesResolved(e,t,h,!i),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;let{name:s,type:n,velocity:a,delay:o,isHandoff:l,onUpdate:u}=i;this.resolvedAt=e2.now(),!function(e,t,i,r){let s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=rg(s,t),o=rg(n,t);return Z(a===o,`You are trying to animate ${t} from "${s}" to "${n}". "${a?n:s}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||rd(i))&&r)}(e,s,n,a)&&((eo.instantAnimations||!o)&&u?.(i7(e,i,t)),e[0]=e[e.length-1],iu(i),i.repeat=0);let c={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},h=!l&&function(e){let{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:n,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return ry()&&i&&rb.has(i)&&("transform"!==i||!l)&&!o&&!r&&"mirror"!==s&&0!==n&&"inertia"!==a}(c)?new rm({...c,element:c.motionValue.owner.current}):new rs(c);h.finished.then(()=>this.notifyFinished()).catch(ea),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ey=!0,ew(),ev(),ey=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let rw=e=>null!==e,r_={type:"spring",stiffness:500,damping:25,restSpeed:10},rx=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),rk={type:"keyframes",duration:.8},rj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rS=(e,{keyframes:t})=>t.length>2?rk:o.has(e)?e.startsWith("scale")?rx(t[1]):r_:rj,rT=(e,t,i,r={},s,n)=>a=>{let o=ia(r,e)||{},l=o.delay||r.delay||0,{elapsed:u=0}=r;u-=id(l);let c={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:s};!function({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(o)&&Object.assign(c,rS(e,c)),c.duration&&(c.duration=id(c.duration)),c.repeatDelay&&(c.repeatDelay=id(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(iu(c),0!==c.delay||(h=!0)),(eo.instantAnimations||eo.skipAnimations)&&(h=!0,iu(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,h&&!n&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:i="loop"},r){let s=e.filter(rw),n=t&&"loop"!==i&&t%2==1?0:s.length-1;return s[n]}(c.keyframes,o);if(void 0!==e){eh.update(()=>{c.onUpdate(e),c.onComplete()});return}}return o.isSync?new rs(c):new rv(c)};function rE(e,t,{delay:i=0,transitionOverride:r,type:s}={}){let{transition:n=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(n=r);let l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(let t in o){let r=e.getValue(t,e.latestValues[t]??null),s=o[t];if(void 0===s||u&&function({protectedKeys:e,needsAnimating:t},i){let r=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,r}(u,t))continue;let a={delay:i,...ia(n||{},t)},c=r.get();if(void 0!==c&&!r.isAnimating&&!Array.isArray(s)&&s===c&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){let i=e.props[ie];if(i){let e=window.MotionHandoffAnimation(i,t,eh);null!==e&&(a.startTime=e,h=!0)}}il(e,t),r.start(rT(t,r,s,e.shouldReduceMotion&&$.has(t)?{type:!1}:a,e,h));let d=r.animation;d&&l.push(d)}return a&&Promise.all(l).then(()=>{eh.update(()=>{a&&function(e,t){let{transitionEnd:i={},transition:r={},...s}=is(e,t)||{};for(let t in s={...s,...i}){var n;let i=io(n=s[t])?n[n.length-1]||0:n;e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,e7(i))}}(e,a)})}),l}function rA(e,t,i,r=0,s=1){let n=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*r;return"function"==typeof i?i(n,a):1===s?n*r:o-n*r}function rC(e,t,i={}){let r=is(e,t,"exit"===i.type?e.presenceContext?.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(s=i.transitionOverride);let n=r?()=>Promise.all(rE(e,r,i)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,i=0,r=0,s=0,n=1,a){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(rC(l,t,{...a,delay:i+("function"==typeof r?0:r)+rA(e.variantChildren,l,r,s,n)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,n,a,o,i)}:()=>Promise.resolve(),{when:o}=s;if(!o)return Promise.all([n(),a(i.delay)]);{let[e,t]="beforeChildren"===o?[n,a]:[a,n];return e().then(()=>t())}}function rO(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}let rP=tb.length,rR=[...tg].reverse(),rI=tg.length;function rL(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rN(){return{animate:rL(!0),whileInView:rL(),whileHover:rL(),whileTap:rL(),whileDrag:rL(),whileFocus:rL(),exit:rL()}}class rD{constructor(e){this.isMounted=!1,this.node=e}update(){}}class r$ extends rD{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t))r=Promise.all(t.map(t=>rC(e,t,i)));else if("string"==typeof t)r=rC(e,t,i);else{let s="function"==typeof t?is(e,t,i.custom):t;r=Promise.all(rE(e,s,i))}return r.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=rN(),r=!0,s=t=>(i,r)=>{let s=is(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(s){let{transition:e,transitionEnd:t,...r}=s;i={...i,...r,...t}}return i};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<rP;e++){let r=tb[e],s=t.props[r];(tm(s)||!1===s)&&(i[r]=s)}return i}(e.parent)||{},l=[],u=new Set,c={},h=1/0;for(let t=0;t<rI;t++){var d;let f=rR[t],p=i[f],m=void 0!==a[f]?a[f]:o[f],g=tm(m),b=f===n?p.isActive:null;!1===b&&(h=t);let y=m===o[f]&&m!==a[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...c},!p.isActive&&null===b||!m&&!p.prevProp||tp(m)||"boolean"==typeof m)continue;let v=(d=p.prevProp,"string"==typeof m?m!==d:!!Array.isArray(m)&&!rO(m,d)),w=v||f===n&&p.isActive&&!y&&g||t>h&&g,_=!1,x=Array.isArray(m)?m:[m],k=x.reduce(s(f),{});!1===b&&(k={});let{prevResolvedValues:j={}}=p,S={...j,...k},T=t=>{w=!0,u.has(t)&&(_=!0,u.delete(t)),p.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in S){let t=k[e],i=j[e];if(!c.hasOwnProperty(e))(io(t)&&io(i)?rO(t,i):t===i)?void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0:null!=t?T(e):u.add(e)}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(c={...c,...k}),r&&e.blockInitialAnimation&&(w=!1);let E=y&&v,A=!E||_;w&&A&&l.push(...x.map(t=>{let i={type:f};if("string"==typeof t&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,s=is(r,t);if(r.enteringChildren&&s){let{delayChildren:t}=s.transition||{};i.delay=rA(r.enteringChildren,e,t)}}return{animation:t,options:i}}))}if(u.size){let t={};if("boolean"!=typeof a.initial){let i=is(e,Array.isArray(a.initial)?a.initial[0]:a.initial);i&&i.transition&&(t.transition=i.transition)}u.forEach(i=>{let r=e.getBaseTarget(i),s=e.getValue(i);s&&(s.liveStyle=!0),t[i]=r??null}),l.push({animation:t})}let f=!!l.length;return r&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,r){if(i[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),i[t].isActive=r;let s=n(t);for(let e in i)i[e].protectedKeys={};return s},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=rN(),r=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rM=0;class rB extends rD{constructor(){super(...arguments),this.id=rM++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}let rU={x:!1,y:!1};function rF(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}let rz=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function rV(e){return{point:{x:e.pageX,y:e.pageY}}}let rW=e=>t=>rz(t)&&e(t,rV(t));function rq(e,t,i,r){return rF(e,t,rW(i),r)}function rH(e){return e.max-e.min}function rK(e,t,i,r=.5){e.origin=r,e.originPoint=S(t.min,t.max,e.origin),e.scale=rH(i)/rH(t),e.translate=S(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function rJ(e,t,i,r){rK(e.x,t.x,i.x,r?r.originX:void 0),rK(e.y,t.y,i.y,r?r.originY:void 0)}function rG(e,t,i){e.min=i.min+t.min,e.max=e.min+rH(t)}function rY(e,t,i){e.min=t.min-i.min,e.max=e.min+rH(t)}function rX(e,t,i){rY(e.x,t.x,i.x),rY(e.y,t.y,i.y)}function rZ(e){return[e("x"),e("y")]}let rQ=({current:e})=>e?e.ownerDocument.defaultView:null,r0=(e,t)=>Math.abs(e-t);class r1{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:n=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=r4(this.lastMoveEventInfo,this.history),r=null!==this.startEvent,s=(e=i.offset,t={x:0,y:0},Math.sqrt(r0(e.x,t.x)**2+r0(e.y,t.y)**2)>=this.distanceThreshold);if(!r&&!s)return;let{point:n}=i,{timestamp:a}=ef;this.history.push({...n,timestamp:a});let{onStart:o,onMove:l}=this.handlers;r||(o&&o(this.lastMoveEvent,i),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,i)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=r2(t,this.transformPagePoint),eh.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=r4("pointercancel"===e.type?this.lastMoveEventInfo:r2(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,n),r&&r(e,n)},!rz(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=n,this.contextWindow=r||window;let a=r2(rV(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=ef;this.history=[{...o,timestamp:l}];let{onSessionStart:u}=t;u&&u(e,r4(a,this.history)),this.removeListeners=ih(rq(this.contextWindow,"pointermove",this.handlePointerMove),rq(this.contextWindow,"pointerup",this.handlePointerUp),rq(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ed(this.updatePoint)}}function r2(e,t){return t?{point:t(e.point)}:e}function r6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function r4({point:e},t){return{point:e,delta:r6(e,r5(t)),offset:r6(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null,s=r5(e);for(;i>=0&&(r=e[i],!(s.timestamp-r.timestamp>id(.1)));)i--;if(!r)return{x:0,y:0};let n=ip(s.timestamp-r.timestamp);if(0===n)return{x:0,y:0};let a={x:(s.x-r.x)/n,y:(s.y-r.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function r5(e){return e[e.length-1]}function r8(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function r3(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function r9(e,t,i){return{min:r7(e,t),max:r7(e,i)}}function r7(e,t){return"number"==typeof e?e:e[t]||0}let se=new WeakMap;class st{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tu(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let{dragSnapToOrigin:s}=this.getProps();this.panSession=new r1(e,{onSessionStart:e=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(rV(e).point)},onStart:(e,t)=>{let{drag:i,dragPropagation:r,onDragStart:s}=this.getProps();if(i&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===i||"y"===i?rU[i]?null:(rU[i]=!0,()=>{rU[i]=!1}):rU.x||rU.y?null:(rU.x=rU.y=!0,()=>{rU.x=rU.y=!1}),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rZ(e=>{let t=this.getAxisMotionValue(e).get()||0;if(W.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let r=i.layout.layoutBox[e];if(r){let e=rH(r);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),s&&eh.postRender(()=>s(e,t)),il(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:i,dragDirectionLock:r,onDirectionLock:s,onDrag:n}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:a}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(a),null!==this.currentDirection&&s&&s(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&n(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>rZ(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:i,contextWindow:rQ(this.visualElement)})}stop(e,t){let i=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;let{velocity:n}=r;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&eh.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){let{drag:r}=this.getProps();if(!i||!si(e,r,this.currentDirection))return;let s=this.getAxisMotionValue(e),n=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:i},r){return void 0!==t&&e<t?e=r?S(t,e,r.min):Math.max(e,t):void 0!==i&&e>i&&(e=r?S(i,e,r.max):Math.min(e,i)),e}(n,this.constraints[e],this.elastic[e])),s.set(n)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&t7(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=function(e,{top:t,left:i,bottom:r,right:s}){return{x:r8(e.x,i,s),y:r8(e.y,t,r)}}(i.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:r9(e,"left","right"),y:r9(e,"top","bottom")}}(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rZ(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let i={};return void 0!==t.min&&(i.min=t.min-e.min),void 0!==t.max&&(i.max=t.max-e.min),i}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!t7(t))return!1;let r=t.current;Q(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:s}=this.visualElement;if(!s||!s.layout)return!1;let n=function(e,t,i){let r=D(e,i),{scroll:s}=t;return s&&(I(r.x,s.offset.x),I(r.y,s.offset.y)),r}(r,s.root,this.visualElement.getTransformPagePoint()),a={x:r3((e=s.layout.layoutBox).x,n.x),y:r3(e.y,n.y)};if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=j(e))}return a}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(rZ(a=>{if(!si(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let u={type:"inertia",velocity:i?e[a]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return il(this.visualElement,e),i.start(rT(e,i,0,t,this.visualElement,!1))}stopAnimation(){rZ(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rZ(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){rZ(t=>{let{drag:i}=this.getProps();if(!si(t,i,this.currentDirection))return;let{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){let{min:i,max:n}=r.layout.layoutBox[t];s.set(e[t]-S(i,n,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!t7(t)||!i||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};rZ(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let i=t.get();r[e]=function(e,t){let i=.5,r=rH(e),s=rH(t);return s>r?i=i8(t.min,t.max-r,e.min):r>s&&(i=i8(e.min,e.max-s,t.min)),M(0,1,i)}({min:i,max:i},this.constraints[e])}});let{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),rZ(t=>{if(!si(t,e,null))return;let i=this.getAxisMotionValue(t),{min:s,max:n}=this.constraints[t];i.set(S(s,n,r[t]))})}addListeners(){if(!this.visualElement.current)return;se.set(this.visualElement,this);let e=rq(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:i=!0}=this.getProps();t&&i&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();t7(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",t);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),eh.read(t);let s=rF(window,"resize",()=>this.scalePositionWithinConstraints()),n=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(rZ(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:n,dragMomentum:a}}}function si(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}class sr extends rD{constructor(e){super(e),this.removeGroupControls=ea,this.removeListeners=ea,this.controls=new st(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ea}unmount(){this.removeGroupControls(),this.removeListeners()}}let ss=e=>(t,i)=>{e&&eh.postRender(()=>e(t,i))};class sn extends rD{constructor(){super(...arguments),this.removePointerDownListener=ea}onPointerDown(e){this.session=new r1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rQ(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:ss(e),onStart:ss(t),onMove:i,onEnd:(e,t)=>{delete this.session,r&&eh.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=rq(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var sa=i(15947);let so={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sl(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let su={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!q.test(e))return e;e=parseFloat(e)}let i=sl(e,t.target.x),r=sl(e,t.target.y);return`${i}% ${r}%`}},sc=!1;class sh extends n.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;!function(e){for(let t in e)tO[t]=e[t],w(t)&&(tO[t].isCSSVariable=!0)}(sf),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),sc&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),so.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,{projection:n}=i;return n&&(n.isPresent=s,sc=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?n.willUpdate():this.safeToRemove(),e.isPresent===s||(s?n.promote():n.relegate()||eh.postRender(()=>{let e=n.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ti.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;sc=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sd(e){let[t,i]=(0,sa.oO)(),r=(0,n.useContext)(tq.p);return(0,tW.jsx)(sh,{...e,layoutGroup:r,switchLayoutGroup:(0,n.useContext)(it),isPresent:t,safeToRemove:i})}let sf={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let r=ez.parse(e);if(r.length>5)return e;let s=ez.createTransformer(e),n="number"!=typeof r[0]?1:0,a=i.x.scale*t.x,o=i.y.scale*t.y;r[0+n]/=a,r[1+n]/=o;let l=S(a,o,.5);return"number"==typeof r[2+n]&&(r[2+n]/=l),"number"==typeof r[3+n]&&(r[3+n]/=l),s(r)}}};var sp=i(36464);function sm(e){return(0,sp.K)(e)&&"ownerSVGElement"in e}let sg=(e,t)=>e.depth-t.depth;class sb{constructor(){this.children=[],this.isDirty=!1}add(e){e6(this.children,e),this.isDirty=!0}remove(e){e4(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sg),this.isDirty=!1,this.children.forEach(e)}}let sy=["TopLeft","TopRight","BottomLeft","BottomRight"],sv=sy.length,sw=e=>"string"==typeof e?parseFloat(e):e,s_=e=>"number"==typeof e||q.test(e);function sx(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let sk=sS(0,.5,i0),sj=sS(.5,.95,ea);function sS(e,t,i){return r=>r<e?0:r>t?1:i(i8(e,t,r))}function sT(e,t){e.min=t.min,e.max=t.max}function sE(e,t){sT(e.x,t.x),sT(e.y,t.y)}function sA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sC(e,t,i,r,s){return e-=t,e=r+1/i*(e-r),void 0!==s&&(e=r+1/s*(e-r)),e}function sO(e,t,[i,r,s],n,a){!function(e,t=0,i=1,r=.5,s,n=e,a=e){if(W.test(t)&&(t=parseFloat(t),t=S(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=S(n.min,n.max,r);e===n&&(o-=t),e.min=sC(e.min,t,i,o,s),e.max=sC(e.max,t,i,o,s)}(e,t[i],t[r],t[s],t.scale,n,a)}let sP=["x","scaleX","originX"],sR=["y","scaleY","originY"];function sI(e,t,i,r){sO(e.x,t,sP,i?i.x:void 0,r?r.x:void 0),sO(e.y,t,sR,i?i.y:void 0,r?r.y:void 0)}function sL(e){return 0===e.translate&&1===e.scale}function sN(e){return sL(e.x)&&sL(e.y)}function sD(e,t){return e.min===t.min&&e.max===t.max}function s$(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sM(e,t){return s$(e.x,t.x)&&s$(e.y,t.y)}function sB(e){return rH(e.x)/rH(e.y)}function sU(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sF{constructor(){this.members=[]}add(e){e6(this.members,e),e.scheduleRender()}remove(e){if(e4(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let sz={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},sV=["","X","Y","Z"],sW=0;function sq(e,t,i,r){let{latestValues:s}=t;s[e]&&(i[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function sH({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(e={},i=t?.()){this.id=sW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,eu.value&&(sz.nodes=sz.calculatedTargetDeltas=sz.calculatedProjections=0),this.nodes.forEach(sG),this.nodes.forEach(s2),this.nodes.forEach(s6),this.nodes.forEach(sY),eu.addProjectionMetrics&&eu.addProjectionMetrics(sz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new sb)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new e5),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=sm(t)&&!(sm(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:i,layout:r,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||i)&&(this.isLayoutDirty=!0),e){let i;let r=0,s=()=>this.root.updateBlockedByResize=!1;eh.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,i&&i(),i=function(e,t){let i=e2.now(),r=({timestamp:t})=>{let s=t-i;s>=250&&(ed(r),e(s-250))};return eh.setup(r,!0),()=>ed(r)}(s,0),so.hasAnimatedSinceResize&&(so.hasAnimatedSinceResize=!1,this.nodes.forEach(s1)))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||s.getDefaultTransition()||s7,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!sM(this.targetLayout,r),u=!t&&i;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...ia(n,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||s1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ed(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s4),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let r=i.props[ie];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",eh,!(e||i))}let{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&e(s)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sZ);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sQ);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s0),this.nodes.forEach(sK),this.nodes.forEach(sJ)):this.nodes.forEach(sQ),this.clearAllSnapshots();let e=e2.now();ef.delta=M(0,1e3/60,e-ef.timestamp),ef.timestamp=e,ef.isProcessing=!0,ep.update.process(ef),ep.preRender.process(ef),ep.render.process(ef),ef.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ti.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sX),this.sharedNodes.forEach(s5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,eh.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){eh.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),!this.snapshot||rH(this.snapshot.measuredBox.x)||rH(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tu(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!sN(this.projectionDelta),i=this.getTransformTemplate(),r=i?i(this.latestValues,""):void 0,n=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||A(this.latestValues)||n)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),r=this.removeElementScroll(i);return e&&(r=this.removeTransform(r)),ni((t=r).x),ni(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return tu();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ns))){let{scroll:e}=this.root;e&&(I(t.x,e.offset.x),I(t.y,e.offset.y))}return t}removeElementScroll(e){let t=tu();if(sE(t,e),this.scroll?.wasRoot)return t;for(let i=0;i<this.path.length;i++){let r=this.path[i],{scroll:s,options:n}=r;r!==this.root&&s&&n.layoutScroll&&(s.wasRoot&&sE(t,e),I(t.x,s.offset.x),I(t.y,s.offset.y))}return t}applyTransform(e,t=!1){let i=tu();sE(i,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&N(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),A(r.latestValues)&&N(i,r.latestValues)}return A(this.latestValues)&&N(i,this.latestValues),i}removeTransform(e){let t=tu();sE(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!A(i.latestValues))continue;E(i.latestValues)&&i.updateSnapshot();let r=tu();sE(r,i.measurePageBox()),sI(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,r)}return A(this.latestValues)&&sI(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ef.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let i=!!this.resumingFrom||this!==t;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=ef.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tu(),this.relativeTargetOrigin=tu(),rX(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),sE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=tu(),this.targetWithTransforms=tu()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var n,a,o;this.forceRelativeParentToResolveTarget(),n=this.target,a=this.relativeTarget,o=this.relativeParent.target,rG(n.x,a.x,o.x),rG(n.y,a.y,o.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sE(this.target,this.layout.layoutBox),R(this.target,this.targetDelta)):sE(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tu(),this.relativeTargetOrigin=tu(),rX(this.relativeTargetOrigin,this.target,e.target),sE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}eu.value&&sz.calculatedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||E(this.parent.latestValues)||C(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,i=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(i=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===ef.timestamp&&(i=!1),i)return;let{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||s))return;sE(this.layoutCorrected,this.layout.layoutBox);let n=this.treeScale.x,a=this.treeScale.y;!function(e,t,i,r=!1){let s,n;let a=i.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(s=i[o]).projectionDelta;let{visualElement:a}=s.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&N(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,R(e,n)),r&&A(s.latestValues)&&N(e,s.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=tu());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(sA(this.prevProjectionDelta.x,this.projectionDelta.x),sA(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),rJ(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===n&&this.treeScale.y===a&&sU(this.projectionDelta.x,this.prevProjectionDelta.x)&&sU(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),eu.value&&sz.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=to(),this.projectionDelta=to(),this.projectionDeltaWithTransform=to()}setAnimationOrigin(e,t=!1){let i;let r=this.snapshot,s=r?r.latestValues:{},n={...this.latestValues},a=to();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=tu(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(s9));this.animationProgress=0,this.mixTargetDelta=t=>{let r=t/1e3;if(s8(a.x,e.x,r),s8(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,f,p;rX(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,s3(f.x,p.x,o.x,r),s3(f.y,p.y,o.y,r),i&&(u=this.relativeTarget,d=i,sD(u.x,d.x)&&sD(u.y,d.y))&&(this.isProjectionDirty=!1),i||(i=tu()),sE(i,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,i,r,s,n){s?(e.opacity=S(0,i.opacity??1,sk(r)),e.opacityExit=S(t.opacity??1,0,sj(r))):n&&(e.opacity=S(t.opacity??1,i.opacity??1,r));for(let s=0;s<sv;s++){let n=`border${sy[s]}Radius`,a=sx(t,n),o=sx(i,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||s_(a)===s_(o)?(e[n]=Math.max(S(sw(a),sw(o),r),0),(W.test(o)||W.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||i.rotate)&&(e.rotate=S(t.rotate||0,i.rotate||0,r))}(n,s,this.latestValues,r,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ed(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eh.update(()=>{so.hasAnimatedSinceResize=!0,im.layout++,this.motionValue||(this.motionValue=e7(0)),this.currentAnimation=function(e,t,i){let r=e0(e)?e:e7(e);return r.start(rT("",r,t,i)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{im.layout--},onComplete:()=>{im.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:r,latestValues:s}=e;if(t&&i&&r){if(this!==e&&this.layout&&r&&nr(this.options.animationType,this.layout.layoutBox,r.layoutBox)){i=this.target||tu();let t=rH(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let r=rH(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+r}sE(t,i),N(t,s),rJ(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new sF),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let r=this.getStack();r&&r.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let r={};i.z&&sq("z",e,r,this.animationValues);for(let t=0;t<sV.length;t++)sq(`rotate${sV[t]}`,e,r,this.animationValues),sq(`skew${sV[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let i=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=t4(t?.pointerEvents)||"",e.transform=i?i(this.latestValues,""):"none";return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=t4(t?.pointerEvents)||""),this.hasProjected&&!A(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1);return}e.visibility="";let s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let n=function(e,t,i){let r="",s=e.x.translate/t.x,n=e.y.translate/t.y,a=i?.z||0;if((s||n||a)&&(r=`translate3d(${s}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:s,rotateY:n,skewX:a,skewY:o}=i;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),n&&(r+=`rotateY(${n}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);i&&(n=i(s,n)),e.transform=n;let{x:a,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,tO){if(void 0===s[t])continue;let{correct:i,applyTo:a,isCSSVariable:o}=tO[t],l="none"===n?s[t]:i(s[t],r);if(a){let t=a.length;for(let i=0;i<t;i++)e[a[i]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=r===this?t4(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(sZ),this.root.sharedNodes.clear()}}}function sK(e){e.updateLayout()}function sJ(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:i,measuredBox:r}=e.layout,{animationType:s}=e.options,n=t.source!==e.layout.source;"size"===s?rZ(e=>{let r=n?t.measuredBox[e]:t.layoutBox[e],s=rH(r);r.min=i[e].min,r.max=r.min+s}):nr(s,t.layoutBox,i)&&rZ(r=>{let s=n?t.measuredBox[r]:t.layoutBox[r],a=rH(i[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});let a=to();rJ(a,i,t.layoutBox);let o=to();n?rJ(o,e.applyTransform(r,!0),t.measuredBox):rJ(o,i,t.layoutBox);let l=!sN(a),u=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:s,layout:n}=r;if(s&&n){let a=tu();rX(a,t.layoutBox,s.layoutBox);let o=tu();rX(o,i,n.layoutBox),sM(a,o)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function sG(e){eu.value&&sz.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sX(e){e.clearSnapshot()}function sZ(e){e.clearMeasurements()}function sQ(e){e.isLayoutDirty=!1}function s0(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function s1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function s2(e){e.resolveTargetDelta()}function s6(e){e.calcProjection()}function s4(e){e.resetSkewAndRotation()}function s5(e){e.removeLeadSnapshot()}function s8(e,t,i){e.translate=S(t.translate,0,i),e.scale=S(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function s3(e,t,i,r){e.min=S(t.min,i.min,r),e.max=S(t.max,i.max,r)}function s9(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let s7={duration:.45,ease:[.4,0,.1,1]},ne=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nt=ne("applewebkit/")&&!ne("chrome/")?Math.round:ea;function ni(e){e.min=nt(e.min),e.max=nt(e.max)}function nr(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(sB(t)-sB(i)))}function ns(e){return e!==e.root&&e.scroll?.wasRoot}let nn=sH({attachResizeListener:(e,t)=>rF(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),na={current:void 0},no=sH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!na.current){let e=new nn({});e.mount(window),e.setOptions({layoutScroll:!0}),na.current=e}return na.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function nl(e,t){let i=function(e,t,i){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,i=(void 0)??t.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[i,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function nu(e){return!("touch"===e.pointerType||rU.x||rU.y)}function nc(e,t,i){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===i);let s=r["onHover"+i];s&&eh.postRender(()=>s(t,rV(t)))}class nh extends rD{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[r,s,n]=nl(e,i),a=e=>{if(!nu(e))return;let{target:i}=e,r=t(i,e);if("function"!=typeof r||!i)return;let n=e=>{nu(e)&&(r(e),i.removeEventListener("pointerleave",n))};i.addEventListener("pointerleave",n,s)};return r.forEach(e=>{e.addEventListener("pointerenter",a,s)}),n}(e,(e,t)=>(nc(this.node,t,"Start"),e=>nc(this.node,e,"End"))))}unmount(){}}class nd extends rD{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ih(rF(this.node.current,"focus",()=>this.onFocus()),rF(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}var nf=i(93243);let np=(e,t)=>!!t&&(e===t||np(e,t.parentElement)),nm=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),ng=new WeakSet;function nb(e){return t=>{"Enter"===t.key&&e(t)}}function ny(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let nv=(e,t)=>{let i=e.currentTarget;if(!i)return;let r=nb(()=>{if(ng.has(i))return;ny(i,"down");let e=nb(()=>{ny(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>ny(i,"cancel"),t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function nw(e){return rz(e)&&!(rU.x||rU.y)}function n_(e,t,i){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===i);let s=r["onTap"+("End"===i?"":i)];s&&eh.postRender(()=>s(t,rV(t)))}class nx extends rD{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[r,s,n]=nl(e,i),a=e=>{let r=e.currentTarget;if(!nw(e))return;ng.add(r);let n=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),ng.has(r)&&ng.delete(r),nw(e)&&"function"==typeof n&&n(e,{success:t})},o=e=>{a(e,r===window||r===document||i.useGlobalTarget||np(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{(i.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),(0,nf.R)(e)&&(e.addEventListener("focus",e=>nv(e,s)),nm.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}(e,(e,t)=>(n_(this.node,t,"Start"),(e,{success:t})=>n_(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let nk=new WeakMap,nj=new WeakMap,nS=e=>{let t=nk.get(e.target);t&&t(e)},nT=e=>{e.forEach(nS)},nE={some:0,all:1};class nA extends rD{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,n={root:t?t.current:void 0,rootMargin:i,threshold:"number"==typeof r?r:nE[r]};return function(e,t,i){let r=function({root:e,...t}){let i=e||document;nj.has(i)||nj.set(i,{});let r=nj.get(i),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(nT,{root:e,...t})),r[s]}(t);return nk.set(e,i),r.observe(e),()=>{nk.delete(e),r.unobserve(e)}}(this.node.current,n,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,s&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:r}=this.node.getProps(),n=t?i:r;n&&n(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}let nC=function(e,t){if("undefined"==typeof Proxy)return ir;let i=new Map,r=(i,r)=>ir(i,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(s,n)=>"create"===n?r:(i.has(n)||i.set(n,ir(n,void 0,e,t)),i.get(n))})}({animation:{Feature:r$},exit:{Feature:rB},inView:{Feature:nA},tap:{Feature:nx},focus:{Feature:nd},hover:{Feature:nh},pan:{Feature:sn},drag:{Feature:sr,ProjectionNode:no,MeasureLayout:sd},layout:{ProjectionNode:no,MeasureLayout:sd}},(e,t)=>tV(e)?new tF(t):new tI(t,{allowProjection:e!==n.Fragment}))},11741:function(e,t,i){"use strict";i.d(t,{j:function(){return r}});let r="undefined"!=typeof window},96681:function(e,t,i){"use strict";i.d(t,{h:function(){return s}});var r=i(67294);function s(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},58868:function(e,t,i){"use strict";i.d(t,{L:function(){return s}});var r=i(67294);let s=i(11741).j?r.useLayoutEffect:r.useEffect},93243:function(e,t,i){"use strict";i.d(t,{R:function(){return s}});var r=i(36464);function s(e){return(0,r.K)(e)&&"offsetHeight"in e}},36464:function(e,t,i){"use strict";function r(e){return"object"==typeof e&&null!==e}i.d(t,{K:function(){return r}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(91118),t(43079)}),_N_E=e.O()}]);