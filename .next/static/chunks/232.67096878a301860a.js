"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{56232:function(t,n,o){o.r(n),o.d(n,{logUserActivity:function(){return a}});var i=o(77366);async function a(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let a=await fetch("https://api.ipify.org?format=json"),{ip:e}=await a.json(),r=await fetch("https://ipapi.co/".concat(e,"/json/")),c=await r.json(),s=(null==c?void 0:c.city)||"Unknown",l=(null==c?void 0:c.region)||"Unknown",u=(null==c?void 0:c.country_name)||"Unknown",{error:f}=await i.O.from("user_activity").insert([{user_id:t,event:n,description:o,ip:e,city:s,region:l,country:u}]);f&&console.error("Failed to log user activity:",f.message)}catch(t){console.error("Error logging user activity:",t)}}}}]);